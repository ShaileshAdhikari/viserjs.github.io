!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="http://localhost:3000/build/",__webpack_require__(__webpack_require__.s=3001)}({111:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return supportD3Formatter});var __WEBPACK_IMPORTED_MODULE_0_d3_format__=__webpack_require__(280),__WEBPACK_IMPORTED_MODULE_1_lodash__=__webpack_require__(32),supportD3Formatter=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__),function(obj){var objFormatter=__WEBPACK_IMPORTED_MODULE_1_lodash__.get(obj,"formatter");if(__WEBPACK_IMPORTED_MODULE_1_lodash__.isString(objFormatter))return obj.formatter=function(val){return __WEBPACK_IMPORTED_MODULE_0_d3_format__.a(objFormatter)(val)},obj;for(var item in obj)!function(item){if(obj.hasOwnProperty(item)){var formatter_1=__WEBPACK_IMPORTED_MODULE_1_lodash__.get(obj[item],"formatter");__WEBPACK_IMPORTED_MODULE_1_lodash__.isString(formatter_1)&&(obj[item].formatter=function(val){return __WEBPACK_IMPORTED_MODULE_0_d3_format__.a(formatter_1)(val)})}}(item);return obj})},112:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}},113:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return registerShape}),__webpack_require__.d(__webpack_exports__,"a",function(){return registerAnimation});var G2=__webpack_require__(97),registerShape=function(geoName,shapeName,shapeFun){G2.Shape.registerShape(geoName,shapeName,shapeFun)},registerAnimation=function(animationType,animationName,animationFun){G2.Animate.registerAnimation(animationType,animationName,animationFun)}},168:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__exponent__=__webpack_require__(96),__WEBPACK_IMPORTED_MODULE_1__formatGroup__=__webpack_require__(282),__WEBPACK_IMPORTED_MODULE_2__formatNumerals__=__webpack_require__(283),__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_4__formatTrim__=__webpack_require__(284),__WEBPACK_IMPORTED_MODULE_5__formatTypes__=__webpack_require__(285),__WEBPACK_IMPORTED_MODULE_6__formatPrefixAuto__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_7__identity__=__webpack_require__(287),prefixes=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];__webpack_exports__.a=function(locale){function newFormat(specifier){function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{value=+value;var valueNegative=value<0;if(value=formatType(Math.abs(value),precision),trim&&(value=Object(__WEBPACK_IMPORTED_MODULE_4__formatTrim__.a)(value)),valueNegative&&0==+value&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:"-":"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+__WEBPACK_IMPORTED_MODULE_6__formatPrefixAuto__.b/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}specifier=Object(__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__.a)(specifier);var fill=specifier.fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):__WEBPACK_IMPORTED_MODULE_5__formatTypes__.a[type]||(null==precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currency[0]:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currency[1]:/[%p]/.test(type)?percent:"",formatType=__WEBPACK_IMPORTED_MODULE_5__formatTypes__.a[type],maybeSuffix=/[defgprs%]/.test(type);return precision=null==precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}function formatPrefix(specifier,value){var f=newFormat((specifier=Object(__WEBPACK_IMPORTED_MODULE_3__formatSpecifier__.a)(specifier),specifier.type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(Object(__WEBPACK_IMPORTED_MODULE_0__exponent__.a)(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}var group=locale.grouping&&locale.thousands?Object(__WEBPACK_IMPORTED_MODULE_1__formatGroup__.a)(locale.grouping,locale.thousands):__WEBPACK_IMPORTED_MODULE_7__identity__.a,currency=locale.currency,decimal=locale.decimal,numerals=locale.numerals?Object(__WEBPACK_IMPORTED_MODULE_2__formatNumerals__.a)(locale.numerals):__WEBPACK_IMPORTED_MODULE_7__identity__.a,percent=locale.percent||"%";return{format:newFormat,formatPrefix:formatPrefix}}},169:function(module,__webpack_exports__,__webpack_require__){"use strict";function formatSpecifier(specifier){return new FormatSpecifier(specifier)}function FormatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;this.fill=match[1]||" ",this.align=match[2]||">",this.sign=match[3]||"-",this.symbol=match[4]||"",this.zero=!!match[5],this.width=match[6]&&+match[6],this.comma=!!match[7],this.precision=match[8]&&+match[8].slice(1),this.trim=!!match[9],this.type=match[10]||""}__webpack_exports__.a=formatSpecifier;var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},170:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return prefixExponent});var prefixExponent,__WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(112);__webpack_exports__.a=function(x,p){var d=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,Math.max(0,p+i-1))[0]}},278:function(module,__webpack_exports__,__webpack_require__){"use strict";function firstUpperCase(str){return str.toLowerCase().replace(/( |^)[a-z]/g,function(L){return L.toUpperCase()})}var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__components_setAxisConfig__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(279)),__WEBPACK_IMPORTED_MODULE_2__components_setCoordConfig__=__webpack_require__(291),__WEBPACK_IMPORTED_MODULE_3__components_setFilterConfig__=__webpack_require__(293),__WEBPACK_IMPORTED_MODULE_4__components_setGuideConfig__=__webpack_require__(294),__WEBPACK_IMPORTED_MODULE_5__components_setLegendConfig__=__webpack_require__(295),__WEBPACK_IMPORTED_MODULE_6__components_setScaleConfig__=__webpack_require__(296),__WEBPACK_IMPORTED_MODULE_7__components_setSeriesConfig__=__webpack_require__(297),__WEBPACK_IMPORTED_MODULE_8__components_setTooltipConfig__=__webpack_require__(299),__WEBPACK_IMPORTED_MODULE_9__shapes_loadShapes__=__webpack_require__(300),__WEBPACK_IMPORTED_MODULE_10__utils_EventUtils__=__webpack_require__(63),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},G2=__webpack_require__(97),Brush=__webpack_require__(303),CommonChart=function(){function CommonChart(config){this.viewInstance={},this.config=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config),this.checkChartConfig(this.config),this.chartInstance=new G2.Chart(this.config.chart)}return CommonChart.prototype.getWidth=function(){return this.chartInstance.get("width")},CommonChart.prototype.getHeight=function(){return this.chartInstance.get("height")},CommonChart.prototype.render=function(){var config=this.config,chart=this.chartInstance;Object(__WEBPACK_IMPORTED_MODULE_9__shapes_loadShapes__.a)(),this.setEvents(chart,config),this.setDataSource(chart,config.data),this.setCoord(chart,config),this.setTooltip(chart,config),this.setAxis(chart,config),this.setContent(chart,config),this.setLegend(chart,config),this.setViews(chart,config),this.setFacet(chart,config),chart.render(),this.setDefaultTooltip(chart,config),this.setBrush(chart,config)},CommonChart.prototype.repaint=function(config){var newConfig=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config);this.checkChartConfig(newConfig),this.renderDiffConfig(newConfig)},CommonChart.prototype.destroy=function(chart){chart&&chart.destroy()},CommonChart.prototype.clear=function(chart){chart&&chart.clear()},CommonChart.prototype.checkChartConfig=function(config){var chart=config.chart;if(!chart||!chart.height)throw new Error("please set correct chart option")},CommonChart.prototype.createView=function(chart,config){var opts={};config.start&&(opts.start=config.start),config.end&&(opts.end=config.end);var view=chart.view(opts);if(!config.viewId)throw new Error("you must set viewId");return this.viewInstance[config.viewId]=view,view},CommonChart.prototype.setEvents=function(chart,config){__WEBPACK_IMPORTED_MODULE_10__utils_EventUtils__.a(chart,"",config.chart)},CommonChart.prototype.setDataSource=function(chart,data){__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(data)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(data)||chart.source(data)},CommonChart.prototype.setFilter=function(chart,config){return __WEBPACK_IMPORTED_MODULE_3__components_setFilterConfig__.a(chart,config)},CommonChart.prototype.setScale=function(chart,config){return __WEBPACK_IMPORTED_MODULE_6__components_setScaleConfig__.a(chart,config)},CommonChart.prototype.setCoord=function(chart,config){return __WEBPACK_IMPORTED_MODULE_2__components_setCoordConfig__.a(chart,config)},CommonChart.prototype.setSeries=function(chart,config){return __WEBPACK_IMPORTED_MODULE_7__components_setSeriesConfig__.a(chart,config)},CommonChart.prototype.setAxis=function(chart,config){return __WEBPACK_IMPORTED_MODULE_1__components_setAxisConfig__.a(chart,config)},CommonChart.prototype.setTooltip=function(chart,config){return __WEBPACK_IMPORTED_MODULE_8__components_setTooltipConfig__.a(chart,config)},CommonChart.prototype.setDefaultTooltip=function(chart,config){return __WEBPACK_IMPORTED_MODULE_8__components_setTooltipConfig__.b(chart,config)},CommonChart.prototype.setGuide=function(chart,config){return __WEBPACK_IMPORTED_MODULE_4__components_setGuideConfig__.a(chart,config)},CommonChart.prototype.setLegend=function(chart,config){return __WEBPACK_IMPORTED_MODULE_5__components_setLegendConfig__.a(chart,config)},CommonChart.prototype.setContent=function(chart,config){this.setScale(chart,config),this.setFilter(chart,config),this.setSeries(chart,config),this.setGuide(chart,config)},CommonChart.prototype.setView=function(item,chart,config){var view=this.createView(chart,item),viewData=item.data?item.data:config.data;return this.setDataSource(view,viewData),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(item.coord)||this.setCoord(view,item),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(item.tooltip)||this.setTooltip(view,item),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(item.axis)||this.setAxis(view,item),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(item.guide)||this.setGuide(view,item),this.setContent(view,item),view},CommonChart.prototype.setViews=function(chart,config){var cViews=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.views),isArr=Array.isArray(cViews);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cViews)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cViews))for(var arrViews=isArr?cViews:[cViews],_i=0,arrViews_1=arrViews;_i<arrViews_1.length;_i++){var item=arrViews_1[_i];this.setView(item,chart,config)}},CommonChart.prototype.setFacetViews=function(chart,facet,views){this.setDataSource(chart,views.data),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(views.coord)||this.setCoord(chart,views),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(views.tooltip)||this.setTooltip(chart,views),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(views.axis)||this.setAxis(chart,views),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(views.guide)||this.setGuide(chart,views),this.setContent(chart,views)},CommonChart.prototype.setFacet=function(chart,config){var _this=this,cFacet=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.facet);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cFacet)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cFacet)){var options=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cFacet,["type","views"]);return __WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cFacet.views)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction(cFacet.views)?chart.facet(cFacet.type,options):(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction(cFacet.views)?options.eachView=function(v,f){_this.setFacetViews(v,f,cFacet.views(v,f))}:(cFacet.views=Array.isArray(cFacet.views)?cFacet.views:[cFacet.views],options.eachView=function(v,f){_this.setFacetViews(v,f,cFacet.views[0])}),chart.facet(cFacet.type,options))}},CommonChart.prototype.setBrush=function(chart,config){if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(config.brush)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(config.brush)){var brush=config.brush,brushConfig=__assign({},config.brush,{canvas:chart.get("canvas"),chart:chart}),regEvents=/on(BrushStart|BrushMove|BrushEnd|DragStart|DragMove|DragEnd)/;Object.keys(brush).filter(function(entry){return regEvents.test(entry)}).forEach(function(entry){var item=regEvents.exec(entry);if(item&&item.length){var oriEventName="on"+firstUpperCase(item[0]);brushConfig[oriEventName]=function(ev){brush[entry](ev,chart)}}}),new Brush(brushConfig)}},CommonChart.prototype.repaintWidthHeight=function(chart,config){var width=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(config,"chart.width");width&&chart.changeWidth(width);var height=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(config,"chart.height");height&&chart.changeHeight(height)},CommonChart.prototype.renderDiffConfig=function(config){var chart=this.chartInstance;this.clear(chart),this.setScale(chart,config),this.setCoord(chart,config),this.setAxis(chart,config),this.setSeries(chart,config),this.setTooltip(chart,config),this.setGuide(chart,config),this.setViews(chart,config),this.setLegend(chart,config),this.setFacet(chart,config),this.repaintWidthHeight(chart,config),config.data&&chart.changeData(config.data),chart.repaint(),this.setBrush(chart,config)},CommonChart}();__webpack_exports__.a=CommonChart},279:function(module,__webpack_exports__,__webpack_require__){"use strict";function setRotatePolarAxis(chart,axisItem,coord,data){var polarLabel=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(axisItem,"polarLabel"),rotate=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(axisItem,"polarLabel.rotate");if(rotate){var tickStyle={};"parallel"===rotate?tickStyle={rotate:coord.startAngle,textAlign:"center"}:"normal"===rotate&&(tickStyle={rotate:coord.startAngle+90,textAlign:"right"});var offsetX=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(axisItem,"polarLabel.offsetX"),offsetY=__WEBPACK_IMPORTED_MODULE_0_lodash__.get(axisItem,"polarLabel.offsetY");data.forEach(function(res,i){chart.guide().text(__assign({position:[i,0],content:data[i][axisItem.dataKey],style:__assign({polarLabel:polarLabel},tickStyle)},offsetX,offsetY))})}}__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(63)),__WEBPACK_IMPORTED_MODULE_2__setCustomFormatter__=__webpack_require__(111),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},process=function(chart,config){var cAxis=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.axis),isArr=__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(cAxis);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cAxis)||!1===cAxis||isArr&&0===cAxis.length)return chart.axis(!1);if(!0===cAxis)return chart.axis();for(var arrAxis=isArr?cAxis:[cAxis],coord=config.coord,data=config.data,_i=0,arrAxis_1=arrAxis;_i<arrAxis_1.length;_i++){var res=arrAxis_1[_i];!function(res){coord&&"polar"===coord.type&&"rotate"===coord.direction&&setRotatePolarAxis(chart,res,coord,data),res.label&&(res.label=__WEBPACK_IMPORTED_MODULE_2__setCustomFormatter__.a(res.label));for(var item in res)if(res.hasOwnProperty(item)){var name_1="tickLine"===item?"ticks":item;__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.b(chart,"axis",name_1,res[item])}if(res.dataKey)if(!1===res.show)chart.axis(res.dataKey,!1);else{var options=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(res,["show","dataKey"]),label=options.label;if(label&&__WEBPACK_IMPORTED_MODULE_0_lodash__.isNumber(label.density)&&0<label.density&&label.density<1&&__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction(label.formatter)){var gap_1=Math.floor(1/label.density),formatter_1=label.formatter;options.label.formatter=function(val,item,i){return i%gap_1?" ":formatter_1(val,item,i)}}chart.axis(res.dataKey,options)}else chart.axis(res)}(res)}return chart}},28:function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},280:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__defaultLocale__=__webpack_require__(281);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__defaultLocale__.a});__webpack_require__(168),__webpack_require__(169),__webpack_require__(288),__webpack_require__(289),__webpack_require__(290)},281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return format});var locale,format,formatPrefix,__WEBPACK_IMPORTED_MODULE_0__locale__=__webpack_require__(168);!function(definition){locale=Object(__WEBPACK_IMPORTED_MODULE_0__locale__.a)(definition),format=locale.format,formatPrefix=locale.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]})},282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}},283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(numerals){return function(value){return value.replace(/[0-9]/g,function(i){return numerals[+i]})}}},284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(i0>0){if(!+s[i])break out;i0=0}}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}},285:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatPrefixAuto__=__webpack_require__(170),__WEBPACK_IMPORTED_MODULE_1__formatRounded__=__webpack_require__(286);__webpack_exports__.a={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function(x){return Math.round(x).toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return Object(__WEBPACK_IMPORTED_MODULE_1__formatRounded__.a)(100*x,p)},r:__WEBPACK_IMPORTED_MODULE_1__formatRounded__.a,s:__WEBPACK_IMPORTED_MODULE_0__formatPrefixAuto__.a,X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}}},286:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(112);__webpack_exports__.a=function(x,p){var d=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}},287:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return x}},288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(96)},289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(96)},290:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(96)},291:function(module,__webpack_exports__,__webpack_require__){"use strict";function setPolarCoord(chart,coord){var newCoord={};if(coord.radius&&(coord.radius<0||coord.radius>1)||coord.innerRadius&&(coord.innerRadius<0||coord.innerRadius>1))throw new Error("please set correct radius or innerRadius");if(coord.radius&&(newCoord=__assign({},newCoord,{radius:coord.radius})),coord.innerRadius&&(newCoord=__assign({},newCoord,{innerRadius:coord.innerRadius})),coord.startAngle||coord.endAngle){if(coord.startAngle&&(coord.startAngle<-360||coord.startAngle>360))throw new Error("please set correct starAngle");if(newCoord=__assign({},newCoord,{startAngle:Object(__WEBPACK_IMPORTED_MODULE_1__utils_PolarUtils__.a)(coord.startAngle)}),coord.endAngle&&(coord.endAngle<-360||coord.endAngle>360))throw new Error("please set correct endAngle");newCoord=__assign({},newCoord,{endAngle:Object(__WEBPACK_IMPORTED_MODULE_1__utils_PolarUtils__.a)(coord.endAngle)})}var polarCoord=chart.coord(coord.type,__assign({},newCoord));switch(coord.direction){case"rotate":polarCoord.transpose();break;case"xReverse":polarCoord.reflect("x");break;case"yReverse":polarCoord.reflect("y");break;case"reverse":polarCoord.reflect()}return coord.rotate&&polarCoord.rotate(coord.rotate),polarCoord}function setRectCoord(chart,coord){if(!coord.direction)return chart.coord("rect");switch(coord.direction){case"BL":chart.coord("rect");break;case"BR":chart.coord("rect").scale(-1,1);break;case"LT":chart.coord("rect").transpose().scale(1,-1);break;case"LB":chart.coord("rect").transpose();break;case"RB":chart.coord("rect").transpose().reflect();break;case"RT":chart.coord("rect").transpose().reflect().scale(-1,1);break;case"TL":chart.coord("rect").reflect();break;case"TR":chart.coord("rect").reflect().scale(-1,1);break;default:chart.coord("rect")}return chart}__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_PolarUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(292)),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},process=function(chart,config){var cCoord=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.coord);if(!cCoord||!cCoord.type)return chart.coord("rect");var type=cCoord.type;return"polar"===type||"theta"===type||"helix"===type?setPolarCoord(chart,cCoord):"rect"===type?setRectCoord(chart,cCoord):chart.coord(type)}},292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return degreeToRadian});var degreeToRadian=function(angle){return angle*Math.PI/180}},293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),process=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),function(chart,config){var cFilter=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.filter),isArr=__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(cFilter);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cFilter)){for(var arrFilter=isArr?cFilter:[cFilter],_i=0,arrFilter_1=arrFilter;_i<arrFilter_1.length;_i++){var res=arrFilter_1[_i];res.dataKey&&res.callback&&chart.filter(res.dataKey,res.callback)}return chart}})},294:function(module,__webpack_exports__,__webpack_require__){"use strict";function setGuideLine(chart,item){if("parallel"===item.quickType){var data=item.data;chart.guide().line(__assign({start:["min",data],end:["max",data]},item))}else if("normal"===item.quickType){var data=item.data;chart.guide().line(__assign({start:[data,"min"],end:[data,"max"]},item))}else chart.guide().line(item)}function setGuideArc(chart,item){if("parallel"===item.quickType){var data=item.data;chart.guide().arc(__assign({start:["min",data],end:["max",data]},item)),chart.guide().arc(__assign({start:["max",data],end:["min",data]},item))}else if("normal"===item.quickType){var data=item.data;chart.guide().line(__assign({start:[data,"min"],end:[data,"max"]},item))}else chart.guide().arc(item)}__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(63)),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},process=function(chart,config){var cGuide=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.guide),isArr=Array.isArray(cGuide);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cGuide)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cGuide)){return(isArr?cGuide:[cGuide]).forEach(function(res){__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.a(chart,"guide-"+res.type,res),"line"===res.type?setGuideLine(chart,res):"region"===res.type?chart.guide().region(res):"arc"===res.type?setGuideArc(chart,res):"text"===res.type?chart.guide().text(res):"image"===res.type?chart.guide().image(res):"html"===res.type?chart.guide().html(res):"dataMarker"===res.type?chart.guide().dataMarker(res):"regionFilter"===res.type?chart.guide().regionFilter(res):"dataRegion"===res.type&&chart.guide().dataRegion(res)}),chart}}},295:function(module,__webpack_exports__,__webpack_require__){"use strict";function setHighlight(item){return item.onHover=function(ev){var shapes=ev.shapes;ev.geom.highlightShapes(shapes)},item}__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(63)),process=function(chart,config){var cLegend=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.legend),isArr=Array.isArray(cLegend);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cLegend)||!1===cLegend||isArr&&0===cLegend.length)return chart.legend(!1);if(!0===cLegend)return chart.legend();for(var arrLegend=isArr?cLegend:[cLegend],_i=0,arrLegend_1=arrLegend;_i<arrLegend_1.length;_i++){var res=arrLegend_1[_i];res.highlight&&(res=setHighlight(res));for(var item in res)!function(item){if(res.hasOwnProperty(item)){if("onClick"===item){var content_1=res.onClick;res.onClick=function(ev){content_1(ev,chart)}}__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.b(chart,"legend",item,res[item])}}(item);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(res.legendMarker)||(res["g2-legend-marker"]=res.legendMarker),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(res.legendListItem)||(res["g2-legend-list-item"]=res.legendListItem),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(res.legendTitle)||(res["g2-legend-title"]=res.legendTitle),__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(res.legendList)||(res["g2-legend-list"]=res.legendList),res=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(res,["legendMarker","legendListItem","legendTitle","legendList"]),res.dataKey)if(!1===res.show)chart.legend(res.dataKey,!1);else{var option=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(res,["dataKey","show"]);chart.legend(res.dataKey,option)}else chart.legend(res)}return chart}},296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__setCustomFormatter__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(111)),process=function(chart,config){var cScale=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.scale),isArr=__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(cScale);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cScale)){for(var arrScale=isArr?cScale:[cScale],options={},_i=0,arrScale_1=arrScale;_i<arrScale_1.length;_i++){var res=arrScale_1[_i];if(res.dataKey){var currOption=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(res,"dataKey");options[res.dataKey]=currOption}}return options=__WEBPACK_IMPORTED_MODULE_1__setCustomFormatter__.a(options),chart.scale(options)}}},297:function(module,__webpack_exports__,__webpack_require__){"use strict";function setSeriesGemo(chart,currSeries){switch(currSeries.gemo){case"line":chart=chart.line();break;case"area":chart=chart.area();break;case"bar":case"interval":chart=chart.interval();break;case"point":chart=chart.point();break;case"schema":chart=chart.schema();break;case"polygon":chart=chart.polygon();break;case"contour":chart=chart.contour();break;case"heatmap":chart=chart.heatmap();break;case"edge":chart=chart.edge();break;case"path":chart=chart.path();break;case"venn":chart=chart.venn();break;default:chart=chart.line()}return chart}function setSeriesPosition(chart,currSeries){var position=currSeries.position;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(position)?chart:chart.position(position)}function setSeriesAdjust(chart,currSeries){var adjust=currSeries.adjust;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(adjust)?chart:chart.adjust(adjust)}function setSeriesShape(chart,currSeries){var shape=currSeries.shape;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isString(shape)?chart.shape(shape):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(shape)&&shape.length>=1?shape[1]?chart.shape(shape[0],shape[1]):chart.shape(shape[0]):chart}function setSeriesColor(chart,currSeries){var color=currSeries.color;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isString(color)?chart.color(color):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(color)&&color.length>=1?color[1]?chart.color(color[0],color[1]):chart.color(color[0]):chart}function setSeriesSize(chart,currSeries){var size=currSeries.size;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isNumber(size)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(size)?chart.size(size):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(size)&&size.length>=1?size[1]?chart.size(size[0],size[1]):chart.size(size[0]):chart}function setSeriesOpacity(chart,currSeries){var opacity=currSeries.opacity;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isNumber(opacity)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(opacity)?chart.opacity(opacity):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(opacity)&&opacity.length>=1?opacity[1]?chart.opacity(opacity[0],opacity[1]):chart.opacity(opacity[0]):chart}function setSeriesLabel(chart,currSeries){var label=currSeries.label;if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(label))return chart.label(label);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(label)&&label.length>=2){if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNumber(label[1].density)&&0<label[1].density&&label[1].density<1&&(__WEBPACK_IMPORTED_MODULE_0_lodash__.isFunction(label[1].formatter)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(label[1].formatter))){var gap_1=Math.floor(1/label[1].density),formatter_1=__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(label[1].formatter)?__WEBPACK_IMPORTED_MODULE_2__setCustomFormatter__.a(label[1]).formatter:label[1].formatter;label[1].formatter=function(val,item,i){return i%gap_1?" ":formatter_1(val,item,i)}}return chart.label.apply(chart,label)}return chart}function setSeriesStyle(chart,currSeries){var style=currSeries.style;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(style)&&style.length>=1?style[1]?chart.style(style[0],style[1]):chart.style(style[0]):__WEBPACK_IMPORTED_MODULE_0_lodash__.isPlainObject(style)?chart.style(style):chart}function setSeriesTooltip(chart,currSeries){var tooltip=currSeries.tooltip;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isBoolean(tooltip)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isString(tooltip)?chart.tooltip(tooltip):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(tooltip)&&tooltip.length>=1?tooltip[1]?chart.tooltip(tooltip[0],tooltip[1]):chart.tooltip(tooltip[0]):chart}function setSeriesSelect(chart,currSeries){var select=currSeries.select;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isBoolean(select)?chart.select(select):__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(select)&&select.length>=1?select[1]?chart.select(select[0],select[1]):chart.select(select[0]):chart}function setSeriesActive(chart,currSeries){var active=currSeries.active;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(active)?chart.active.apply(chart,active):__WEBPACK_IMPORTED_MODULE_0_lodash__.isBoolean(active)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isPlainObject(active)?chart.active(active):chart}function setSeriesAnimate(chart,currSeries){var animate=currSeries.animate;return __WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(animate)?chart:chart.animate(animate)}__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(63)),__WEBPACK_IMPORTED_MODULE_2__setCustomFormatter__=__webpack_require__(111),__WEBPACK_IMPORTED_MODULE_3__setQuickType__=__webpack_require__(298),process=function(chart,config){var cSeries=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.series),isArr=__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(cSeries);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cSeries)||__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(cSeries))return chart;var arrSeries=isArr?cSeries:[cSeries];arrSeries=__WEBPACK_IMPORTED_MODULE_3__setQuickType__.a(arrSeries,config.coord),arrSeries=__WEBPACK_IMPORTED_MODULE_0_lodash__.sortBy(arrSeries,"zIndex");var chartInstance;return arrSeries.forEach(function(currSeries){__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.a(chart,currSeries.gemo,currSeries);for(var item in currSeries)currSeries.hasOwnProperty(item)&&__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.b(chart,"label",name,currSeries[item]);chartInstance=setSeriesGemo(chart,currSeries),chartInstance=setSeriesPosition(chartInstance,currSeries),chartInstance=setSeriesAdjust(chartInstance,currSeries),chartInstance=setSeriesShape(chartInstance,currSeries),chartInstance=setSeriesColor(chartInstance,currSeries),chartInstance=setSeriesOpacity(chartInstance,currSeries),chartInstance=setSeriesSize(chartInstance,currSeries),chartInstance=setSeriesLabel(chartInstance,currSeries),chartInstance=setSeriesTooltip(chartInstance,currSeries),chartInstance=setSeriesStyle(chartInstance,currSeries),chartInstance=setSeriesSelect(chartInstance,currSeries),chartInstance=setSeriesActive(chartInstance,currSeries),chartInstance=setSeriesAnimate(chartInstance,currSeries)}),chartInstance}},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return process});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__assign=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)}),QUICK_TYPE=[{type:"pie",series:{gemo:"interval",adjust:"stack"},coord:{type:"theta"}},{type:"sector",series:{gemo:"interval"},coord:{type:"polar"}},{type:"line",series:{gemo:"line"}},{type:"smoothLine",series:{gemo:"line",shape:"smooth"}},{type:"dashLine",series:{gemo:"line",shape:"dash"}},{type:"stackLine",series:{gemo:"line",adjust:"stack"}},{type:"area",series:{gemo:"area"}},{type:"stackArea",series:{gemo:"area",adjust:"stack"}},{type:"smoothArea",series:{gemo:"area",shape:"smooth"}},{type:"interval",series:{gemo:"interval"}},{type:"stackInterval",series:{gemo:"interval",adjust:"stack"}},{type:"dodgeInterval",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"bar",series:{gemo:"interval"}},{type:"stackBar",series:{gemo:"interval",shape:"interval",adjust:"stack"}},{type:"dodgeBar",series:{gemo:"interval",shape:"interval",adjust:"dodge"}},{type:"point",series:{gemo:"point",shape:"hollowCircle"}},{type:"funnel",series:{gemo:"interval",adjust:"symmetric",shape:"funnel"}},{type:"pyramid",series:{gemo:"interval",adjust:"symmetric",shape:"pyramid"}},{type:"schema",series:{gemo:"schema",shape:"box"}},{type:"box",series:{gemo:"schema",shape:"box"}},{type:"candle",series:{gemo:"schema",shape:"candle"}},{type:"polygon",series:{gemo:"polygon"}},{type:"contour",series:{gemo:"contour"}},{type:"heatmap",series:{gemo:"heatmap"}},{type:"edge",series:{gemo:"edge"}},{type:"sankey",series:{gemo:"edge",shape:"sankey"}},{type:"errorBar",series:{gemo:"schema",shape:"errorbar"}},{type:"jitterPoint",series:{gemo:"point",adjust:"jitter"}},{type:"path",series:{gemo:"path"}},{type:"venn",series:{gemo:"venn"}}],process=function(series,coord){for(var quickType={},_i=0,QUICK_TYPE_1=QUICK_TYPE;_i<QUICK_TYPE_1.length;_i++){var item=QUICK_TYPE_1[_i];quickType[item.type]=item}for(var i=0;i<series.length;i++){var currType=quickType[series[i].quickType];if(currType&&(series[i]=__assign({},currType.series,series[i]),coord&&coord.type&&__WEBPACK_IMPORTED_MODULE_0_lodash__.get(currType,"coord.type")&&__WEBPACK_IMPORTED_MODULE_0_lodash__.get(currType,"coord.type")!==coord.type))throw new Error("quickType and coord had conflicted.")}return series}},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return process}),__webpack_require__.d(__webpack_exports__,"b",function(){return setDefaultPoint});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(63)),process=function(chart,config){var cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.tooltip);if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cTooltip)||!1===cTooltip||!1===cTooltip.show)return chart.tooltip(!1);for(var item in cTooltip)cTooltip.hasOwnProperty(item)&&("g2Tooltip"===item&&(cTooltip["g2-tooltip"]=cTooltip[item],cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cTooltip,"g2Tooltip")),"g2TooltipTitle"===item&&(cTooltip["g2-tooltip-title"]=cTooltip[item],cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cTooltip,"g2TooltipTitle")),"g2TooltipList"===item&&(cTooltip["g2-tooltip-list"]=cTooltip[item],cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cTooltip,"g2TooltipList")),"g2TooltipListItem"===item&&(cTooltip["g2-tooltip-list-item"]=cTooltip[item],cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cTooltip,"g2TooltipListItem")),"g2TooltipMaker"===item&&(cTooltip["g2-tooltip-maker"]=cTooltip[item],cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.omit(cTooltip,"g2TooltipMaker")));return __WEBPACK_IMPORTED_MODULE_1__utils_EventUtils__.a(chart,"tooltip",cTooltip),chart.tooltip(cTooltip)},setDefaultPoint=function(chart,config){var cTooltip=__WEBPACK_IMPORTED_MODULE_0_lodash__.cloneDeep(config.tooltip);if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(cTooltip)&&!1!==cTooltip&&!1!==cTooltip.show&&cTooltip.defaultPoint){var defaultPoint=cTooltip.defaultPoint,xyPoint=chart.getXY(defaultPoint);xyPoint&&chart.showTooltip(xyPoint)}}},300:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__ErrorBar__=__webpack_require__(301),__WEBPACK_IMPORTED_MODULE_1__Sankey__=__webpack_require__(302);__webpack_exports__.a=function(){__WEBPACK_IMPORTED_MODULE_1__Sankey__.a(),__WEBPACK_IMPORTED_MODULE_0__ErrorBar__.a()}},3001:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var viser_1=__webpack_require__(79),GDP_JSON=[{year:"2006",gdp:21.94385},{year:"2007",gdp:27.02323},{year:"2008",gdp:31.95155},{year:"2009",gdp:34.90814},{year:"2010",gdp:41.30303},{year:"2011",gdp:48.93006},{year:"2012",gdp:54.03674},{year:"2013",gdp:59.52444},{year:"2014",gdp:64.3974},{year:"2015",gdp:68.90521}];document.getElementById("viser-mount-1-1").innerHTML="",document.getElementById("viser-mount-2-1").innerHTML="",document.getElementById("viser-mount-2-2").innerHTML="",document.getElementById("viser-mount-2-3").innerHTML="",document.getElementById("viser-mount-2-4").innerHTML="",viser_1.default({data:GDP_JSON,tooltip:!0,axis:!0,series:[{quickType:"bar",color:"#0088fe",position:"year*gdp"}],chart:{width:700,height:400,container:"viser-mount-1-1"}}),viser_1.default({data:GDP_JSON,tooltip:!0,axis:!0,series:[{quickType:"line",color:"#0088fe",position:"year*gdp"}],chart:{width:380,height:230,container:"viser-mount-2-1"}}),viser_1.default({data:GDP_JSON,tooltip:!0,axis:!0,series:[{quickType:"area",color:"#0088fe",position:"year*gdp"}],chart:{width:380,height:230,container:"viser-mount-2-3"}}),viser_1.default({data:GDP_JSON,tooltip:{showTitle:!1},axis:!0,coord:{type:"theta"},series:[{quickType:"pie",position:"gdp",style:{lineWidth:1,stroke:"#fff",fill:"#0088fe"},tooltip:"year*gdp"}],chart:{width:380,height:280,container:"viser-mount-2-2"}}),viser_1.default({data:GDP_JSON,tooltip:!0,axis:!1,coord:{type:"polar"},series:[{quickType:"sector",color:"#0088fe",style:{lineWidth:1,stroke:"#fff",fill:"#0088fe"},position:"year*gdp"}],chart:{width:380,height:310,container:"viser-mount-2-4"}})},301:function(module,__webpack_exports__,__webpack_require__){"use strict";function renderBarPath(points){return[["M",points[1].x,points[1].y],["L",points[2].x,points[2].y],["Z"],["M",((points[1].x||0)+(points[2].x||0))/2,((points[1].y||0)+(points[2].y||0))/2],["L",((points[0].x||0)+(points[3].x||0))/2,((points[0].y||0)+(points[3].y||0))/2],["Z"],["M",points[0].x,points[0].y],["L",points[3].x,points[3].y],["Z"]]}__webpack_require__.d(__webpack_exports__,"a",function(){return registerShape});var __WEBPACK_IMPORTED_MODULE_0__utils_CustomizeUtils__=__webpack_require__(113),__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},registerShape=function(){__WEBPACK_IMPORTED_MODULE_0__utils_CustomizeUtils__.b("schema","errorbar",{getPoints:function(_a){var _b=_a.x,x=void 0===_b?0:_b,_c=_a.y,y=void 0===_c?[0,0,0]:_c,_d=_a.size,size=void 0===_d?0:_d;return[{x:x-size/2*1,y:y[0]},{x:x-size/2*1,y:y[2]},{x:x+size/2*1,y:y[2]},{x:x+size/2*1,y:y[0]},{x:x,y:y[1]},{x:x-size/2*1,y:y[1]}]},drawShape:function(cfg,group){var newGroup=group,points=cfg.points;return newGroup.addShape("path",{attrs:__assign({stroke:cfg.color,strokeOpacity:cfg.opacity||1,lineWidth:cfg.style.lineWidth||1,fill:cfg.color,opacity:cfg.opacity||1,path:this.parsePath(renderBarPath(points))},cfg.style)}),newGroup}})}},302:function(module,__webpack_exports__,__webpack_require__){"use strict";function interpolationGenerator(a,b){var ka=+a,kb=b-ka;return function(t){return ka+kb*t}}function getCurvePath(from,to,curvature){var interpolationFunc=interpolationGenerator(from.x,to.x),fromCtrlX=interpolationFunc(curvature),toCtrlX=interpolationFunc(1-curvature);return["C",fromCtrlX,from.y,toCtrlX,to.y,to.x,to.y]}function getEdgePath(points,curvature){var path=[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y]],c1=getCurvePath(points[1],points[3],curvature);path.push(c1),path.push(["L",points[3].x,points[3].y]),path.push(["L",points[2].x,points[2].y]);var c2=getCurvePath(points[2],points[0],curvature);return path.push(c2),path.push(["Z"]),path}__webpack_require__.d(__webpack_exports__,"a",function(){return registerShape});var __WEBPACK_IMPORTED_MODULE_0__utils_CustomizeUtils__=__webpack_require__(113),registerShape=function(){__WEBPACK_IMPORTED_MODULE_0__utils_CustomizeUtils__.b("edge","sankey",{drawShape:function(cfg,group){var points=cfg.points,style=cfg.style,curvature=style.curvature||.5,path=this.parsePath(getEdgePath(points,curvature));return group.addShape("path",{attrs:{stroke:"none",strokeOpacity:0,fill:cfg.color,opacity:cfg.opacity,path:path}})}})}},303:function(module,exports,__webpack_require__){!function(root,factory){module.exports=factory()}(0,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){var Brush=__webpack_require__(1);module.exports=Brush},function(module,exports,__webpack_require__){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Util=__webpack_require__(2),BRUSH_TYPES=["X","Y","XY","POLYGON"],Brush=function(){function Brush(cfg){_classCallCheck(this,Brush),this.startPoint=null,this.brushing=!1,this.dragging=!1,this.brushShape=null,this.container=null,this.polygonPath=null,this.style={fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},this.type="XY",this.dragable=!1,this.dragoffX=0,this.dragoffY=0,this.inPlot=!0,this.xField=null,this.yField=null,this.filter=!cfg.dragable,this.onBrushstart=null,this.onBrushmove=null,this.onBrushend=null,this.onDragstart=null,this.onDragmove=null,this.onDragend=null,this._init(cfg)}return Brush.prototype._init=function(cfg){Util.mix(this,cfg),this.type=this.type.toUpperCase(),-1===BRUSH_TYPES.indexOf(this.type)&&(this.type="XY");var canvas=this.canvas;if(canvas){var plotRange=void 0;canvas.get("children").map(function(child){return"plotBack"===child.get("type")?(plotRange=child.get("plotRange"),!1):child}),this.plot={start:plotRange.bl,end:plotRange.tr},this.bindCanvasEvent()}if(this.chart){var chart=this.chart,coord=chart.get("coord");this.plot={start:coord.start,end:coord.end};var xScales=chart._getScales("x"),yScales=chart._getScales("y");this.xScale=this.xField?xScales[this.xField]:chart.getXScale(),this.yScale=this.yField?yScales[this.yField]:chart.getYScales()[0]}},Brush.prototype.clearEvents=function(){this.onMouseDownListener&&this.onMouseDownListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseupListener&&this.onMouseupListener.remove()},Brush.prototype.bindCanvasEvent=function(){var canvas=this.canvas,canvasDOM=canvas.get("canvasDOM");this.clearEvents(),this.onMouseDownListener=Util.addEventListener(canvasDOM,"mousedown",Util.wrapBehavior(this,"_onCanvasMouseDown")),this.onMouseMoveListener=Util.addEventListener(canvasDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=Util.addEventListener(canvasDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp"))},Brush.prototype._onCanvasMouseDown=function(ev){var me=this,canvas=me.canvas,type=me.type,brushShape=me.brushShape;if(type){var startPoint={x:ev.offsetX,y:ev.offsetY},isInPlot=me.plot&&me.inPlot,canvasDOM=canvas.get("canvasDOM"),pixelRatio=canvas.get("pixelRatio");if(me.selection&&(me.selection=null),me.dragable&&brushShape&&!brushShape.get("destroyed")){if(brushShape.isHit(startPoint.x*pixelRatio,startPoint.y*pixelRatio)){if(canvasDOM.style.cursor="move",me.selection=brushShape,me.dragging=!0,"X"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=0;else if("Y"===type)me.dragoffX=0,me.dragoffY=startPoint.y-brushShape.attr("y");else if("XY"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=startPoint.y-brushShape.attr("y");else if("POLYGON"===type){var box=brushShape.getBBox();me.dragoffX=startPoint.x-box.minX,me.dragoffY=startPoint.y-box.minY}isInPlot&&me.selection.attr("clip",canvas.addShape("rect",{attrs:{x:this.plot.start.x,y:this.plot.end.y,width:this.plot.end.x-this.plot.start.x,height:this.plot.start.y-this.plot.end.y,fill:"#fff",fillOpacity:0}})),me.onDragstart&&me.onDragstart(ev)}me.prePoint=startPoint}if(!me.dragging){me.onBrushstart&&me.onBrushstart(startPoint);var container=me.container;if(isInPlot){var _me$plot=me.plot,start=_me$plot.start,end=_me$plot.end;if(startPoint.x<start.x||startPoint.x>end.x||startPoint.y<end.y||startPoint.y>start.y)return}canvasDOM.style.cursor="crosshair",me.startPoint=startPoint,me.brushShape=null,me.brushing=!0,container?container.clear():(container=canvas.addGroup({zIndex:5}),container.initTransform()),me.container=container,"POLYGON"===type&&(me.polygonPath="M "+startPoint.x+" "+startPoint.y)}}},Brush.prototype._onCanvasMouseMove=function(ev){var me=this,brushing=me.brushing,dragging=me.dragging,type=me.type,plot=me.plot,startPoint=me.startPoint,xScale=me.xScale,yScale=me.yScale,canvas=me.canvas;if(brushing||dragging){var currentPoint={x:ev.offsetX,y:ev.offsetY},canvasDOM=canvas.get("canvasDOM");if(brushing){canvasDOM.style.cursor="crosshair";var start=plot.start,end=plot.end,polygonPath=me.polygonPath,brushShape=me.brushShape,container=me.container;me.plot&&me.inPlot&&(currentPoint=me._limitCoordScope(currentPoint));var rectStartX=void 0,rectStartY=void 0,rectWidth=void 0,rectHeight=void 0;"Y"===type?(rectStartX=start.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y,rectWidth=Math.abs(start.x-end.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"X"===type?(rectStartX=currentPoint.x>=startPoint.x?startPoint.x:currentPoint.x,rectStartY=end.y,rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(end.y-start.y)):"XY"===type?(currentPoint.x>=startPoint.x?(rectStartX=startPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y):(rectStartX=currentPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y),rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"POLYGON"===type&&(polygonPath+="L "+currentPoint.x+" "+currentPoint.y,me.polygonPath=polygonPath,brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape.__attrs,{path:polygonPath})):brushShape=container.addShape("path",{attrs:Util.mix(me.style,{path:polygonPath})})),"POLYGON"!==type&&(brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape.__attrs,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})):brushShape=container.addShape("rect",{attrs:Util.mix(me.style,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})})),me.brushShape=brushShape}else if(dragging){canvasDOM.style.cursor="move";var selection=me.selection;if(selection&&!selection.get("destroyed"))if("POLYGON"===type){var prePoint=me.prePoint;me.selection.translate(currentPoint.x-prePoint.x,currentPoint.y-prePoint.y)}else me.dragoffX&&selection.attr("x",currentPoint.x-me.dragoffX),me.dragoffY&&selection.attr("y",currentPoint.y-me.dragoffY)}me.prePoint=currentPoint,canvas.draw();var _me$_getSelected=me._getSelected(),data=_me$_getSelected.data,shapes=_me$_getSelected.shapes,xValues=_me$_getSelected.xValues,yValues=_me$_getSelected.yValues,eventObj={data:data,shapes:shapes,x:currentPoint.x,y:currentPoint.y};xScale&&(eventObj[xScale.field]=xValues),yScale&&(eventObj[yScale.field]=yValues),me.onDragmove&&me.onDragmove(eventObj),me.onBrushmove&&me.onBrushmove(eventObj)}},Brush.prototype._onCanvasMouseUp=function(ev){var me=this,data=me.data,shapes=me.shapes,xValues=me.xValues,yValues=me.yValues,canvas=me.canvas,type=me.type,startPoint=me.startPoint,chart=me.chart,container=me.container,xScale=me.xScale,yScale=me.yScale,offsetX=ev.offsetX,offsetY=ev.offsetY;if(canvas.get("canvasDOM").style.cursor="default",Math.abs(startPoint.x-offsetX)<=1&&Math.abs(startPoint.y-offsetY)<=1)return me.brushing=!1,void(me.dragging=!1);var eventObj={data:data,shapes:shapes,x:offsetX,y:offsetY};if(xScale&&(eventObj[xScale.field]=xValues),yScale&&(eventObj[yScale.field]=yValues),me.dragging)me.dragging=!1,me.onDragend&&me.onDragend(eventObj);else if(me.brushing){me.brushing=!1;var brushShape=me.brushShape,polygonPath=me.polygonPath;"POLYGON"===type&&(polygonPath+="z",brushShape&&!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape.__attrs,{path:polygonPath})),me.polygonPath=polygonPath,canvas.draw()),me.onBrushend?me.onBrushend(eventObj):chart&&me.filter&&(container.clear(),"X"===type?xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}):"Y"===type?yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1}):(xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}),yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1})),chart.repaint())}},Brush.prototype.setType=function(type){type&&(this.type=type.toUpperCase())},Brush.prototype.destroy=function(){this.clearEvents()},Brush.prototype._limitCoordScope=function(point){var plot=this.plot,start=plot.start,end=plot.end;return point.x<start.x&&(point.x=start.x),point.x>end.x&&(point.x=end.x),point.y<end.y&&(point.y=end.y),point.y>start.y&&(point.y=start.y),point},Brush.prototype._getSelected=function(){var chart=this.chart,xScale=this.xScale,yScale=this.yScale,brushShape=this.brushShape,canvas=this.canvas,pixelRatio=canvas.get("pixelRatio"),selectedShapes=[],xValues=[],yValues=[],selectedData=[];if(chart){chart.get("geoms").map(function(geom){return geom.getShapes().map(function(shape){var shapeData=shape.get("origin");return Array.isArray(shapeData)||(shapeData=[shapeData]),shapeData.map(function(each){if(brushShape.isHit(each.x*pixelRatio,each.y*pixelRatio)){selectedShapes.push(shape);var origin=each._origin;selectedData.push(origin),xScale&&xValues.push(origin[xScale.field]),yScale&&yValues.push(origin[yScale.field])}return each}),shape}),geom})}return this.shapes=selectedShapes,this.xValues=xValues,this.yValues=yValues,this.data=selectedData,{data:selectedData,xValues:xValues,yValues:yValues,shapes:selectedShapes}},Brush}();module.exports=Brush},function(module,exports){function _mix(dist,obj){for(var k in obj)obj.hasOwnProperty(k)&&"constructor"!==k&&void 0!==obj[k]&&(dist[k]=obj[k])}var Util={mix:function(dist,obj1,obj2,obj3){return obj1&&_mix(dist,obj1),obj2&&_mix(dist,obj2),obj3&&_mix(dist,obj3),dist},addEventListener:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}):void 0},wrapBehavior:function(obj,action){if(obj["_wrap_"+action])return obj["_wrap_"+action];var method=function(e){obj[action](e)};return obj["_wrap_"+action]=method,method},getWrapBehavior:function(obj,action){return obj["_wrap_"+action]}};module.exports=Util}])})},304:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__Slider__=__webpack_require__(305);__webpack_exports__.a=function(config){var plugins={};for(var pluginName in config)if(config.hasOwnProperty(pluginName)){var pluginConfig=config[pluginName];switch(pluginName){case"slider":plugins.slider=Object(__WEBPACK_IMPORTED_MODULE_0__Slider__.a)(pluginConfig)}}return plugins}},305:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__antv_g2__=__webpack_require__(97),Slider=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__antv_g2__),__webpack_require__(306));__webpack_exports__.a=function(config){var container=document.getElementById(config.container);if(container){container.innerHTML="";var sliderInstance=new Slider(config);return sliderInstance.render(),sliderInstance}}},306:function(module,exports,__webpack_require__){!function(root,factory){module.exports=factory()}(0,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){var Slider=__webpack_require__(1);window&&window.G2,module.exports=Slider},function(module,exports,__webpack_require__){var Range=__webpack_require__(2),G2=window&&window.G2,Chart=G2.Chart,Util=G2.Util,G=G2.G,Global=G2.Global,Canvas=G.Canvas,DomUtil=Util.DomUtil,isNumber=function(val){return"number"==typeof val},Slider=function(){function Slider(cfg){this._initProps(),Util.deepMix(this,cfg);var container=this.container;if(!container)throw new Error("Please specify the container for the Slider!");Util.isString(container)?this.domContainer=document.getElementById(container):this.domContainer=container,this.handleStyle=Util.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",Util.wrapBehavior(this,"_initForceFitEvent"))}var _proto=Slider.prototype;return _proto._initProps=function(){this.height=26,this.width="auto",this.padding=Global.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},_proto._initForceFitEvent=function(){var timer=setTimeout(Util.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=timer},_proto.forceFit=function(){if(this&&!this.destroyed){var width=DomUtil.getWidth(this.domContainer),height=this.height;if(width!==this.domWidth){var canvas=this.canvas;canvas.changeSize(width,height),this.bgChart&&this.bgChart.changeWidth(width),canvas.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),canvas.draw()}}},_proto._initWidth=function(){var width;width="auto"===this.width?DomUtil.getWidth(this.domContainer):this.width,this.domWidth=width;var padding=Util.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=width-padding[1]-padding[3],this.plotPadding=padding[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-padding[0]-padding[2],this.plotPadding=padding[0])},_proto.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},_proto.changeData=function(data){this.data=data,this.repaint()},_proto.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var container=this.domContainer;container.hasChildNodes();)container.removeChild(container.firstChild);window.removeEventListener("resize",Util.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},_proto.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},_proto.repaint=function(){this.clear(),this.render()},_proto._initCanvas=function(){var width=this.domWidth,height=this.height,canvas=new Canvas({width:width,height:height,containerDOM:this.domContainer,capture:!1}),node=canvas.get("el");node.style.position="absolute",node.style.top=0,node.style.left=0,node.style.zIndex=3,this.canvas=canvas},_proto._initBackground=function(){var _Util$deepMix,data=this.data,xAxis=this.xAxis,yAxis=this.yAxis,scales=Util.deepMix((_Util$deepMix={},_Util$deepMix[""+xAxis]={range:[0,1]},_Util$deepMix),this.scales);if(!data)throw new Error("Please specify the data!");if(!xAxis)throw new Error("Please specify the xAxis!");if(!yAxis)throw new Error("Please specify the yAxis!");var backgroundChart=this.backgroundChart,type=backgroundChart.type,color=backgroundChart.color;Util.isArray(type)||(type=[type]);var padding=Util.toAllPadding(this.padding),bgChart=new Chart({container:this.container,width:this.domWidth,height:this.height,padding:[0,padding[1],0,padding[3]],animate:!1});bgChart.source(data),bgChart.scale(scales),bgChart.axis(!1),bgChart.tooltip(!1),bgChart.legend(!1),Util.each(type,function(eachType){bgChart[eachType]().position(xAxis+"*"+yAxis).color(color).opacity(1)}),bgChart.render(),this.bgChart=bgChart,this.scale="horizontal"===this.layout?bgChart.getXScale():bgChart.getYScales()[0],"vertical"===this.layout&&bgChart.destroy()},_proto._initRange=function(){var startRadio=this.startRadio,endRadio=this.endRadio,start=this.start,end=this.end,scale=this.scale,min=0,max=1;isNumber(startRadio)?min=startRadio:start&&(min=scale.scale(scale.translate(start))),isNumber(endRadio)?max=endRadio:end&&(max=scale.scale(scale.translate(end)));var minSpan=this.minSpan,maxSpan=this.maxSpan,totalSpan=0;if("time"===scale.type||"timeCat"===scale.type){var values=scale.values,firstValue=values[0];totalSpan=values[values.length-1]-firstValue}else scale.isLinear&&(totalSpan=scale.max-scale.min);totalSpan&&minSpan&&(this.minRange=minSpan/totalSpan*100),totalSpan&&maxSpan&&(this.maxRange=maxSpan/totalSpan*100);var range=[100*min,100*max];return this.range=range,range},_proto._getHandleValue=function(type){var range=this.range,min=range[0]/100,max=range[1]/100,scale=this.scale;return"min"===type?this.start?this.start:scale.invert(min):this.end?this.end:scale.invert(max)},_proto._initSlider=function(){var canvas=this.canvas,range=this._initRange(),scale=this.scale,rangeElement=canvas.addGroup(Range,{middleAttr:this.fillerStyle,range:range,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:scale.getText(this._getHandleValue("min")),maxText:scale.getText(this._getHandleValue("max"))});"horizontal"===this.layout?rangeElement.translate(this.plotPadding,0):"vertical"===this.layout&&rangeElement.translate(0,this.plotPadding),this.rangeElement=rangeElement},_proto._bindEvent=function(){var self=this;self.rangeElement.on("sliderchange",function(ev){var range=ev.range,minRatio=range[0]/100,maxRatio=range[1]/100;self._updateElement(minRatio,maxRatio)})},_proto._updateElement=function(minRatio,maxRatio){var scale=this.scale,rangeElement=this.rangeElement,minTextElement=rangeElement.get("minTextElement"),maxTextElement=rangeElement.get("maxTextElement"),min=scale.invert(minRatio),max=scale.invert(maxRatio),minText=scale.getText(min),maxText=scale.getText(max);minTextElement.attr("text",minText),maxTextElement.attr("text",maxText),this.start=min,this.end=max,this.onChange&&this.onChange({startText:minText,endText:maxText,startValue:min,endValue:max,startRadio:minRatio,endRadio:maxRatio})},Slider}();module.exports=Slider},function(module,exports){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var G2=window&&window.G2,Util=G2.Util,G=G2.G,Group=G.Group,DomUtil=Util.DomUtil,Range=function(_Group){function Range(){return _Group.apply(this,arguments)||this}_inheritsLoose(Range,_Group);var _proto=Range.prototype;return _proto.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_proto._initHandle=function(type){var text,handleIcon,triggerCursor,handle=this.addGroup(),layout=this.get("layout"),handleStyle=this.get("handleStyle"),img=handleStyle.img,iconWidth=handleStyle.width,iconHeight=handleStyle.height;if("horizontal"===layout){var _iconWidth=handleStyle.width;triggerCursor="ew-resize",handleIcon=handle.addShape("Image",{attrs:{x:-_iconWidth/2,y:0,width:_iconWidth,height:iconHeight,img:img,cursor:triggerCursor}}),text=handle.addShape("Text",{attrs:Util.mix({x:"min"===type?-(_iconWidth/2+5):_iconWidth/2+5,y:iconHeight/2,textAlign:"min"===type?"end":"start",textBaseline:"middle",text:"min"===type?this.get("minText"):this.get("maxText"),cursor:triggerCursor},this.get("textStyle"))})}else triggerCursor="ns-resize",handleIcon=handle.addShape("Image",{attrs:{x:0,y:-iconHeight/2,width:iconWidth,height:iconHeight,img:img,cursor:triggerCursor}}),text=handle.addShape("Text",{attrs:Util.mix({x:iconWidth/2,y:"min"===type?iconHeight/2+5:-(iconHeight/2+5),textAlign:"center",textBaseline:"middle",text:"min"===type?this.get("minText"):this.get("maxText"),cursor:triggerCursor},this.get("textStyle"))});return this.set(type+"TextElement",text),this.set(type+"IconElement",handleIcon),handle},_proto._initSliderBackground=function(){var backgroundElement=this.addGroup();return backgroundElement.initTransform(),backgroundElement.translate(0,0),backgroundElement.addShape("Rect",{attrs:Util.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),backgroundElement},_proto._beforeRenderUI=function(){var backgroundElement=this._initSliderBackground(),minHandleElement=this._initHandle("min"),maxHandleElement=this._initHandle("max"),middleHandleElement=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",middleHandleElement),this.set("minHandleElement",minHandleElement),this.set("maxHandleElement",maxHandleElement),this.set("backgroundElement",backgroundElement),backgroundElement.set("zIndex",0),middleHandleElement.set("zIndex",1),minHandleElement.set("zIndex",2),maxHandleElement.set("zIndex",2),middleHandleElement.attr("cursor","move"),this.sort()},_proto._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_proto._transform=function(layout){var range=this.get("range"),minRatio=range[0]/100,maxRatio=range[1]/100,width=this.get("width"),height=this.get("height"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.get("middleHandleElement");minHandleElement.resetMatrix?(minHandleElement.resetMatrix(),maxHandleElement.resetMatrix()):(minHandleElement.initTransform(),maxHandleElement.initTransform()),"horizontal"===layout?(middleHandleElement.attr({x:width*minRatio,y:0,width:(maxRatio-minRatio)*width,height:height}),minHandleElement.translate(minRatio*width,0),maxHandleElement.translate(maxRatio*width,0)):(middleHandleElement.attr({x:0,y:height*(1-maxRatio),width:width,height:(maxRatio-minRatio)*height}),minHandleElement.translate(0,(1-minRatio)*height),maxHandleElement.translate(0,(1-maxRatio)*height))},_proto._renderHorizontal=function(){this._transform("horizontal")},_proto._renderVertical=function(){this._transform("vertical")},_proto._bindUI=function(){this.on("mousedown",Util.wrapBehavior(this,"_onMouseDown"))},_proto._isElement=function(target,name){var element=this.get(name);if(target===element)return!0;if(element.isGroup){return element.get("children").indexOf(target)>-1}return!1},_proto._getRange=function(diff,range){var rst=diff+range;return rst=rst>100?100:rst,rst=rst<0?0:rst},_proto._limitRange=function(diff,limit,range){range[0]=this._getRange(diff,range[0]),range[1]=range[0]+limit,range[1]>100&&(range[1]=100,range[0]=range[1]-limit)},_proto._updateStatus=function(dim,ev){var totalLength="x"===dim?this.get("width"):this.get("height");dim=Util.upperFirst(dim);var diffStashRange,range=this.get("range"),page=this.get("page"+dim),currentTarget=this.get("currentTarget"),rangeStash=this.get("rangeStash"),layout=this.get("layout"),sign="vertical"===layout?-1:1,currentPage=ev["page"+dim],diffPage=currentPage-page,diffRange=diffPage/totalLength*100*sign,minRange=this.get("minRange"),maxRange=this.get("maxRange");range[1]<=range[0]?(this._isElement(currentTarget,"minHandleElement")||this._isElement(currentTarget,"maxHandleElement"))&&(range[0]=this._getRange(diffRange,range[0]),range[1]=this._getRange(diffRange,range[0])):(this._isElement(currentTarget,"minHandleElement")&&(range[0]=this._getRange(diffRange,range[0]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range)),this._isElement(currentTarget,"maxHandleElement")&&(range[1]=this._getRange(diffRange,range[1]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range))),this._isElement(currentTarget,"middleHandleElement")&&(diffStashRange=rangeStash[1]-rangeStash[0],this._limitRange(diffRange,diffStashRange,range)),this.emit("sliderchange",{range:range}),this.set("page"+dim,currentPage),this._renderUI(),this.get("canvas").draw()},_proto._onMouseDown=function(ev){var currentTarget=ev.currentTarget,originEvent=ev.event,range=this.get("range");originEvent.stopPropagation(),originEvent.preventDefault(),this.set("pageX",originEvent.pageX),this.set("pageY",originEvent.pageY),this.set("currentTarget",currentTarget),this.set("rangeStash",[range[0],range[1]]),this._bindCanvasEvents()},_proto._bindCanvasEvents=function(){var containerDOM=this.get("canvas").get("containerDOM");this.onMouseMoveListener=DomUtil.addEventListener(containerDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=DomUtil.addEventListener(containerDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=DomUtil.addEventListener(containerDOM,"mouseleave",Util.wrapBehavior(this,"_onCanvasMouseUp"))},_proto._onCanvasMouseMove=function(ev){"horizontal"===this.get("layout")?this._updateStatus("x",ev):this._updateStatus("y",ev)},_proto._onCanvasMouseUp=function(){this._removeDocumentEvents()},_proto._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},Range}(Group);module.exports=Range}])})},32:function(module,exports,__webpack_require__){(function(global,module){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return null==object?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function strictLastIndexOf(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var undefined,LARGE_ARRAY_SIZE=200,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",MAX_MEMOIZE_SIZE=500,PLACEHOLDER="__lodash_placeholder__",CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=800,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]],argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",reOptMod="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",rsOptJoin="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+rsOptJoin,rsEmoji="(?:"+["[\\u2700-\\u27bf]",rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+["[^\\ud800-\\udfff]"+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,"[\\ud800-\\udfff]"].join("|")+")",reApos=RegExp("['â]","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['â](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,asciiSize=baseProperty("length"),deburrLetter=basePropertyOf(deburredLetters),escapeHtmlChar=basePropertyOf(htmlEscapes),unescapeHtmlChar=basePropertyOf(htmlUnescapes),_=function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[],this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number===number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),isSet(value))return value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}),result;if(isMap(value))return value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result;var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?undefined:keysFunc(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFill(array,value,start,end){var length=array.length;for(start=toInteger(start),start<0&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:toInteger(end),end<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?value===undefined?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}function baseInvoke(object,path,args){path=castPath(path,object),object=parent(object,path);var func=null==object?object:object[toKey(last(path))];return null==func?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag,othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(length)return n+=n<0?length:0,isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;return iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee())),baseSortBy(baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=castPath(path,object);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined,newValue===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),end=end>length?length:end,end<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=null==array?0:array.length,valIsNaN=value!==value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed===computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value===value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;return result*("desc"==orders[index]?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;newValue===undefined&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createBind(func,bitmask,thisArg){function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}var Ctor=createCtor(func);return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return wrapper}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),step=step===undefined?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG,(bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG))&WRAP_CURRY_BOUND_FLAG||(bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),precision=null==precision?0:nativeMin(toInteger(precision),292)){var pair=(toString(number)+"e").split("e");return pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"),+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0),!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)),bitmask&&bitmask!=WRAP_BIND_FLAG)result=bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG?createCurry(func,bitmask,arity):bitmask!=WRAP_PARTIAL_FLAG&&bitmask!=(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG)||holders.length?createHybrid.apply(undefined,newData):createPartial(func,bitmask,thisArg,partials);else var result=createBind(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(srcValue!==undefined||key in Object(object)))}}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&WRAP_BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),value=source[7],value&&(data[7]=value),srcBitmask&WRAP_ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if("__proto__"!=key)return object[key]}function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=size===undefined?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result}function concat(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}function drop(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,n<0?0:n,length)):[]}function dropRight(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,0,n<0?0:n)):[]}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]}function fill(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function flattenDeep(array){return(null==array?0:array.length)?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){return(null==array?0:array.length)?(depth=depth===undefined?1:toInteger(depth),baseFlatten(array,depth)):[]}function fromPairs(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)}function initial(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]}function join(array,separator){return null==array?"":nativeJoin.call(array,separator)}function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)),value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function reverse(array){return null==array?array:nativeReverse.call(array)}function slice(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)}function sortedLastIndexOf(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){return array&&array.length?(n=guard||n===undefined?1:toInteger(n),baseSlice(array,0,n<0?0:n)):[]}function takeRight(array,n,guard){var length=null==array?0:array.length;return length?(n=guard||n===undefined?1:toInteger(n),n=length-n,baseSlice(array,n<0?0:n,length)):[]}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor){return interceptor(value),value}function thru(value,interceptor){return interceptor(value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?undefined:this.__values__[this.__index__++]}}function wrapperToIterator(){return this}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))}function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),orders=guard?undefined:orders,isArray(orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))}function sample(collection){return(isArray(collection)?arraySample:baseSample)(collection)}function sampleSize(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)}function shuffle(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)}function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))}function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}}function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curry.placeholder,result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryRight.placeholder,result}function debounce(func,wait,options){function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function cancel(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=start===undefined?start:toInteger(start),baseRest(func,start)}function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return null==source||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag}function isElement(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)}function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer="function"==typeof customizer?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)}function isNull(value){return null===value}function isNil(value){return null==value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return iteratorToArray(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){if(!value)return 0===value?value:0;if((value=toNumber(value))===INFINITY||value===-INFINITY){return(value<0?-1:1)*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):0===value?value:0}function toString(value){return null==value?"":baseToString(value)}function create(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)}function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return null==object?[]:baseFunctions(object,keys(object))}function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return null!=object&&hasPath(object,path,baseHas)}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result}function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result}function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=getIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return null==object?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)}function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function unset(object,path){return null==object||baseUnset(object,path)}function update(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return null==object?[]:baseValues(object,keys(object))}function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=toNumber(upper),upper=upper===upper?upper:0),lower!==undefined&&(lower=toNumber(lower),lower=lower===lower?lower:0),baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),number=toNumber(number),baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;return(position-=target.length)>=0&&string.slice(position,end)==target}function escape(string){return string=toString(string),string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=toString(string),string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}function pad(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string),length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}function split(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0)?(string=toString(string),string&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit)):[]}function startsWith(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}function trimEnd(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")}function trimStart(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=toString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return string=toString(string),pattern=guard?undefined:pattern,pattern===undefined?hasUnicodeWord(string)?unicodeWords(string):asciiWords(string):string.match(pattern)||[]}function cond(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return null==value||value!==value?defaultValue:value}function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=copyArray(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noConflict(){return root._===this&&(root._=oldDash),this}function noop(){}function nthArg(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}}function stubArray(){return[]}function stubFalse(){return!1}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}function times(n,iteratee){if((n=toInteger(n))<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result}function toPath(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=undefined,result}}();lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity,castRest=baseRest,clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)},createSet=Set&&1/setToArray(new Set([,-0]))[1]==INFINITY?function(values){return new Set(values)}:noop,getData=metaMap?function(func){return metaMap.get(func)}:noop,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse,setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString),stringToPath=function(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result}),difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]}),intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return comparator="function"==typeof comparator?comparator:undefined,comparator&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]}),pull=baseRest(pullAll),pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),result}),union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)}),without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip),zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)}),wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?(value=value.slice(start,+start+(length?1:0)),value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)}),find=createFind(findIndex),findLast=createFind(findLastIndex),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}),invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()},bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)}),defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});memoize.Cache=MapCache;var overArgs=castRest(function(func,transforms){transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)}),gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer,isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other}),assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))return void copyObject(source,keys(source),object);for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt),defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}),defaultsDeep=baseRest(function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)}),invert=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke),merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}),pick=flatRest(function(object,paths){return null==object?{}:basePick(object,paths)}),toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase"),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)}),upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase"),attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){return arrayEach(methodNames,function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))}),object}),flow=createFlow(),flowRight=createFlow(!0),method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}}),over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),range=createRange(),rangeRight=createRange(!0),add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor"),multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);return lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=castArray,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.concat=concat,lodash.cond=cond,lodash.conforms=conforms,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatMap=flatMap,lodash.flatMapDeep=flatMapDeep,lodash.flatMapDepth=flatMapDepth,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flattenDepth=flattenDepth,lodash.flip=flip,lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=fromPairs,lodash.functions=functions,lodash.functionsIn=functionsIn,lodash.groupBy=groupBy,lodash.initial=initial,lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=nthArg,lodash.omit=omit,lodash.omitBy=omitBy,lodash.once=once,lodash.orderBy=orderBy,lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=pullAllBy,lodash.pullAllWith=pullAllWith,lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.reverse=reverse,lodash.sampleSize=sampleSize,lodash.set=set,lodash.setWith=setWith,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortedUniq=sortedUniq,lodash.sortedUniqBy=sortedUniqBy,lodash.split=split,lodash.spread=spread,lodash.tail=tail,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=toPath,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.unary=unary,lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=uniq,lodash.uniqBy=uniqBy,lodash.uniqWith=uniqWith,lodash.unset=unset,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=update,lodash.updateWith=updateWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.without=without,lodash.words=words,lodash.wrap=wrap,lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipObjectDeep=zipObjectDeep,lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=clamp,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.cloneDeepWith=cloneDeepWith,lodash.cloneWith=cloneWith,lodash.conformsTo=conformsTo,lodash.deburr=deburr,lodash.defaultTo=defaultTo,lodash.divide=divide,lodash.endsWith=endsWith,lodash.eq=eq,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=isBoolean,lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isEqualWith=isEqualWith,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=isMatch,lodash.isMatchWith=isMatchWith,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNil=isNil,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=isSafeInteger,lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.isWeakMap=isWeakMap,lodash.isWeakSet=isWeakSet,lodash.join=join,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.maxBy=maxBy,lodash.mean=mean,lodash.meanBy=meanBy,lodash.min=min,lodash.minBy=minBy,lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=stubObject,lodash.stubString=stubString,lodash.stubTrue=stubTrue,lodash.multiply=multiply,lodash.nth=nth,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padEnd=padEnd,lodash.padStart=padStart,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.replace=replace,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.sample=sample,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedIndexBy=sortedIndexBy,lodash.sortedIndexOf=sortedIndexOf,lodash.sortedLastIndex=sortedLastIndex,lodash.sortedLastIndexBy=sortedLastIndexBy,lodash.sortedLastIndexOf=sortedLastIndexOf,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.subtract=subtract,lodash.sum=sum,lodash.sumBy=sumBy,lodash.template=template,lodash.times=times,lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=toLower,lodash.toNumber=toNumber,lodash.toSafeInteger=toSafeInteger,lodash.toString=toString,lodash.toUpper=toUpper,lodash.trim=trim,lodash.trimEnd=trimEnd,lodash.trimStart=trimStart,lodash.truncate=truncate,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source}(),{chain:!1}),lodash.VERSION="4.17.11",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=toInteger(end),result=end<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";(realNames[key]||(realNames[key]=[])).push({name:methodName,func:lodashFunc})}}),realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=wrapperAt,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.next=wrapperNext,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=wrapperToIterator),lodash}();root._=_,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(exports,__webpack_require__(28),__webpack_require__(73)(module))},63:function(module,__webpack_exports__,__webpack_require__){"use strict";function setSEvent(chart,itemname,keyname,content){if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(keyname)){var parseEventItem=regEventName.exec(keyname);if(parseEventItem&&!(parseEventItem.length<=2)){var lowerEventItem=parseEventItem[1].toLowerCase(),lowerEventName=parseEventItem[2].toLowerCase(),eventItem=itemname+"-"+lowerEventItem;chart.on(eventItem+":"+lowerEventName,function(ev){content&&content(ev,chart)})}}}function setEvent(chart,name,item){if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(item)){var events=Object.keys(item).filter(function(entry){return/^on/.test(entry)});__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(events)||events.forEach(function(entry){var eventName=entry.slice(2,entry.length),eventLowerCase=eventName.toLowerCase(),content=item[entry];if(item.gemo&&eventLowerCase.indexOf("label")>=0){var eventType=eventLowerCase.replace("label","");return void chart.on("label:"+eventType,function(ev){content&&content(ev,chart)})}name?chart.on(name+":"+eventLowerCase,function(ev){content&&content(ev,chart)}):chart.on(eventLowerCase,function(ev){content&&content(ev,chart)})})}}__webpack_exports__.b=setSEvent,__webpack_exports__.a=setEvent;var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),regEventName=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),/on(.+)(MouseEnter|MouseMove|MouseLeave|Click|DdlClick|MouseDown|MouseUp|TouchStart|TouchMove|TouchEnd)/)},73:function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},79:function(module,__webpack_exports__,__webpack_require__){"use strict";function hasDataCondition(config){var hasData=!1;if(__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(config.data)||(hasData=!0),!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(config.views)&&(__WEBPACK_IMPORTED_MODULE_0_lodash__.isPlainObject(config.views)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(config.views.data)&&(hasData=!0),__WEBPACK_IMPORTED_MODULE_0_lodash__.isArray(config.views)))for(var _i=0,_a=config.views;_i<_a.length;_i++){var item=_a[_i];__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(item.data)||(hasData=!0)}return hasData}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"registerAnimation",function(){return registerAnimation}),__webpack_require__.d(__webpack_exports__,"registerShape",function(){return registerShape}),__webpack_require__.d(__webpack_exports__,"Global",function(){return Global});var __WEBPACK_IMPORTED_MODULE_0_lodash__=__webpack_require__(32),__WEBPACK_IMPORTED_MODULE_1__core_CommonChart__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__),__webpack_require__(278)),__WEBPACK_IMPORTED_MODULE_2__utils_CustomizeUtils__=__webpack_require__(113),__WEBPACK_IMPORTED_MODULE_3__plugins_index__=__webpack_require__(304);__webpack_require__.d(__webpack_exports__,"Plugin",function(){return __WEBPACK_IMPORTED_MODULE_3__plugins_index__.a});var G2=__webpack_require__(97),registerAnimation=__WEBPACK_IMPORTED_MODULE_2__utils_CustomizeUtils__.a,registerShape=__WEBPACK_IMPORTED_MODULE_2__utils_CustomizeUtils__.b,Global=G2.Global;__webpack_exports__.default=function(config){if(!__WEBPACK_IMPORTED_MODULE_0_lodash__.isNil(config)&&!__WEBPACK_IMPORTED_MODULE_0_lodash__.isEmpty(config)){if(hasDataCondition(config)){var commonChart=new __WEBPACK_IMPORTED_MODULE_1__core_CommonChart__.a(config);return commonChart.render(),commonChart}}}},96:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__formatDecimal__=__webpack_require__(112);__webpack_exports__.a=function(x){return x=Object(__WEBPACK_IMPORTED_MODULE_0__formatDecimal__.a)(Math.abs(x)),x?x[1]:NaN}},97:function(module,exports,__webpack_require__){!function(root,factory){module.exports=factory()}("undefined"!=typeof self&&self,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=389)}([function(module,exports,__webpack_require__){var Utils=__webpack_require__(127),G=__webpack_require__(16),Util=Utils.mix({},Utils,{assign:Utils.mix,merge:Utils.deepMix,cloneDeep:Utils.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:Utils.isNumberEqual,remove:Utils.pull,inArray:Utils.contains,toAllPadding:function(padding){var top=0,left=0,right=0,bottom=0;return Util.isNumber(padding)||Util.isString(padding)?top=left=right=bottom=padding:Util.isArray(padding)?(top=padding[0],right=Util.isNil(padding[1])?padding[0]:padding[1],bottom=Util.isNil(padding[2])?padding[0]:padding[2],left=Util.isNil(padding[3])?right:padding[3]):Util.isObject(padding)&&(top=padding.top||0,right=padding.right||0,bottom=padding.bottom||0,left=padding.left||0),[top,right,bottom,left]},getClipByRange:function(plotRange){var tl=plotRange.tl,br=plotRange.br;return new G.Rect({attrs:{x:tl.x,y:tl.y,width:br.x-tl.x,height:br.y-tl.y}})}});Util.Array={groupToMap:Utils.groupToMap,group:Utils.group,merge:Utils.merge,values:Utils.valuesOfKey,getRange:Utils.getRange,firstValue:Utils.firstValue,remove:Utils.pull},module.exports=Util},function(module,exports,__webpack_require__){var CommonUtil=__webpack_require__(81),Util={};CommonUtil.merge(Util,CommonUtil,{mixin:function(c,mixins){var Param=c.CFG?"CFG":"ATTRS";if(c&&mixins){c._mixins=mixins,c[Param]=c[Param]||{};var temp={};Util.each(mixins,function(mixin){Util.augment(c,mixin);var attrs=mixin[Param];attrs&&Util.merge(temp,attrs)}),c[Param]=Util.merge(temp,c[Param])}}}),module.exports=Util},function(module,exports,__webpack_require__){var isObject=__webpack_require__(24),isArray=__webpack_require__(4),each=function(elements,func){if(elements){if(isArray(elements))for(var i=0,len=elements.length;i<len&&!1!==func(elements[i],i);i++);else if(isObject(elements))for(var k in elements)if(elements.hasOwnProperty(k)&&!1===func(elements[k],k))break}};module.exports=each},function(module,exports,__webpack_require__){var G=__webpack_require__(25),Utils=__webpack_require__(127),Util=Utils.mix({assign:Utils.mix,isFinite:isFinite,isNaN:isNaN,Group:G.Group,Event:G.Event},Utils);module.exports=Util},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isArray=Array.isArray?Array.isArray:function(value){return isType(value,"Array")};module.exports=isArray},function(module,exports){var isNil=function(value){return null===value||void 0===value};module.exports=isNil},function(module,exports,__webpack_require__){function _cloneArrayAttr(arr){for(var result=[],i=0;i<arr.length;i++)Util.isArray(arr[i])?result.push([].concat(arr[i])):result.push(arr[i]);return result}var Util=__webpack_require__(1),isPointInPath=__webpack_require__(189),Element=__webpack_require__(102),Inside=__webpack_require__(54),Shape=function Shape(cfg){Shape.superclass.constructor.call(this,cfg)};Shape.ATTRS={},Util.extend(Shape,Element);var ARRAY_ATTRS={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};Util.augment(Shape,isPointInPath,{isShape:!0,drawInner:function(context){var self=this,attrs=self._attrs;self.createPath(context);var originOpacity=context.globalAlpha;if(self.hasFill()){var fillOpacity=attrs.fillOpacity;Util.isNil(fillOpacity)||1===fillOpacity?context.fill():(context.globalAlpha=fillOpacity,context.fill(),context.globalAlpha=originOpacity)}if(self.hasStroke()){if(self._attrs.lineWidth>0){var strokeOpacity=attrs.strokeOpacity;Util.isNil(strokeOpacity)||1===strokeOpacity||(context.globalAlpha=strokeOpacity),context.stroke()}}self.afterPath(context)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(x,y){var self=this,v=[x,y,1];if(self.invert(v),self.isHitBox()){var box=self.getBBox();if(box&&!Inside.box(box.minX,box.maxX,box.minY,box.maxY,v[0],v[1]))return!1}var clip=self._attrs.clip;return clip?(clip.invert(v,self.get("canvas")),!!clip.isPointInPath(v[0],v[1])&&self.isPointInPath(v[0],v[1])):self.isPointInPath(v[0],v[1])},calculateBox:function(){return null},getHitLineWidth:function(){var attrs=this._attrs,lineAppendWidth=attrs.lineAppendWidth||0;return(attrs.lineWidth||0)+lineAppendWidth},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var box=this._cfg.box;return box||(box=this.calculateBox(),box&&(box.x=box.minX,box.y=box.minY,box.width=box.maxX-box.minX,box.height=box.maxY-box.minY),this._cfg.box=box),box},clone:function(){var self=this,clone=null,_attrs=self._attrs,attrs={};return Util.each(_attrs,function(i,k){ARRAY_ATTRS[k]&&Util.isArray(_attrs[k])?attrs[k]=_cloneArrayAttr(_attrs[k]):attrs[k]=_attrs[k]}),clone=new self.constructor({attrs:attrs}),clone._cfg.zIndex=self._cfg.zIndex,clone}}),module.exports=Shape},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Theme=__webpack_require__(151),Global={version:"3.5.3",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(name,theme){Theme[name]=theme},setTheme:function(theme){var newTheme={};newTheme=Util.isObject(theme)?theme:-1!==Util.indexOf(Object.keys(Theme),theme)?Theme[theme]:Theme.default,Util.deepMix(Global,newTheme)}};Global.setTheme("default"),module.exports=Global},function(module,exports){function _mix(dist,obj){for(var key in obj)obj.hasOwnProperty(key)&&"constructor"!==key&&void 0!==obj[key]&&(dist[key]=obj[key])}var mix=function(dist,src1,src2,src3){return src1&&_mix(dist,src1),src2&&_mix(dist,src2),src3&&_mix(dist,src3),dist};module.exports=mix},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isNumber=function(value){return isType(value,"Number")};module.exports=isNumber},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isString=function(str){return isType(str,"String")};module.exports=isString},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isFunction=function(value){return isType(value,"Function")};module.exports=isFunction},function(module,exports){var toString={}.toString,isType=function(value,type){return toString.call(value)==="[object "+type+"]"};module.exports=isType},function(module,exports){var isArrayLike=function(value){return null!==value&&"function"!=typeof value&&isFinite(value.length)};module.exports=isArrayLike},function(module,exports){module.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Helper=__webpack_require__(156),Component=__webpack_require__(32),KEYWORDS=["min","max","median","start","end"],Guide=function(_Component){function Guide(){return _Component.apply(this,arguments)||this}_inheritsLoose(Guide,_Component);var _proto=Guide.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{xScales:null,yScales:null,el:null})},_proto.render=function(){},_proto.clear=function(){var self=this,el=self.get("el");el&&el.remove()},_proto.changeVisible=function(visible){var self=this;self.set("visible",visible);var el=self.get("el");el&&(el.set?el.set("visible",visible):el.style.display=visible?"":"none")},_proto.parsePoint=function(coord,position){var self=this,xScales=self.get("xScales"),yScales=self.get("yScales");Util.isFunction(position)&&(position=position(xScales,yScales));var x,y;if(Util.isArray(position)&&Util.isString(position[0])&&-1!==position[0].indexOf("%"))return this._parsePercentPoint(coord,position);if(Util.isArray(position))x=self._getNormalizedValue(position[0],Helper.getFirstScale(xScales)),y=self._getNormalizedValue(position[1],Helper.getFirstScale(yScales));else for(var field in position){var value=position[field];xScales[field]&&(x=self._getNormalizedValue(value,xScales[field])),yScales[field]&&(y=self._getNormalizedValue(value,yScales[field],"y"))}return Util.isNil(x)||Util.isNil(y)?void 0:coord.convert({x:x,y:y})},_proto._getNormalizedValue=function(val,scale){var result;if(-1!==Util.indexOf(KEYWORDS,val)){var scaleValue;"start"===val?result=0:"end"===val?result=1:"median"===val?(scaleValue=scale.isCategory?(scale.values.length-1)/2:(scale.min+scale.max)/2,result=scale.scale(scaleValue)):(scaleValue=scale.isCategory?"min"===val?0:scale.values.length-1:scale[val],result=scale.scale(scaleValue))}else result=scale.scale(val);return result},_proto._parsePercentPoint=function(coord,position){var xPercent=parseFloat(position[0])/100,yPercent=parseFloat(position[1])/100,start=coord.start,end=coord.end,topLeft={x:Math.min(start.x,end.x),y:Math.min(start.y,end.y)};return{x:coord.width*xPercent+topLeft.x,y:coord.height*yPercent+topLeft.y}},Guide}(Component);module.exports=Guide},function(module,exports,__webpack_require__){var G=__webpack_require__(25);module.exports=G},function(module,exports,__webpack_require__){var mix=__webpack_require__(8),each=__webpack_require__(2),isObject=__webpack_require__(24),isNil=__webpack_require__(5),Scale=function(){function Scale(cfg){this._initDefaultCfg(),mix(this,cfg),this.init()}var _proto=Scale.prototype;return _proto._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},_proto.init=function(){},_proto.getTicks=function(){var self=this,ticks=self.ticks,rst=[];return each(ticks,function(tick){var obj;obj=isObject(tick)?tick:{text:self.getText(tick),tickValue:tick,value:self.scale(tick)},rst.push(obj)}),rst},_proto.getText=function(value,key){var formatter=this.formatter;return value=formatter?formatter(value,key):value,!isNil(value)&&value.toString||(value=""),value.toString()},_proto.rangeMin=function(){return this.range[0]},_proto.rangeMax=function(){var range=this.range;return range[range.length-1]},_proto.invert=function(value){return value},_proto.translate=function(value){return value},_proto.scale=function(value){return value},_proto.clone=function(){var self=this,constr=self.constructor,cfg={};return each(self,function(v,k){cfg[k]=self[k]}),new constr(cfg)},_proto.change=function(info){return this.ticks=null,mix(this,info),this.init(),this},Scale}();module.exports=Scale},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),PathUtil=__webpack_require__(22),GPath=Util.PathUtil,Shape={},ShapeBase={_coord:null,draw:function(cfg,container){return this.drawShape?this.drawShape(cfg,container):null},setCoord:function(coord){this._coord=coord},parsePath:function(path,islineToArc){var coord=this._coord;return path=GPath.parsePathString(path),path=coord.isPolar&&!1!==islineToArc?PathUtil.convertPolarPath(coord,path):PathUtil.convertNormalPath(coord,path)},parsePoint:function(point){return this._coord.convertPoint(point)},parsePoints:function(points){var coord=this._coord,rst=[];return Util.each(points,function(point){rst.push(coord.convertPoint(point))}),rst}},ShapeFactoryBase={defaultShapeType:null,setCoord:function(coord){this._coord=coord},getShape:function(type){var self=this;Util.isArray(type)&&(type=type[0]);var shape=self[type]||self[self.defaultShapeType];return shape._coord=self._coord,shape},getShapePoints:function(type,cfg){var shape=this.getShape(type);return(shape.getPoints||shape.getShapePoints||this.getDefaultPoints)(cfg)},getDefaultPoints:function(){return[]},getMarkerCfg:function(type,cfg){var shape=this.getShape(type);if(!shape.getMarkerCfg){var defaultShapeType=this.defaultShapeType;shape=this.getShape(defaultShapeType)}return shape.getMarkerCfg(cfg)},getSelectedCfg:function(){return{}},drawShape:function(type,cfg,container){var shape=this.getShape(type),gShape=shape.draw(cfg,container);return gShape&&(gShape.setSilent("origin",cfg.origin),gShape._id=cfg.yIndex?cfg._id+cfg.yIndex:cfg._id,gShape.name=this.name),gShape}};Shape.registerFactory=function(factoryName,cfg){var className=Util.upperFirst(factoryName),geomObj=Util.assign({},ShapeFactoryBase,cfg);return Shape[className]=geomObj,geomObj.name=factoryName,geomObj},Shape.registerShape=function(factoryName,shapeType,cfg){var className=Util.upperFirst(factoryName),factory=Shape[className],shapeObj=Util.assign({},ShapeBase,cfg);return factory[shapeType]=shapeObj,shapeObj},Shape.getShapeFactory=function(factoryName){var self=this;return factoryName=factoryName||"point",self[Util.upperFirst(factoryName)]},module.exports=Shape},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_color__=__webpack_require__(60);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.e}),__webpack_require__.d(__webpack_exports__,"f",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.g}),__webpack_require__.d(__webpack_exports__,"d",function(){return __WEBPACK_IMPORTED_MODULE_0__src_color__.f});var __WEBPACK_IMPORTED_MODULE_1__src_lab__=__webpack_require__(203);__webpack_require__.d(__webpack_exports__,"e",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.a}),__webpack_require__.d(__webpack_exports__,"c",function(){return __WEBPACK_IMPORTED_MODULE_1__src_lab__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__=__webpack_require__(204);__webpack_require__.d(__webpack_exports__,"b",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubehelix__.a})},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function parseAdjusts(adjusts){return(Util.isString(adjusts)||Util.isPlainObject(adjusts))&&(adjusts=[adjusts]),Util.each(adjusts,function(adjust,index){Util.isObject(adjust)||(adjusts[index]={type:adjust})}),adjusts}var Attr=__webpack_require__(73),Adjust=__webpack_require__(297),Base=__webpack_require__(148),Util=__webpack_require__(0),Global=__webpack_require__(7),Labels=__webpack_require__(305),Shape=__webpack_require__(18),TooltipMixin=__webpack_require__(337),ActiveMixin=__webpack_require__(338),SelectMixin=__webpack_require__(339),parseFields=__webpack_require__(340),GROUP_ATTRS=["color","shape","size"],GeomBase=function(_Base){function GeomBase(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.viewTheme=_this.get("viewTheme"),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),TooltipMixin,ActiveMixin,SelectMixin),_this.get("container")&&_this._initContainer(),_this._initOptions(),_this}_inheritsLoose(GeomBase,_Base);var _proto=GeomBase.prototype;return _proto.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},_proto._initOptions=function(){var adjusts=this.get("adjusts");adjusts&&(adjusts=parseAdjusts(adjusts),this.set("adjusts",adjusts))},_proto._createScale=function(field,data){var scales=this.get("scales"),scale=scales[field];return scale||(scale=this.get("view").createScale(field,data),scales[field]=scale),scale},_proto._setAttrOptions=function(attrName,attrCfg){this.get("attrOptions")[attrName]=attrCfg},_proto._createAttrOption=function(attrName,field,cfg,defaultValues){var attrCfg={};attrCfg.field=field,cfg?Util.isFunction(cfg)?attrCfg.callback=cfg:attrCfg.values=cfg:"color"!==attrName&&(attrCfg.values=defaultValues),this._setAttrOptions(attrName,attrCfg)},_proto.position=function(field){return this._setAttrOptions("position",{field:field}),this},_proto.color=function(field,values){var viewTheme=this.viewTheme||Global;return this._createAttrOption("color",field,values,viewTheme.colors),this},_proto.size=function(field,values){var viewTheme=this.viewTheme||Global;return this._createAttrOption("size",field,values,viewTheme.sizes),this},_proto.shape=function(field,values){var viewTheme=this.viewTheme||Global,type=this.get("type"),shapes=viewTheme.shapes[type]||[];return this._createAttrOption("shape",field,values,shapes),this},_proto.opacity=function(field,values){var viewTheme=this.viewTheme||Global;return this._createAttrOption("opacity",field,values,viewTheme.opacities),this},_proto.style=function(field,cfg){var styleOptions=this.get("styleOptions");styleOptions||(styleOptions={},this.set("styleOptions",styleOptions)),Util.isObject(field)&&(cfg=field,field=null);var fields;return field&&(fields=parseFields(field)),styleOptions.fields=fields,styleOptions.style=cfg,this},_proto.label=function(field,callback,cfg){var self=this,labelCfg=self.get("labelCfg");labelCfg||(labelCfg={},self.set("labelCfg",labelCfg));var fields;return field&&(fields=parseFields(field)),labelCfg.fields=fields,Util.isFunction(callback)?(cfg||(cfg={}),labelCfg.callback=callback):Util.isObject(callback)&&(cfg=callback),labelCfg.globalCfg=cfg,this},_proto.tooltip=function(field,cfg){var tooltipCfg=this.get("tooltipCfg");if(tooltipCfg||(tooltipCfg={}),!1===field)this.set("tooltipCfg",!1);else{var tooltipFields;field&&(tooltipFields=parseFields(field)),tooltipCfg.fields=tooltipFields,tooltipCfg.cfg=cfg}return this.set("tooltipCfg",tooltipCfg),this},_proto.animate=function(cfg){return this.set("animateCfg",cfg),this},_proto.active=function(enable,cfg){return!1===enable?this.set("allowActive",!1):Util.isObject(enable)?(this.set("allowActive",!0),this.set("activedOptions",enable)):(this.set("allowActive",!0),this.set("activedOptions",cfg)),this},_proto.adjust=function(adjusts){return this.get("hasDefaultAdjust")||(adjusts&&(adjusts=parseAdjusts(adjusts)),this.set("adjusts",adjusts)),this},_proto.select=function(enable,cfg){return!1===enable?this.set("allowSelect",!1):Util.isObject(enable)?(this.set("allowSelect",!0),this.set("selectedOptions",enable)):(this.set("allowSelect",!0),this.set("selectedOptions",cfg)),this},_proto.hasAdjust=function(adjustType){var self=this,adjusts=self.get("adjusts");if(!adjustType)return!1;var rst=!1;return Util.each(adjusts,function(adjust){if(adjust.type===adjustType)return rst=!0,!1}),rst},_proto.hasStack=function(){var isStacked=this.get("isStacked");return Util.isNil(isStacked)&&(isStacked=this.hasAdjust("stack"),this.set("isStacked",isStacked)),isStacked},_proto.isInCircle=function(){var coord=this.get("coord");return coord&&coord.isPolar},_proto._initContainer=function(){var self=this,shapeContainer=self.get("shapeContainer");if(!shapeContainer){var container=self.get("container"),view=self.get("view"),viewId=view&&view.get("_id");shapeContainer=container.addGroup({viewId:viewId,visible:self.get("visible")}),self.set("shapeContainer",shapeContainer)}},_proto.init=function(){var self=this;if(self._initContainer(),self._initAttrs(),self.get("tooltipCfg")&&self.get("tooltipCfg").fields){var tooltipFields=self.get("tooltipCfg").fields;Util.each(tooltipFields,function(field){self._createScale(field)})}var dataArray=self._processData();self.get("adjusts")&&self._adjust(dataArray),self.set("dataArray",dataArray)},_proto._initAttrs=function(){var self=this,attrs=self.get("attrs"),attrOptions=self.get("attrOptions"),coord=self.get("coord"),viewTheme=self.viewTheme||Global,isPie=!1;for(var type in attrOptions)if(attrOptions.hasOwnProperty(type)){var option=attrOptions[type],className=Util.upperFirst(type),fields=parseFields(option.field);"position"===type&&(option.coord=coord,1===fields.length&&"theta"===coord.type&&(fields.unshift("1"),isPie=!0));for(var scales=[],i=0;i<fields.length;i++){var field=fields[i],scale=self._createScale(field);"color"===type&&Util.isNil(option.values)&&(scale.values.length<=8?option.values=isPie?viewTheme.colors_pie:viewTheme.colors:scale.values.length<=16?option.values=isPie?viewTheme.colors_pie_16:viewTheme.colors_16:option.values=viewTheme.colors_24,Util.isNil(option.values)&&(option.values=viewTheme.colors)),scales.push(scale)}if("theta"===coord.type&&"position"===type&&scales.length>1){var yScale=scales[1],max=Math.max.apply(null,yScale.values);isFinite(max)||(max=1),yScale.change({nice:!1,min:0,max:max})}option.scales=scales;var attr=new Attr[className](option);attrs[type]=attr}},_proto._processData=function(){for(var self=this,data=this.get("data"),dataArray=[],groupedArray=this._groupData(data),i=0;i<groupedArray.length;i++){var subData=groupedArray[i],tempData=self._saveOrigin(subData);self._numberic(tempData),dataArray.push(tempData)}return dataArray},_proto._groupData=function(data){var groupScales=this._getGroupScales(),fields=groupScales.map(function(scale){return scale.field});return Util.Array.group(data,fields)},_proto._saveOrigin=function(data){for(var rst=[],i=0;i<data.length;i++){var origin=data[i],obj={};for(var k in origin)obj[k]=origin[k];obj._origin=origin,rst.push(obj)}return rst},_proto._numberic=function(data){for(var positionAttr=this.getAttr("position"),scales=positionAttr.scales,j=0;j<data.length;j++)for(var obj=data[j],i=0;i<Math.min(2,scales.length);i++){var scale=scales[i];if(scale.isCategory){var field=scale.field;obj[field]=scale.translate(obj[field])}}},_proto._getGroupScales=function(){var self=this,scales=self.get("groupScales");if(!scales){scales=[];var attrs=self.get("attrs");Util.each(attrs,function(attr){if(-1!==GROUP_ATTRS.indexOf(attr.type)){var attrScales=attr.scales;Util.each(attrScales,function(scale){scale.isCategory&&-1===Util.indexOf(scales,scale)&&scales.push(scale)})}}),self.set("groupScales",scales)}return scales},_proto._updateStackRange=function(field,scale,dataArray){for(var mergeArray=Util.Array.merge(dataArray),min=scale.min,max=scale.max,i=0;i<mergeArray.length;i++){var obj=mergeArray[i],tmpMin=Math.min.apply(null,obj[field]),tmpMax=Math.max.apply(null,obj[field]);tmpMin<min&&(min=tmpMin),tmpMax>max&&(max=tmpMax)}(min<scale.min||max>scale.max)&&scale.change({min:min,max:max})},_proto._adjust=function(dataArray){var self=this,adjusts=self.get("adjusts"),viewTheme=this.viewTheme||Global,yScale=self.getYScale(),xScale=self.getXScale(),xField=xScale.field,yField=yScale?yScale.field:null;Util.each(adjusts,function(adjust){var adjustCfg=Util.mix({xField:xField,yField:yField},adjust),adjustType=Util.upperFirst(adjust.type);if("Dodge"===adjustType){var adjustNames=[];if(xScale.isCategory||xScale.isIdentity)adjustNames.push("x");else{if(yScale)throw new Error("dodge is not support linear attribute, please use category attribute!");adjustNames.push("y")}adjustCfg.adjustNames=adjustNames,adjustCfg.dodgeRatio=viewTheme.widthRatio.column}else if("Stack"===adjustType){var coord=self.get("coord");if(!yScale){adjustCfg.height=coord.getHeight();var size=self.getDefaultValue("size")||3;adjustCfg.size=size}!coord.isTransposed&&Util.isNil(adjustCfg.reverseOrder)&&(adjustCfg.reverseOrder=!0)}new Adjust[adjustType](adjustCfg).processAdjust(dataArray),"Stack"===adjustType&&yScale&&self._updateStackRange(yField,yScale,dataArray)})},_proto.setCoord=function(coord){this.set("coord",coord);var position=this.getAttr("position");this.get("shapeContainer").setMatrix(coord.matrix),position&&(position.coord=coord)},_proto.paint=function(){var self=this,dataArray=self.get("dataArray"),mappedArray=[],shapeFactory=self.getShapeFactory();shapeFactory.setCoord(self.get("coord")),self.set("shapeFactory",shapeFactory);var shapeContainer=self.get("shapeContainer");self._beforeMapping(dataArray);for(var i=0;i<dataArray.length;i++){var data=dataArray[i],index=i;data=self._mapping(data),mappedArray.push(data),self.draw(data,shapeContainer,shapeFactory,index)}self.get("labelCfg")&&self._addLabels(Util.union.apply(null,mappedArray),shapeContainer.get("children")),self.get("sortable")?self.set("dataArray",mappedArray):self._sort(mappedArray)},_proto._sort=function(mappedArray){var self=this,xScale=self.getXScale(),xField=xScale.field;Util.each(mappedArray,function(itemArr){itemArr.sort(function(obj1,obj2){return xScale.translate(obj1._origin[xField])-xScale.translate(obj2._origin[xField])})}),self.set("dataArray",mappedArray)},_proto._beforeMapping=function(dataArray){var self=this;if(self.get("sortable")){var xScale=self.getXScale(),field=xScale.field;Util.each(dataArray,function(data){data.sort(function(v1,v2){return xScale.translate(v1[field])-xScale.translate(v2[field])})})}self.get("generatePoints")&&(Util.each(dataArray,function(data){self._generatePoints(data)}),Util.each(dataArray,function(data,index){var nextData=dataArray[index+1];nextData&&(data[0].nextPoints=nextData[0].points)}))},_proto._addLabels=function(points,shapes){var self=this,type=self.get("type"),viewTheme=self.get("viewTheme")||Global,coord=self.get("coord"),C=Labels.getLabelsClass(coord.type,type),container=self.get("container"),scales=Util.map(self.get("labelCfg").fields,function(field){return self._createScale(field)}),labelContainer=container.addGroup(C,{_id:this.get("_id"),labelCfg:Util.mix({scales:scales},self.get("labelCfg")),coord:coord,geom:self,geomType:type,viewTheme:viewTheme,visible:self.get("visible")});labelContainer.showLabels(points,shapes),self.set("labelContainer",labelContainer)},_proto.getShapeFactory=function(){var shapeFactory=this.get("shapeFactory");if(!shapeFactory){var shapeType=this.get("shapeType");shapeFactory=Shape.getShapeFactory(shapeType),this.set("shapeFactory",shapeFactory)}return shapeFactory},_proto._generatePoints=function(data){for(var self=this,shapeFactory=self.getShapeFactory(),shapeAttr=self.getAttr("shape"),i=0;i<data.length;i++){var obj=data[i],cfg=self.createShapePointsCfg(obj),shape=shapeAttr?self._getAttrValues(shapeAttr,obj):null,points=shapeFactory.getShapePoints(shape,cfg);obj.points=points}},_proto.createShapePointsCfg=function(obj){var y,xScale=this.getXScale(),yScale=this.getYScale(),x=this._normalizeValues(obj[xScale.field],xScale);return y=yScale?this._normalizeValues(obj[yScale.field],yScale):obj.y?obj.y:.1,{x:x,y:y,y0:yScale?yScale.scale(this.getYMinValue()):void 0}},_proto.getYMinValue=function(){var yScale=this.getYScale(),min=yScale.min,max=yScale.max;return min>=0?min:max<=0?max:0},_proto._normalizeValues=function(values,scale){var rst=[];if(Util.isArray(values))for(var i=0;i<values.length;i++){var v=values[i];rst.push(scale.scale(v))}else rst=scale.scale(values);return rst},_proto._mapping=function(data){for(var self=this,attrs=self.get("attrs"),mappedData=[],i=0;i<data.length;i++){var record=data[i],newRecord={};newRecord._origin=record._origin,newRecord.points=record.points,newRecord.nextPoints=record.nextPoints;for(var k in attrs)if(attrs.hasOwnProperty(k)){var attr=attrs[k],names=attr.names,values=self._getAttrValues(attr,record);if(names.length>1)for(var j=0;j<values.length;j++){var val=values[j],name=names[j];newRecord[name]=Util.isArray(val)&&1===val.length?val[0]:val}else newRecord[names[0]]=1===values.length?values[0]:values}mappedData.push(newRecord)}return mappedData},_proto._getAttrValues=function(attr,record){for(var scales=attr.scales,params=[],i=0;i<scales.length;i++){var scale=scales[i],field=scale.field;"identity"===scale.type?params.push(scale.value):params.push(record[field])}return attr.mapping.apply(attr,params)},_proto.getAttrValue=function(attrName,record){var attr=this.getAttr(attrName),rst=null;if(attr){rst=this._getAttrValues(attr,record)[0]}return rst},_proto.getDefaultValue=function(attrName){var value=this.get(attrName),attr=this.getAttr(attrName);if(attr){var scale=attr.getScale(attrName);"identity"===scale.type&&(value=scale.value)}return value},_proto.draw=function(data,container,shapeFactory,index){for(var self=this,i=0;i<data.length;i++){var obj=data[i];self.drawPoint(obj,container,shapeFactory,index+i)}},_proto.getCallbackCfg=function(fields,cfg,origin){if(!fields)return cfg;var tmpCfg={},params=fields.map(function(field){return origin[field]});return Util.each(cfg,function(v,k){Util.isFunction(v)?tmpCfg[k]=v.apply(null,params):tmpCfg[k]=v}),tmpCfg},_proto._getShapeId=function(dataObj){var id=this.get("_id"),keyFields=this.get("keyFields");if(keyFields&&keyFields.length>0)Util.each(keyFields,function(key){id+="-"+dataObj[key]});else{var xVal,type=this.get("type"),xScale=this.getXScale(),yScale=this.getYScale(),xField=xScale.field||"x",yField=yScale.field||"y",yVal=dataObj[yField];xVal=xScale.isIdentity?xScale.value:dataObj[xField],id+="interval"===type||"schema"===type?"-"+xVal:"line"===type||"area"===type||"path"===type?"-"+type:"-"+xVal+"-"+yVal;var groupScales=this._getGroupScales();Util.isEmpty(groupScales)||Util.each(groupScales,function(groupScale){var field=groupScale.field;"identity"!==groupScale.type&&(id+="-"+dataObj[field])})}return id},_proto.getDrawCfg=function(obj){var self=this,cfg={origin:obj,x:obj.x,y:obj.y,color:obj.color,size:obj.size,shape:obj.shape,isInCircle:self.isInCircle(),opacity:obj.opacity},styleOptions=self.get("styleOptions");return styleOptions&&styleOptions.style&&(cfg.style=self.getCallbackCfg(styleOptions.fields,styleOptions.style,obj._origin)),self.get("generatePoints")&&(cfg.points=obj.points,cfg.nextPoints=obj.nextPoints),self.get("animate")&&(cfg._id=self._getShapeId(obj._origin)),cfg},_proto.appendShapeInfo=function(shape,index){shape&&(shape.setSilent("index",index),shape.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&shape.setSilent("animateCfg",this.get("animateCfg")))},_proto._applyViewThemeShapeStyle=function(cfg,shape,shapeFactory){var self=this,viewTheme=self.viewTheme||Global,shapeName=shapeFactory.name;shape?shape&&(shape.indexOf("hollow")>-1||shape.indexOf("liquid")>-1)&&(shapeName="hollow"+Util.upperFirst(shapeName)):shapeFactory.defaultShapeType.indexOf("hollow")>-1&&(shapeName="hollow"+Util.upperFirst(shapeName));var defaultStyle=viewTheme.shape[shapeName]||{};cfg.style=Util.mix({},defaultStyle,cfg.style)},_proto.drawPoint=function(obj,container,shapeFactory,index){var self=this,shape=obj.shape,cfg=self.getDrawCfg(obj);self._applyViewThemeShapeStyle(cfg,shape,shapeFactory);var geomShape=shapeFactory.drawShape(shape,cfg,container);self.appendShapeInfo(geomShape,index)},_proto.getAttr=function(name){return this.get("attrs")[name]},_proto.getXScale=function(){return this.getAttr("position").scales[0]},_proto.getYScale=function(){return this.getAttr("position").scales[1]},_proto.getShapes=function(){var result=[],shapeContainer=this.get("shapeContainer"),children=shapeContainer.get("children");return Util.each(children,function(child){child.get("origin")&&result.push(child)}),result},_proto.getAttrsForLegend=function(){var attrs=this.get("attrs"),rst=[];return Util.each(attrs,function(attr){-1!==GROUP_ATTRS.indexOf(attr.type)&&rst.push(attr)}),rst},_proto.getFieldsForLegend=function(){var fields=[],attrOptions=this.get("attrOptions");return Util.each(GROUP_ATTRS,function(attrName){var attrCfg=attrOptions[attrName];attrCfg&&attrCfg.field&&Util.isString(attrCfg.field)&&(fields=fields.concat(attrCfg.field.split("*")))}),Util.uniq(fields)},_proto.changeVisible=function(visible,stopDraw){this.set("visible",visible);var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.set("visible",visible);var labelContainer=this.get("labelContainer");if(labelContainer&&labelContainer.set("visible",visible),!stopDraw&&shapeContainer){shapeContainer.get("canvas").draw()}},_proto.reset=function(){this.set("attrOptions",{}),this.clearInner()},_proto.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.clear();var labelContainer=this.get("labelContainer");labelContainer&&labelContainer.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},_proto.clear=function(){this.clearInner(),this.set("scales",{})},_proto.destroy=function(){this.clear();var shapeContainer=this.get("shapeContainer");shapeContainer&&shapeContainer.remove(),this.offEvents(),_Base.prototype.destroy.call(this)},_proto.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},_proto.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},GeomBase}(Base);module.exports=GeomBase},function(module,exports,__webpack_require__){module.exports={Axis:__webpack_require__(306),Component:__webpack_require__(66),Guide:__webpack_require__(314),Label:__webpack_require__(323),Legend:__webpack_require__(324),Tooltip:__webpack_require__(330)}},function(module,exports,__webpack_require__){function points2path(points,isInCircle){if(!points.length)return[];for(var path=[],i=0,length=points.length;i<length;i++){var item=points[i];0===i?path.push(["M",item.x,item.y]):path.push(["L",item.x,item.y])}return isInCircle&&path.push(["Z"]),path}function _getPointRadius(coord,point){var center=coord.getCenter();return Math.sqrt(Math.pow(point.x-center.x,2)+Math.pow(point.y-center.y,2))}function convertArr(arr,coord){for(var len=arr.length,tmp=[arr[0]],i=1;i<len;i+=2){var point=coord.convertPoint({x:arr[i],y:arr[i+1]});tmp.push(point.x,point.y)}return tmp}function _convertPolarPath(pre,cur,coord){var transposed=coord.isTransposed,startAngle=coord.startAngle,endAngle=coord.endAngle,prePoint={x:pre[1],y:pre[2]},curPoint={x:cur[1],y:cur[2]},rst=[],xDim=transposed?"y":"x",angleRange=Math.abs(curPoint[xDim]-prePoint[xDim])*(endAngle-startAngle),direction=curPoint[xDim]>=prePoint[xDim]?1:0,flag=angleRange>Math.PI?1:0,convertPoint=coord.convertPoint(curPoint),r=_getPointRadius(coord,convertPoint);if(r>=.5)if(angleRange===2*Math.PI){var middlePoint={x:(curPoint.x+prePoint.x)/2,y:(curPoint.y+prePoint.y)/2},middleConvertPoint=coord.convertPoint(middlePoint);rst.push(["A",r,r,0,flag,direction,middleConvertPoint.x,middleConvertPoint.y]),rst.push(["A",r,r,0,flag,direction,convertPoint.x,convertPoint.y])}else rst.push(["A",r,r,0,flag,direction,convertPoint.x,convertPoint.y]);return rst}function filterFullCirleLine(path){Util.each(path,function(subPath,index){if("a"===subPath[0].toLowerCase()){var pre=path[index-1],next=path[index+1];next&&"a"===next[0].toLowerCase()?pre&&"l"===pre[0].toLowerCase()&&(pre[0]="M"):pre&&"a"===pre[0].toLowerCase()&&next&&"l"===next[0].toLowerCase()&&(next[0]="M")}})}var Util=__webpack_require__(0),Spline=__webpack_require__(334),PathUtil={getLinePath:function(points,isInCircle){return points2path(points,isInCircle)},getSplinePath:function(points,isInCircle,constaint){var data=[],first=points[0],prePoint=null;if(points.length<=2)return PathUtil.getLinePath(points,isInCircle);Util.each(points,function(point){prePoint&&prePoint.x===point.x&&prePoint.y===point.y||(data.push(point.x),data.push(point.y),prePoint=point)}),constaint=constaint||[[0,0],[1,1]];var splinePath=Spline.catmullRom2bezier(data,isInCircle,constaint);return splinePath.unshift(["M",first.x,first.y]),splinePath},getPointRadius:function(coord,point){return _getPointRadius(coord,point)},getPointAngle:function(coord,point){var center=coord.getCenter();return Math.atan2(point.y-center.y,point.x-center.x)},convertNormalPath:function(coord,path){var tmp=[];return Util.each(path,function(subPath){switch(subPath[0].toLowerCase()){case"m":case"l":case"c":tmp.push(convertArr(subPath,coord));break;case"z":default:tmp.push(subPath)}}),tmp},convertPolarPath:function(coord,path){var pre,cur,transposed,equals,tmp=[];return Util.each(path,function(subPath,index){switch(subPath[0].toLowerCase()){case"m":case"c":case"q":tmp.push(convertArr(subPath,coord));break;case"l":pre=path[index-1],cur=subPath,transposed=coord.isTransposed,equals=transposed?pre[pre.length-2]===cur[1]:pre[pre.length-1]===cur[2],equals?tmp=tmp.concat(_convertPolarPath(pre,cur,coord)):tmp.push(convertArr(subPath,coord));break;case"z":default:tmp.push(subPath)}}),filterFullCirleLine(tmp),tmp}};module.exports=PathUtil},function(module,exports,__webpack_require__){function toString(value){return isNil(value)?"":value.toString()}var isNil=__webpack_require__(5);module.exports=toString},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isObject=function(value){var type=void 0===value?"undefined":_typeof(value);return null!==value&&"object"===type||"function"===type};module.exports=isObject},function(module,exports,__webpack_require__){module.exports={Canvas:__webpack_require__(181),Group:__webpack_require__(101),Shape:__webpack_require__(6),Arc:__webpack_require__(105),Circle:__webpack_require__(106),Dom:__webpack_require__(107),Ellipse:__webpack_require__(108),Fan:__webpack_require__(109),Image:__webpack_require__(110),Line:__webpack_require__(111),Marker:__webpack_require__(56),Path:__webpack_require__(112),Polygon:__webpack_require__(113),Polyline:__webpack_require__(114),Rect:__webpack_require__(115),Text:__webpack_require__(116),PathSegment:__webpack_require__(39),PathUtil:__webpack_require__(57),Event:__webpack_require__(100),version:"3.3.6"}},function(module,exports,__webpack_require__){var isObjectLike=__webpack_require__(48),isType=__webpack_require__(12),isPlainObject=function(value){if(!isObjectLike(value)||!isType(value,"Object"))return!1;if(null===Object.getPrototypeOf(value))return!0;for(var proto=value;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(value)===proto};module.exports=isPlainObject},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi,numColorCache={};module.exports={parseRadius:function(radius){var r1=0,r2=0,r3=0,r4=0;return Util.isArray(radius)?1===radius.length?r1=r2=r3=r4=radius[0]:2===radius.length?(r1=r3=radius[0],r2=r4=radius[1]):3===radius.length?(r1=radius[0],r2=r4=radius[1],r3=radius[2]):(r1=radius[0],r2=radius[1],r3=radius[2],r4=radius[3]):r1=r2=r3=r4=radius,{r1:r1,r2:r2,r3:r3,r4:r4}},parsePath:function(path){return path=path||[],Util.isArray(path)?path:Util.isString(path)?(path=path.match(regexTags),Util.each(path,function(item,index){if(item=item.match(regexDot),item[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}Util.each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0},numberToColor:function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;color="#"+str,numColorCache[num]=color}return color}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function linear(a,d){return function(t){return a+t*d}}function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?exponential(a,b,y):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):Object(__WEBPACK_IMPORTED_MODULE_0__constant__.a)(isNaN(a)?b:a)}__webpack_exports__.c=hue,__webpack_exports__.b=gamma,__webpack_exports__.a=nogamma;var __WEBPACK_IMPORTED_MODULE_0__constant__=__webpack_require__(121)},function(module,exports,__webpack_require__){function toScaleString(scale,value){return isString(value)?value:scale.invert(scale.scale(value))}var isString=__webpack_require__(10),isArray=__webpack_require__(4),isNil=__webpack_require__(5),mix=__webpack_require__(8),each=__webpack_require__(2),AttributeBase=function(){function AttributeBase(cfg){var _this=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var mixedCallback=null,defaultCallback=this.callback;if(cfg.callback){var userCallback=cfg.callback;mixedCallback=function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];var ret=userCallback.apply(void 0,params);return isNil(ret)&&(ret=defaultCallback.apply(_this,params)),ret}}mix(this,cfg),mixedCallback&&mix(this,{callback:mixedCallback})}var _proto=AttributeBase.prototype;return _proto._getAttrValue=function(scale,value){var values=this.values;if(scale.isCategory&&!this.linear){return values[scale.translate(value)%values.length]}var percent=scale.scale(value);return this.getLinearValue(percent)},_proto.getLinearValue=function(percent){var values=this.values,steps=values.length-1,step=Math.floor(steps*percent),leftPercent=steps*percent-step,start=values[step];return start+((step===steps?start:values[step+1])-start)*leftPercent},_proto.callback=function(value){var self=this,scale=self.scales[0];return"identity"===scale.type?scale.value:self._getAttrValue(scale,value)},_proto.getNames=function(){for(var scales=this.scales,names=this.names,length=Math.min(scales.length,names.length),rst=[],i=0;i<length;i++)rst.push(names[i]);return rst},_proto.getFields=function(){var scales=this.scales,rst=[];return each(scales,function(scale){rst.push(scale.field)}),rst},_proto.getScale=function(name){return this.scales[this.names.indexOf(name)]},_proto.mapping=function(){for(var scales=this.scales,callback=this.callback,_len2=arguments.length,params=new Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];var values=params;if(callback){for(var i=0,len=params.length;i<len;i++)params[i]=this._toOriginParam(params[i],scales[i]);values=callback.apply(this,params)}return values=[].concat(values)},_proto._toOriginParam=function(param,scale){var rst=param;if(!scale.isLinear)if(isArray(param)){rst=[];for(var i=0,len=param.length;i<len;i++)rst.push(toScaleString(scale,param[i]))}else rst=toScaleString(scale,param);return rst},AttributeBase}();module.exports=AttributeBase},function(module,exports,__webpack_require__){var mix=__webpack_require__(8),Adjust=function(){function Adjust(cfg){this._initDefaultCfg(),mix(this,cfg)}var _proto=Adjust.prototype;return _proto._initDefaultCfg=function(){this.adjustNames=["x","y"]},_proto.processAdjust=function(){},Adjust}();module.exports=Adjust},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Component=__webpack_require__(32),Util=__webpack_require__(3),Grid=__webpack_require__(153),Label=__webpack_require__(154),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,Axis=function(_Component){function Axis(){return _Component.apply(this,arguments)||this}_inheritsLoose(Axis,_Component);var _proto=Axis.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},_proto.beforeRender=function(){var self=this,title=self.get("title"),label=self.get("label"),grid=self.get("grid");title&&self.set("title",Util.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:FONT_FAMILY,textAlign:"center"},offset:48},title)),label&&self.set("label",Util.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:FONT_FAMILY},offset:10},label)),grid&&self.set("grid",Util.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},grid))},_proto.render=function(){var self=this;self.beforeRender(),self.get("label")&&self.renderLabels(),self.get("autoPaint")&&self.paint(),Util.isNil(self.get("title"))||self.renderTitle(),self.get("group").sort()},_proto.renderLabels=function(){var self=this,group=self.get("group"),labelCfg=self.get("label"),labelRenderer=new Label;self.set("labelRenderer",labelRenderer),labelRenderer.set("labelCfg",labelCfg);var cfgs2copy=["formatter","htmlTemplate","labelLine","textStyle","useHtml"];Util.each(cfgs2copy,function(cfg){labelCfg[cfg]&&labelRenderer.set(cfg,labelCfg[cfg])}),labelRenderer.set("coord",self.get("coord")),labelRenderer.set("group",group.addGroup()),labelRenderer.set("canvas",self.get("canvas"))},_proto._parseTicks=function(ticks){ticks=ticks||[];for(var ticksLength=ticks.length,i=0;i<ticksLength;i++){var item=ticks[i];Util.isObject(item)||(ticks[i]=this.parseTick(item,i,ticksLength))}return this.set("ticks",ticks),ticks},_proto._addTickItem=function(index,point,length,type){void 0===type&&(type="");var tickItems=this.get("tickItems"),subTickItems=this.get("subTickItems"),end=this.getTickEnd(point,length,index),cfg={x1:point.x,y1:point.y,x2:end.x,y2:end.y};tickItems||(tickItems=[]),subTickItems||(subTickItems=[]),"sub"===type?subTickItems.push(cfg):tickItems.push(cfg),this.set("tickItems",tickItems),this.set("subTickItems",subTickItems)},_proto._renderLine=function(){var path,self=this,lineCfg=self.get("line");if(lineCfg){path=self.getLinePath(),lineCfg=Util.mix({path:path},lineCfg);var group=self.get("group"),lineShape=group.addShape("path",{attrs:lineCfg});lineShape.name="axis-line",self.get("appendInfo")&&lineShape.setSilent("appendInfo",self.get("appendInfo")),self.set("lineShape",lineShape)}},_proto._processCatTicks=function(){var self=this,labelCfg=self.get("label"),tickLineCfg=self.get("tickLine"),ticks=self.get("ticks");ticks=self._parseTicks(ticks);for(var new_ticks=self._getNormalizedTicks(ticks),i=0;i<new_ticks.length;i+=3){var p=self.getTickPoint(new_ticks[i]),p0=self.getTickPoint(new_ticks[i+1]),p1=self.getTickPoint(new_ticks[i+2]),index=Math.floor(i/3),tick=ticks[index];tickLineCfg&&(0===index&&self._addTickItem(index,p0,tickLineCfg.length),self._addTickItem(index,p1,tickLineCfg.length)),labelCfg&&self.addLabel(tick,p,index)}},_proto._getNormalizedTicks=function(ticks){var tickSeg=0;ticks.length>1&&(tickSeg=(ticks[1].value-ticks[0].value)/2);for(var points=[],i=0;i<ticks.length;i++){var tick=ticks[i],p=tick.value,p0=tick.value-tickSeg,p1=tick.value+tickSeg;points.push(p,p0,p1)}var range=Util.arrayUtil.getRange(points);return points.map(function(p){return(p-range.min)/(range.max-range.min)})},_proto.addLabel=function(tick,point,index){var self=this,labelItems=self.get("labelItems"),labelRenderer=self.get("labelRenderer"),label=Util.deepMix({},self.get("label"));if(labelRenderer){var offset=self.get("_labelOffset");Util.isNil(self.get("label").offset)||(offset=self.get("label").offset);var vector=self.getSideVector(offset,point,index);point={x:point.x+vector[0]+label.offsetX,y:point.y+vector[1]+label.offsetY},label.text=tick.text,label.x=point.x,label.y=point.y,label.point=point,label.textAlign=self.getTextAnchor(vector),point.rotate&&(label.rotate=point.rotate),labelItems.push(label)}},_proto._processTicks=function(){var self=this,labelCfg=self.get("label"),subTickCount=self.get("subTickCount"),tickLineCfg=self.get("tickLine"),ticks=self.get("ticks");if(ticks=self._parseTicks(ticks),Util.each(ticks,function(tick,index){var tickPoint=self.getTickPoint(tick.value,index);tickLineCfg&&self._addTickItem(index,tickPoint,tickLineCfg.length),labelCfg&&self.addLabel(tick,tickPoint,index)}),subTickCount){var subTickLineCfg=self.get("subTickLine");Util.each(ticks,function(tick,index){if(index>0){var diff=tick.value-ticks[index-1].value;diff/=self.get("subTickCount")+1;for(var i=1;i<=subTickCount;i++){var subTick={text:"",value:index?ticks[index-1].value+i*diff:i*diff},tickPoint=self.getTickPoint(subTick.value),subTickLength=void 0;subTickLength=subTickLineCfg&&subTickLineCfg.length?subTickLineCfg.length:parseInt(.6*tickLineCfg.length,10),self._addTickItem(i-1,tickPoint,subTickLength,"sub")}}})}},_proto._addTickLine=function(ticks,lineCfg){var self=this,cfg=Util.mix({},lineCfg),path=[];Util.each(ticks,function(item){path.push(["M",item.x1,item.y1]),path.push(["L",item.x2,item.y2])}),delete cfg.length,cfg.path=path;var group=self.get("group"),tickShape=group.addShape("path",{attrs:cfg});tickShape.name="axis-ticks",tickShape._id=self.get("_id")+"-ticks",tickShape.set("coord",self.get("coord")),self.get("appendInfo")&&tickShape.setSilent("appendInfo",self.get("appendInfo"))},_proto._renderTicks=function(){var self=this,tickItems=self.get("tickItems"),subTickItems=self.get("subTickItems");if(!Util.isEmpty(tickItems)){var tickLineCfg=self.get("tickLine");self._addTickLine(tickItems,tickLineCfg)}if(!Util.isEmpty(subTickItems)){var subTickLineCfg=self.get("subTickLine")||self.get("tickLine");self._addTickLine(subTickItems,subTickLineCfg)}},_proto._renderGrid=function(){var grid=this.get("grid");if(grid){grid.coord=this.get("coord"),grid.appendInfo=this.get("appendInfo");var group=this.get("group");this.set("gridGroup",group.addGroup(Grid,grid))}},_proto._renderLabels=function(){var self=this,labelRenderer=self.get("labelRenderer"),labelItems=self.get("labelItems");labelRenderer&&(labelRenderer.set("items",labelItems),labelRenderer._dryDraw())},_proto.paint=function(){var self=this,tickLineCfg=self.get("tickLine"),alignWithLabel=!0;tickLineCfg&&tickLineCfg.hasOwnProperty("alignWithLabel")&&(alignWithLabel=tickLineCfg.alignWithLabel),self._renderLine();var type=self.get("type");"cat"!==type&&"timeCat"!==type||!1!==alignWithLabel?self._processTicks():self._processCatTicks(),self._renderTicks(),self._renderGrid(),self._renderLabels();var labelCfg=this.get("label");labelCfg&&labelCfg.autoRotate&&self.autoRotateLabels(),labelCfg&&labelCfg.autoHide&&self.autoHideLabels()},_proto.parseTick=function(tick,index,length){return{text:tick,value:index/(length-1)}},_proto.getTextAnchor=function(vector){var ratio=Math.abs(vector[1]/vector[0]);return ratio>=1?"center":vector[0]>0?"start":"end"},_proto.getMaxLabelWidth=function(labelRenderer){var labels=labelRenderer.getLabels(),max=0;return Util.each(labels,function(label){var bbox=label.getBBox(),width=bbox.width;max<width&&(max=width)}),max},_proto.getMaxLabelHeight=function(labelRenderer){var labels=labelRenderer.getLabels(),max=0;return Util.each(labels,function(label){var bbox=label.getBBox(),height=bbox.height;max<height&&(max=height)}),max},_proto.destroy=function(){var self=this;if(!self.destroyed){_Component.prototype.destroy.call(this);var gridGroup=self.get("gridGroup");gridGroup&&gridGroup.remove();var labelRenderer=this.get("labelRenderer");labelRenderer&&labelRenderer.destroy();self.get("group").destroy(),self.destroyed=!0}},_proto.clear=function(){var self=this,group=self.get("group");if(!group.get("destroyed")&&group.get("children").length){var gridGroup=self.get("gridGroup");gridGroup&&gridGroup.clear();var labelRenderer=this.get("labelRenderer");labelRenderer&&labelRenderer.clear();self.get("group").clear()}},_proto.autoRotateLabels=function(){},_proto.autoHideLabels=function(){},_proto.renderTitle=function(){},_proto.getLinePath=function(){},_proto.getTickPoint=function(){},_proto.getTickEnd=function(){},_proto.getSideVector=function(){},Axis}(Component);module.exports=Axis},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(66),Component=function(_Base){function Component(){return _Base.apply(this,arguments)||this}_inheritsLoose(Component,_Base);var _proto=Component.prototype;return _proto.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},_proto._init=function(){},_proto.clear=function(){},_proto.destroy=function(){},_proto.beforeRender=function(){},_proto.render=function(){},_proto.afterRender=function(){},_proto.beforeDraw=function(){},_proto.draw=function(){},_proto.afterDraw=function(){},_proto.show=function(){},_proto.hide=function(){},_proto.setOffset=function(){},_proto.setPosition=function(){},_proto.setVisible=function(){},_proto.setZIndex=function(){},Component}(Base);module.exports=Component},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var isNil=__webpack_require__(5),each=__webpack_require__(2),Base=__webpack_require__(17),numberAuto=__webpack_require__(174),Linear=function(_Base){function Linear(){return _Base.apply(this,arguments)||this}_inheritsLoose(Linear,_Base);var _proto=Linear.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this);var self=this;self.type="linear",self.isLinear=!0,self.nice=!1,self.min=null,self.minLimit=null,self.max=null,self.maxLimit=null,self.tickCount=null,self.tickInterval=null,self.minTickInterval=null,self.snapArray=null},_proto.init=function(){var self=this;if(self.ticks){var ticks=self.ticks,firstValue=self.translate(ticks[0]),lastValue=self.translate(ticks[ticks.length-1]);(isNil(self.min)||self.min>firstValue)&&(self.min=firstValue),(isNil(self.max)||self.max<lastValue)&&(self.max=lastValue)}else self.min=self.translate(self.min),self.max=self.translate(self.max),self.initTicks()},_proto.calculateTicks=function(){var min=this.min,max=this.max,minLimit=this.minLimit,maxLimit=this.maxLimit,tickCount=this.tickCount,tickInterval=this.tickInterval,minTickInterval=this.minTickInterval,snapArray=this.snapArray;if(1===tickCount)throw new Error("linear scale'tickCount should not be 1");if(max<min)throw new Error("max: "+max+" should not be less than min: "+min);return numberAuto({min:min,max:max,minLimit:minLimit,maxLimit:maxLimit,minCount:tickCount,maxCount:tickCount,interval:tickInterval,minTickInterval:minTickInterval,snapArray:snapArray}).ticks},_proto.initTicks=function(){var self=this,calTicks=self.calculateTicks();if(self.nice)self.ticks=calTicks,self.min=calTicks[0],self.max=calTicks[calTicks.length-1];else{var ticks=[];each(calTicks,function(tick){tick>=self.min&&tick<=self.max&&ticks.push(tick)}),ticks.length||(ticks.push(self.min),ticks.push(self.max)),self.ticks=ticks}},_proto.scale=function(value){if(isNil(value))return NaN;var max=this.max,min=this.min;if(max===min)return 0;var percent=(value-min)/(max-min),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var percent=(value-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+percent*(this.max-this.min)},Linear}(Base);Base.Linear=Linear,module.exports=Linear},function(module,exports,__webpack_require__){function toArray(value){return isArrayLike(value)?Array.prototype.slice.call(value):[]}var isArrayLike=__webpack_require__(13);module.exports=toArray},function(module,exports){module.exports=function(a,b){var precision=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(a-b)<precision}},function(module,exports,__webpack_require__){var vec2=__webpack_require__(1).vec2;module.exports={at:function(p1,p2,t){return(p2-p1)*t+p1},pointDistance:function(x1,y1,x2,y2,x,y){var d=[x2-x1,y2-y1];if(vec2.exactEquals(d,[0,0]))return NaN;var u=[-d[1],d[0]];vec2.normalize(u,u);var a=[x-x1,y-y1];return Math.abs(vec2.dot(a,u))},box:function(x1,y1,x2,y2,lineWidth){var halfWidth=lineWidth/2,minX=Math.min(x1,x2),maxX=Math.max(x1,x2);return{minX:minX-halfWidth,minY:Math.min(y1,y2)-halfWidth,maxX:maxX+halfWidth,maxY:Math.max(y1,y2)+halfWidth}},len:function(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))}}},function(module,exports,__webpack_require__){function circlePoint(cx,cy,r,angle){return{x:Math.cos(angle)*r+cx,y:Math.sin(angle)*r+cy}}function angleNearTo(angle,min,max,out){var v1,v2;return out?angle<min?(v1=min-angle,v2=2*Math.PI-max+angle):angle>max&&(v1=2*Math.PI-angle+min,v2=angle-max):(v1=angle-min,v2=max-angle),v1>v2?max:min}function nearAngle(angle,startAngle,endAngle,clockwise){var plus=0;return endAngle-startAngle>=2*Math.PI&&(plus=2*Math.PI),startAngle=Util.mod(startAngle,2*Math.PI),endAngle=Util.mod(endAngle,2*Math.PI)+plus,angle=Util.mod(angle,2*Math.PI),clockwise?startAngle>=endAngle?angle>endAngle&&angle<startAngle?angle:angleNearTo(angle,endAngle,startAngle,!0):angle<startAngle||angle>endAngle?angle:angleNearTo(angle,startAngle,endAngle):startAngle<=endAngle?startAngle<angle&&angle<endAngle?angle:angleNearTo(angle,startAngle,endAngle,!0):angle>startAngle||angle<endAngle?angle:angleNearTo(angle,endAngle,startAngle)}function arcProjectPoint(cx,cy,r,startAngle,endAngle,clockwise,x,y,out){var v=[x,y],v0=[cx,cy],v1=[1,0],subv=Util.vec2.subtract([],v,v0),angle=Util.vec2.angleTo(v1,subv);angle=nearAngle(angle,startAngle,endAngle,clockwise);var vpoint=[r*Math.cos(angle)+cx,r*Math.sin(angle)+cy];return out&&(out.x=vpoint[0],out.y=vpoint[1]),Util.vec2.distance(vpoint,v)}function arcBox(cx,cy,r,startAngle,endAngle,clockwise){var angleBottom=Math.PI/2,angleLeft=Math.PI,angleTop=3*Math.PI/2,points=[],angle=nearAngle(0,startAngle,endAngle,clockwise);0===angle&&points.push(circlePoint(cx,cy,r,0)),angle=nearAngle(angleBottom,startAngle,endAngle,clockwise),angle===angleBottom&&points.push(circlePoint(cx,cy,r,angleBottom)),angle=nearAngle(angleLeft,startAngle,endAngle,clockwise),angle===angleLeft&&points.push(circlePoint(cx,cy,r,angleLeft)),angle=nearAngle(angleTop,startAngle,endAngle,clockwise),angle===angleTop&&points.push(circlePoint(cx,cy,r,angleTop)),points.push(circlePoint(cx,cy,r,startAngle)),points.push(circlePoint(cx,cy,r,endAngle));var minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;return Util.each(points,function(point){minX>point.x&&(minX=point.x),maxX<point.x&&(maxX=point.x),minY>point.y&&(minY=point.y),maxY<point.y&&(maxY=point.y)}),{minX:minX,minY:minY,maxX:maxX,maxY:maxY}}var Util=__webpack_require__(1);module.exports={nearAngle:nearAngle,projectPoint:function(cx,cy,r,startAngle,endAngle,clockwise,x,y){var rst={};return arcProjectPoint(cx,cy,r,startAngle,endAngle,clockwise,x,y,rst),rst},pointDistance:arcProjectPoint,box:arcBox}},function(module,exports,__webpack_require__){function _addArrow(ctx,attrs,x1,y1,x2,y2,isStart){var leftX,leftY,rightX,rightY,offsetX,offsetY,angle;if(!attrs.fill){var arrowLength=attrs.arrowLength||DEFAULT_LENGTH,arrowAngle=attrs.arrowAngle?attrs.arrowAngle*PI/180:DEFAULT_ANGLE;angle=atan2(y1-y2,x1-x2),offsetX=Math.abs(attrs.lineWidth*cos(angle))/2,offsetY=Math.abs(attrs.lineWidth*sin(angle))/2,isStart&&(offsetX=-offsetX,offsetY=-offsetY),leftX=x2+arrowLength*cos(angle+arrowAngle/2),leftY=y2+arrowLength*sin(angle+arrowAngle/2),rightX=x2+arrowLength*cos(angle-arrowAngle/2),rightY=y2+arrowLength*sin(angle-arrowAngle/2),ctx.beginPath(),ctx.moveTo(leftX-offsetX,leftY-offsetY),ctx.lineTo(x2-offsetX,y2-offsetY),ctx.lineTo(rightX-offsetX,rightY-offsetY),ctx.moveTo(x2-offsetX,y2-offsetY),ctx.lineTo(x2+offsetX,y2+offsetY),ctx.moveTo(x2,y2),ctx.stroke()}}function parsePath(attrs){var preSegment,segments=[],pathArray=Format.parsePath(attrs.path);if(!Array.isArray(pathArray)||0===pathArray.length||"M"!==pathArray[0][0]&&"m"!==pathArray[0][0])return!1;for(var count=pathArray.length,i=0;i<pathArray.length;i++){var item=pathArray[i];preSegment=new PathSegment(item,preSegment,i===count-1),segments.push(preSegment)}return segments}function _addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,isStart){var shape=isStart?attrs.startArrow:attrs.endArrow,d=shape.d,deg=0,x=x2-x1,y=y2-y1,tan=Math.atan(x/y);0===y&&x<0?deg=Math.PI:x>0&&y>0?deg=Math.PI/2-tan:x<0&&y<0?deg=-Math.PI/2-tan:x>=0&&y<0?deg=-tan-Math.PI/2:x<=0&&y>0&&(deg=Math.PI/2-tan);var path=parsePath(shape);if(path){d&&(isStart?(x2+=Math.sin(Math.abs(tan))*d,y2=y2+Math.cos(Math.abs(tan))*d-.5*ctx.lineWidth):(x2-=Math.sin(Math.abs(tan))*d,y2=y2-Math.cos(Math.abs(tan))*d+.5*ctx.lineWidth)),ctx.save(),ctx.beginPath(),ctx.translate(x2,y2),ctx.rotate(deg);for(var i=0;i<path.length;i++)path[i].draw(ctx);ctx.setTransform(1,0,0,1,0,0),ctx.fillStyle=ctx.strokeStyle,ctx.fill(),ctx.restore()}}var Format=__webpack_require__(27),PathSegment=__webpack_require__(39),PI=Math.PI,sin=Math.sin,cos=Math.cos,atan2=Math.atan2,DEFAULT_LENGTH=10,DEFAULT_ANGLE=PI/3;module.exports={addStartArrow:function(ctx,attrs,x1,y1,x2,y2){"object"==typeof attrs.startArrow?_addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,!0):attrs.startArrow&&_addArrow(ctx,attrs,x1,y1,x2,y2,!0)},addEndArrow:function(ctx,attrs,x1,y1,x2,y2){"object"==typeof attrs.endArrow?_addCustomizedArrow(ctx,attrs,x1,y1,x2,y2,!1):attrs.endArrow&&_addArrow(ctx,attrs,x1,y1,x2,y2,!1)}}},function(module,exports,__webpack_require__){function toAbsolute(x,y,curPoint){return{x:curPoint.x+x,y:curPoint.y+y}}function toSymmetry(point,center){return{x:center.x+(center.x-point.x),y:center.y+(center.y-point.y)}}function vMag(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1])}function vRatio(u,v){return(u[0]*v[0]+u[1]*v[1])/(vMag(u)*vMag(v))}function vAngle(u,v){return(u[0]*v[1]<u[1]*v[0]?-1:1)*Math.acos(vRatio(u,v))}function getArcParams(point1,point2,fa,fs,rx,ry,psiDeg){var psi=Util.mod(Util.toRadian(psiDeg),2*Math.PI),x1=point1.x,y1=point1.y,x2=point2.x,y2=point2.y,xp=Math.cos(psi)*(x1-x2)/2+Math.sin(psi)*(y1-y2)/2,yp=-1*Math.sin(psi)*(x1-x2)/2+Math.cos(psi)*(y1-y2)/2,lambda=xp*xp/(rx*rx)+yp*yp/(ry*ry);lambda>1&&(rx*=Math.sqrt(lambda),ry*=Math.sqrt(lambda));var diff=rx*rx*(yp*yp)+ry*ry*(xp*xp),f=Math.sqrt((rx*rx*(ry*ry)-diff)/diff);fa===fs&&(f*=-1),isNaN(f)&&(f=0);var cxp=f*rx*yp/ry,cyp=f*-ry*xp/rx,cx=(x1+x2)/2+Math.cos(psi)*cxp-Math.sin(psi)*cyp,cy=(y1+y2)/2+Math.sin(psi)*cxp+Math.cos(psi)*cyp,theta=vAngle([1,0],[(xp-cxp)/rx,(yp-cyp)/ry]),u=[(xp-cxp)/rx,(yp-cyp)/ry],v=[(-1*xp-cxp)/rx,(-1*yp-cyp)/ry],dTheta=vAngle(u,v);return vRatio(u,v)<=-1&&(dTheta=Math.PI),vRatio(u,v)>=1&&(dTheta=0),0===fs&&dTheta>0&&(dTheta-=2*Math.PI),1===fs&&dTheta<0&&(dTheta+=2*Math.PI),[point1,cx,cy,rx,ry,theta,dTheta,psi,fs]}var Util=__webpack_require__(1),Inside=__webpack_require__(54),Cubic=__webpack_require__(55),Quadratic=__webpack_require__(103),Ellipse=__webpack_require__(104),vec3=Util.vec3,mat3=Util.mat3,ARR_CMD=["m","l","c","a","q","h","v","t","s","z"],PathSegment=function(item,preSegment,isLast){this.preSegment=preSegment,this.isLast=isLast,this.init(item,preSegment)};Util.augment(PathSegment,{init:function(item,preSegment){var command=item[0];preSegment=preSegment||{endPoint:{x:0,y:0}};var point1,point2,point3,point,relative=ARR_CMD.indexOf(command)>=0,cmd=relative?command.toUpperCase():command,p=item,preEndPoint=preSegment.endPoint,p1=p[1],p2=p[2];switch(cmd){default:break;case"M":point=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},this.command="M",this.params=[preEndPoint,point],this.subStart=point,this.endPoint=point;break;case"L":point=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"H":point=relative?toAbsolute(p1,0,preEndPoint):{x:p1,y:preEndPoint.y},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"V":point=relative?toAbsolute(0,p1,preEndPoint):{x:preEndPoint.x,y:p1},this.command="L",this.params=[preEndPoint,point],this.subStart=preSegment.subStart,this.endPoint=point,this.endTangent=function(){return[point.x-preEndPoint.x,point.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point.x,preEndPoint.y-point.y]};break;case"Q":relative?(point1=toAbsolute(p1,p2,preEndPoint),point2=toAbsolute(p[3],p[4],preEndPoint)):(point1={x:p1,y:p2},point2={x:p[3],y:p[4]}),this.command="Q",this.params=[preEndPoint,point1,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-point1.x,point2.y-point1.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]};break;case"T":point2=relative?toAbsolute(p1,p2,preEndPoint):{x:p1,y:p2},"Q"===preSegment.command?(point1=toSymmetry(preSegment.params[1],preEndPoint),this.command="Q",this.params=[preEndPoint,point1,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-point1.x,point2.y-point1.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]}):(this.command="TL",this.params=[preEndPoint,point2],this.subStart=preSegment.subStart,this.endPoint=point2,this.endTangent=function(){return[point2.x-preEndPoint.x,point2.y-preEndPoint.y]},this.startTangent=function(){return[preEndPoint.x-point2.x,preEndPoint.y-point2.y]});break;case"C":relative?(point1=toAbsolute(p1,p2,preEndPoint),point2=toAbsolute(p[3],p[4],preEndPoint),point3=toAbsolute(p[5],p[6],preEndPoint)):(point1={x:p1,y:p2},point2={x:p[3],y:p[4]},point3={x:p[5],y:p[6]}),this.command="C",this.params=[preEndPoint,point1,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]};break;case"S":relative?(point2=toAbsolute(p1,p2,preEndPoint),point3=toAbsolute(p[3],p[4],preEndPoint)):(point2={x:p1,y:p2},point3={x:p[3],y:p[4]}),"C"===preSegment.command?(point1=toSymmetry(preSegment.params[2],preEndPoint),this.command="C",this.params=[preEndPoint,point1,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point1.x,preEndPoint.y-point1.y]}):(this.command="SQ",this.params=[preEndPoint,point2,point3],this.subStart=preSegment.subStart,this.endPoint=point3,this.endTangent=function(){return[point3.x-point2.x,point3.y-point2.y]},this.startTangent=function(){return[preEndPoint.x-point2.x,preEndPoint.y-point2.y]});break;case"A":var rx=p1,ry=p2,psi=p[3],fa=p[4],fs=p[5];point=relative?toAbsolute(p[6],p[7],preEndPoint):{x:p[6],y:p[7]},this.command="A";var params=getArcParams(preEndPoint,point,fa,fs,rx,ry,psi);this.params=params;var start=preSegment.subStart;this.subStart=start,this.endPoint=point;var startAngle=params[5]%(2*Math.PI);Util.isNumberEqual(startAngle,2*Math.PI)&&(startAngle=0);var endAngle=params[6]%(2*Math.PI);Util.isNumberEqual(endAngle,2*Math.PI)&&(endAngle=0);var d=.001;this.startTangent=function(){0===fs&&(d*=-1);var dx=params[3]*Math.cos(startAngle-d)+params[1],dy=params[4]*Math.sin(startAngle-d)+params[2];return[dx-start.x,dy-start.y]},this.endTangent=function(){var endAngle=params[6];endAngle-2*Math.PI<1e-4&&(endAngle=0);var dx=params[3]*Math.cos(startAngle+endAngle+d)+params[1],dy=params[4]*Math.sin(startAngle+endAngle-d)+params[2];return[preEndPoint.x-dx,preEndPoint.y-dy]};break;case"Z":this.command="Z",this.params=[preEndPoint,preSegment.subStart],this.subStart=preSegment.subStart,this.endPoint=preSegment.subStart}},isInside:function(x,y,lineWidth){var self=this,command=self.command,params=self.params,box=self.box;if(box&&!Inside.box(box.minX,box.maxX,box.minY,box.maxY,x,y))return!1;switch(command){default:break;case"M":return!1;case"TL":case"L":case"Z":return Inside.line(params[0].x,params[0].y,params[1].x,params[1].y,lineWidth,x,y);case"SQ":case"Q":return Inside.quadraticline(params[0].x,params[0].y,params[1].x,params[1].y,params[2].x,params[2].y,lineWidth,x,y);case"C":return Inside.cubicline(params[0].x,params[0].y,params[1].x,params[1].y,params[2].x,params[2].y,params[3].x,params[3].y,lineWidth,x,y);case"A":var p=params,cx=p[1],cy=p[2],rx=p[3],ry=p[4],theta=p[5],dTheta=p[6],psi=p[7],fs=p[8],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;p=[x,y,1];var m=[1,0,0,0,1,0,0,0,1];return mat3.translate(m,m,[-cx,-cy]),mat3.rotate(m,m,-psi),mat3.scale(m,m,[1/scaleX,1/scaleY]),vec3.transformMat3(p,p,m),Inside.arcline(0,0,r,theta,theta+dTheta,1-fs,lineWidth,p[0],p[1])}return!1},draw:function(context){var point1,point2,point3,command=this.command,params=this.params;switch(command){default:break;case"M":context.moveTo(params[1].x,params[1].y);break;case"TL":case"L":context.lineTo(params[1].x,params[1].y);break;case"SQ":case"Q":point1=params[1],point2=params[2],context.quadraticCurveTo(point1.x,point1.y,point2.x,point2.y);break;case"C":point1=params[1],point2=params[2],point3=params[3],context.bezierCurveTo(point1.x,point1.y,point2.x,point2.y,point3.x,point3.y);break;case"A":var p=params,p1=p[1],p2=p[2],cx=p1,cy=p2,rx=p[3],ry=p[4],theta=p[5],dTheta=p[6],psi=p[7],fs=p[8],r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1;context.translate(cx,cy),context.rotate(psi),context.scale(scaleX,scaleY),context.arc(0,0,r,theta,theta+dTheta,1-fs),context.scale(1/scaleX,1/scaleY),context.rotate(-psi),context.translate(-cx,-cy);break;case"Z":context.closePath()}},getBBox:function(lineWidth){var yDims,xDims,i,l,halfWidth=lineWidth/2,params=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(params[0].x,params[1].x)-halfWidth,maxX:Math.max(params[0].x,params[1].x)+halfWidth,minY:Math.min(params[0].y,params[1].y)-halfWidth,maxY:Math.max(params[0].y,params[1].y)+halfWidth};break;case"SQ":case"Q":for(xDims=Quadratic.extrema(params[0].x,params[1].x,params[2].x),i=0,l=xDims.length;i<l;i++)xDims[i]=Quadratic.at(params[0].x,params[1].x,params[2].x,xDims[i]);for(xDims.push(params[0].x,params[2].x),yDims=Quadratic.extrema(params[0].y,params[1].y,params[2].y),i=0,l=yDims.length;i<l;i++)yDims[i]=Quadratic.at(params[0].y,params[1].y,params[2].y,yDims);yDims.push(params[0].y,params[2].y),this.box={minX:Math.min.apply(Math,xDims)-halfWidth,maxX:Math.max.apply(Math,xDims)+halfWidth,minY:Math.min.apply(Math,yDims)-halfWidth,maxY:Math.max.apply(Math,yDims)+halfWidth};break;case"C":for(xDims=Cubic.extrema(params[0].x,params[1].x,params[2].x,params[3].x),i=0,l=xDims.length;i<l;i++)xDims[i]=Cubic.at(params[0].x,params[1].x,params[2].x,params[3].x,xDims[i]);for(yDims=Cubic.extrema(params[0].y,params[1].y,params[2].y,params[3].y),i=0,l=yDims.length;i<l;i++)yDims[i]=Cubic.at(params[0].y,params[1].y,params[2].y,params[3].y,yDims[i]);xDims.push(params[0].x,params[3].x),yDims.push(params[0].y,params[3].y),this.box={minX:Math.min.apply(Math,xDims)-halfWidth,maxX:Math.max.apply(Math,xDims)+halfWidth,minY:Math.min.apply(Math,yDims)-halfWidth,maxY:Math.max.apply(Math,yDims)+halfWidth};break;case"A":var p=params,cx=p[1],cy=p[2],rx=p[3],ry=p[4],theta=p[5],dTheta=p[6],psi=p[7],fs=p[8],start=theta,end=theta+dTheta,xDim=Ellipse.xExtrema(psi,rx,ry),minX=1/0,maxX=-1/0,xs=[start,end];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var xAngle=xDim+i;1===fs?start<xAngle&&xAngle<end&&xs.push(xAngle):end<xAngle&&xAngle<start&&xs.push(xAngle)}for(i=0,l=xs.length;i<l;i++){var x=Ellipse.xAt(psi,rx,ry,cx,xs[i]);x<minX&&(minX=x),x>maxX&&(maxX=x)}var yDim=Ellipse.yExtrema(psi,rx,ry),minY=1/0,maxY=-1/0,ys=[start,end];for(i=2*-Math.PI;i<=2*Math.PI;i+=Math.PI){var yAngle=yDim+i;1===fs?start<yAngle&&yAngle<end&&ys.push(yAngle):end<yAngle&&yAngle<start&&ys.push(yAngle)}for(i=0,l=ys.length;i<l;i++){var y=Ellipse.yAt(psi,rx,ry,cy,ys[i]);y<minY&&(minY=y),y>maxY&&(maxY=y)}this.box={minX:minX-halfWidth,maxX:maxX+halfWidth,minY:minY-halfWidth,maxY:maxY+halfWidth}}}}),module.exports=PathSegment},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a=+a,b-=a,function(t){return a+b*t}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),indexOf=Array.prototype.indexOf,contains=function(arr,value){return!!isArrayLike(arr)&&indexOf.call(arr,value)>-1};module.exports=contains},function(module,exports){var merge=function(dataArray){for(var rst=[],i=0;i<dataArray.length;i++)rst=rst.concat(dataArray[i]);return rst};module.exports=merge},function(module,exports,__webpack_require__){module.exports={mat3:__webpack_require__(51),vec2:__webpack_require__(97),vec3:__webpack_require__(98),transform:__webpack_require__(99)}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var MatrixUtil=__webpack_require__(43),mix=__webpack_require__(8),mat3=MatrixUtil.mat3,vec3=MatrixUtil.vec3,Coord=function(){function Coord(cfg){_classCallCheck(this,Coord);var defaultCfg=this.getDefaultCfg();mix(this,defaultCfg,cfg),this.init()}return _createClass(Coord,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),_createClass(Coord,[{key:"init",value:function(){var start=this.start,end=this.end,center={x:(start.x+end.x)/2,y:(start.y+end.y)/2};this.center=center,this.width=Math.abs(end.x-start.x),this.height=Math.abs(end.y-start.y)}},{key:"_swapDim",value:function(dim){var dimRange=this[dim];if(dimRange){var tmp=dimRange.start;dimRange.start=dimRange.end,dimRange.end=tmp}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(percent,dim){var _this$dim=this[dim],start=_this$dim.start;return start+percent*(_this$dim.end-start)}},{key:"invertDim",value:function(value,dim){var _this$dim2=this[dim],start=_this$dim2.start;return(value-start)/(_this$dim2.end-start)}},{key:"convertPoint",value:function(point){return point}},{key:"invertPoint",value:function(point){return point}},{key:"applyMatrix",value:function(x,y){var tag=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,matrix=this.matrix,vector=[x,y,tag];return vec3.transformMat3(vector,vector,matrix),vector}},{key:"invertMatrix",value:function(x,y){var tag=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,matrix=this.matrix,inversedMatrix=mat3.invert([],matrix),vector=[x,y,tag];return vec3.transformMat3(vector,vector,inversedMatrix),vector}},{key:"convert",value:function(point){var _this$convertPoint=this.convertPoint(point),x=_this$convertPoint.x,y=_this$convertPoint.y,vector=this.applyMatrix(x,y,1);return{x:vector[0],y:vector[1]}}},{key:"invert",value:function(point){var vector=this.invertMatrix(point.x,point.y,1);return this.invertPoint({x:vector[0],y:vector[1]})}},{key:"rotate",value:function(radian){var matrix=this.matrix,center=this.center;return mat3.translate(matrix,matrix,[-center.x,-center.y]),mat3.rotate(matrix,matrix,radian),mat3.translate(matrix,matrix,[center.x,center.y]),this}},{key:"reflect",value:function(dim){switch(dim){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(s1,s2){var matrix=this.matrix,center=this.center;return mat3.translate(matrix,matrix,[-center.x,-center.y]),mat3.scale(matrix,matrix,[s1,s2]),mat3.translate(matrix,matrix,[center.x,center.y]),this}},{key:"translate",value:function(x,y){var matrix=this.matrix;return mat3.translate(matrix,matrix,[x,y]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),Coord}();module.exports=Coord},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),ShapeUtil={splitPoints:function(obj){var points=[],x=obj.x,y=obj.y;return y=Util.isArray(y)?y:[y],Util.each(y,function(yItem,index){var point={x:Util.isArray(x)?x[index]:x,y:yItem};points.push(point)}),points},addFillAttrs:function(attrs,cfg){cfg.color&&(attrs.fill=cfg.color),Util.isNumber(cfg.opacity)&&(attrs.opacity=attrs.fillOpacity=cfg.opacity)},addStrokeAttrs:function(attrs,cfg){cfg.color&&(attrs.stroke=cfg.color),Util.isNumber(cfg.opacity)&&(attrs.opacity=attrs.strokeOpacity=cfg.opacity)}};module.exports=ShapeUtil},function(module,exports,__webpack_require__){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isArray=__webpack_require__(4),clone=function clone(obj){if("object"!==(void 0===obj?"undefined":_typeof(obj))||null===obj)return obj;var rst=void 0;if(isArray(obj)){rst=[];for(var i=0,l=obj.length;i<l;i++)"object"===_typeof(obj[i])&&null!=obj[i]?rst[i]=clone(obj[i]):rst[i]=obj[i]}else{rst={};for(var k in obj)"object"===_typeof(obj[k])&&null!=obj[k]?rst[k]=clone(obj[k]):rst[k]=obj[k]}return rst};module.exports=clone},function(module,exports,__webpack_require__){function _deepMix(dist,src,level,maxLevel){level=level||0,maxLevel=maxLevel||MAX_MIX_LEVEL;for(var key in src)if(src.hasOwnProperty(key)){var value=src[key];null!==value&&isPlainObject(value)?(isPlainObject(dist[key])||(dist[key]={}),level<maxLevel?_deepMix(dist[key],value,level+1,maxLevel):dist[key]=src[key]):isArray(value)?(dist[key]=[],dist[key]=dist[key].concat(value)):void 0!==value&&(dist[key]=value)}}var isPlainObject=__webpack_require__(26),isArray=__webpack_require__(4),MAX_MIX_LEVEL=5,deepMix=function(){for(var args=new Array(arguments.length),length=args.length,i=0;i<length;i++)args[i]=arguments[i];for(var rst=args[0],_i=1;_i<length;_i++)_deepMix(rst,args[_i]);return rst};module.exports=deepMix},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isObjectLike=function(value){return"object"===(void 0===value?"undefined":_typeof(value))&&null!==value};module.exports=isObjectLike},function(module,exports,__webpack_require__){var isObjectLike=__webpack_require__(48),isArrayLike=__webpack_require__(13),isString=__webpack_require__(10),isEqual=function isEqual(value,other){if(value===other)return!0;if(!value||!other)return!1;if(isString(value)||isString(other))return!1;if(isArrayLike(value)||isArrayLike(other)){if(value.length!==other.length)return!1;for(var rst=!0,i=0;i<value.length&&(rst=isEqual(value[i],other[i]));i++);return rst}if(isObjectLike(value)||isObjectLike(other)){var valueKeys=Object.keys(value),otherKeys=Object.keys(other);if(valueKeys.length!==otherKeys.length)return!1;for(var _rst=!0,_i=0;_i<valueKeys.length&&(_rst=isEqual(value[valueKeys[_i]],other[valueKeys[_i]]));_i++);return _rst}return!1};module.exports=isEqual},function(module,exports){var clamp=function(a,min,max){return a<min?min:a>max?max:a};module.exports=clamp},function(module,exports,__webpack_require__){var mat3=__webpack_require__(182);mat3.translate=function(out,a,v){var transMat=new Array(9);return mat3.fromTranslation(transMat,v),mat3.multiply(out,transMat,a)},mat3.rotate=function(out,a,rad){var rotateMat=new Array(9);return mat3.fromRotation(rotateMat,rad),mat3.multiply(out,rotateMat,a)},mat3.scale=function(out,a,v){var scaleMat=new Array(9);return mat3.fromScaling(scaleMat,v),mat3.multiply(out,scaleMat,a)},module.exports=mat3},function(module,exports,__webpack_require__){"use strict";function setMatrixArrayType(type){exports.ARRAY_TYPE=ARRAY_TYPE=type}function toRadian(a){return a*degree}function equals(a,b){return Math.abs(a-b)<=EPSILON*Math.max(1,Math.abs(a),Math.abs(b))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setMatrixArrayType=setMatrixArrayType,exports.toRadian=toRadian,exports.equals=equals;var EPSILON=exports.EPSILON=1e-6,ARRAY_TYPE=exports.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,degree=(exports.RANDOM=Math.random,Math.PI/180)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(exports){"use strict";function EventEmitter(){}function indexOfListener(listeners,listener){for(var i=listeners.length;i--;)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function(){return this[name].apply(this,arguments)}}function isValidListener(listener){return"function"==typeof listener||listener instanceof RegExp||!(!listener||"object"!=typeof listener)&&isValidListener(listener.listener)}var proto=EventEmitter.prototype,originalGlobalValue=exports.EventEmitter;proto.getListeners=function(evt){var response,key,events=this._getEvents();if(evt instanceof RegExp){response={};for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key])}else response=events[evt]||(events[evt]=[]);return response},proto.flattenListeners=function(listeners){var i,flatListeners=[];for(i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners},proto.getListenersAsObject=function(evt){var response,listeners=this.getListeners(evt);return listeners instanceof Array&&(response={},response[evt]=listeners),response||listeners},proto.addListener=function(evt,listener){if(!isValidListener(listener))throw new TypeError("listener must be a function");var key,listeners=this.getListenersAsObject(evt),listenerIsWrapped="object"==typeof listener;for(key in listeners)listeners.hasOwnProperty(key)&&-1===indexOfListener(listeners[key],listener)&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this},proto.on=alias("addListener"),proto.addOnceListener=function(evt,listener){return this.addListener(evt,{listener:listener,once:!0})},proto.once=alias("addOnceListener"),proto.defineEvent=function(evt){return this.getListeners(evt),this},proto.defineEvents=function(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this},proto.removeListener=function(evt,listener){var index,key,listeners=this.getListenersAsObject(evt);for(key in listeners)listeners.hasOwnProperty(key)&&-1!==(index=indexOfListener(listeners[key],listener))&&listeners[key].splice(index,1);return this},proto.off=alias("removeListener"),proto.addListeners=function(evt,listeners){return this.manipulateListeners(!1,evt,listeners)},proto.removeListeners=function(evt,listeners){return this.manipulateListeners(!0,evt,listeners)},proto.manipulateListeners=function(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if("object"!=typeof evt||evt instanceof RegExp)for(i=listeners.length;i--;)single.call(this,evt,listeners[i]);else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&("function"==typeof value?single.call(this,i,value):multiple.call(this,i,value));return this},proto.removeEvent=function(evt){var key,type=typeof evt,events=this._getEvents();if("string"===type)delete events[evt];else if(evt instanceof RegExp)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this},proto.removeAllListeners=alias("removeEvent"),proto.emitEvent=function(evt,args){var listeners,listener,i,key,listenersMap=this.getListenersAsObject(evt);for(key in listenersMap)if(listenersMap.hasOwnProperty(key))for(listeners=listenersMap[key].slice(0),i=0;i<listeners.length;i++)listener=listeners[i],!0===listener.once&&this.removeListener(evt,listener.listener),listener.listener.apply(this,args||[])===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener);return this},proto.trigger=alias("emitEvent"),proto.emit=function(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},proto.setOnceReturnValue=function(value){return this._onceReturnValue=value,this},proto._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},proto._getEvents=function(){return this._events||(this._events={})},EventEmitter.noConflict=function(){return exports.EventEmitter=originalGlobalValue,EventEmitter},void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return EventEmitter}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(this||{})},function(module,exports,__webpack_require__){var Line=__webpack_require__(36),Quadratic=__webpack_require__(103),Cubic=__webpack_require__(55),Arc=__webpack_require__(37);module.exports={line:function(x1,y1,x2,y2,lineWidth,x,y){var box=Line.box(x1,y1,x2,y2,lineWidth);if(!this.box(box.minX,box.maxX,box.minY,box.maxY,x,y))return!1;var d=Line.pointDistance(x1,y1,x2,y2,x,y);return!isNaN(d)&&d<=lineWidth/2},polyline:function(points,lineWidth,x,y){var l=points.length-1;if(l<1)return!1;for(var i=0;i<l;i++){var x1=points[i][0],y1=points[i][1],x2=points[i+1][0],y2=points[i+1][1];if(this.line(x1,y1,x2,y2,lineWidth,x,y))return!0}return!1},cubicline:function(x1,y1,x2,y2,x3,y3,x4,y4,lineWidth,x,y){return Cubic.pointDistance(x1,y1,x2,y2,x3,y3,x4,y4,x,y)<=lineWidth/2},quadraticline:function(x1,y1,x2,y2,x3,y3,lineWidth,x,y){return Quadratic.pointDistance(x1,y1,x2,y2,x3,y3,x,y)<=lineWidth/2},arcline:function(cx,cy,r,startAngle,endAngle,clockwise,lineWidth,x,y){return Arc.pointDistance(cx,cy,r,startAngle,endAngle,clockwise,x,y)<=lineWidth/2},rect:function(rx,ry,width,height,x,y){return rx<=x&&x<=rx+width&&ry<=y&&y<=ry+height},circle:function(cx,cy,r,x,y){return Math.pow(x-cx,2)+Math.pow(y-cy,2)<=Math.pow(r,2)},box:function(minX,maxX,minY,maxY,x,y){return minX<=x&&x<=maxX&&minY<=y&&y<=maxY}}},function(module,exports,__webpack_require__){function cubicAt(p0,p1,p2,p3,t){var onet=1-t;return onet*onet*(onet*p3+3*t*p2)+t*t*(t*p0+3*onet*p1)}function cubicDerivativeAt(p0,p1,p2,p3,t){var onet=1-t;return 3*(((p1-p0)*onet+2*(p2-p1)*t)*onet+(p3-p2)*t*t)}function cubicProjectPoint(x1,y1,x2,y2,x3,y3,x4,y4,x,y,out){var t,_t,v1,d1,d2,v2,prev,next,interval=.005,d=1/0,v0=[x,y];for(_t=0;_t<1;_t+=.05)v1=[cubicAt(x1,x2,x3,x4,_t),cubicAt(y1,y2,y3,y4,_t)],(d1=vec2.squaredDistance(v0,v1))<d&&(t=_t,d=d1);d=1/0;for(var i=0;i<32&&!(interval<1e-4);i++)prev=t-interval,next=t+interval,v1=[cubicAt(x1,x2,x3,x4,prev),cubicAt(y1,y2,y3,y4,prev)],d1=vec2.squaredDistance(v0,v1),prev>=0&&d1<d?(t=prev,d=d1):(v2=[cubicAt(x1,x2,x3,x4,next),cubicAt(y1,y2,y3,y4,next)],d2=vec2.squaredDistance(v0,v2),next<=1&&d2<d?(t=next,d=d2):interval*=.5);return out&&(out.x=cubicAt(x1,x2,x3,x4,t),out.y=cubicAt(y1,y2,y3,y4,t)),Math.sqrt(d)}function cubicExtrema(p0,p1,p2,p3){var t1,t2,discSqrt,a=3*p0-9*p1+9*p2-3*p3,b=6*p1-12*p2+6*p3,c=3*p2-3*p3,extrema=[];if(Util.isNumberEqual(a,0))Util.isNumberEqual(b,0)||(t1=-c/b)>=0&&t1<=1&&extrema.push(t1);else{var disc=b*b-4*a*c;Util.isNumberEqual(disc,0)?extrema.push(-b/(2*a)):disc>0&&(discSqrt=Math.sqrt(disc),t1=(-b+discSqrt)/(2*a),t2=(-b-discSqrt)/(2*a),t1>=0&&t1<=1&&extrema.push(t1),t2>=0&&t2<=1&&extrema.push(t2))}return extrema}function base3(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2}function cubiclLen(x1,y1,x2,y2,x3,y3,x4,y4,z){Util.isNil(z)&&(z=1),z=z>1?1:z<0?0:z;for(var z2=z/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*Math.sqrt(comb)}return z2*sum}var Util=__webpack_require__(1),vec2=Util.vec2;module.exports={at:cubicAt,derivativeAt:cubicDerivativeAt,projectPoint:function(x1,y1,x2,y2,x3,y3,x4,y4,x,y){var rst={};return cubicProjectPoint(x1,y1,x2,y2,x3,y3,x4,y4,x,y,rst),rst},pointDistance:cubicProjectPoint,extrema:cubicExtrema,len:cubiclLen}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Format=__webpack_require__(27),PathSegment=__webpack_require__(39),Marker=function Marker(cfg){Marker.superclass.constructor.call(this,cfg)};Marker.Symbols={circle:function(x,y,r){return[["M",x,y],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},square:function(x,y,r){return[["M",x-r,y-r],["L",x+r,y-r],["L",x+r,y+r],["L",x-r,y+r],["Z"]]},diamond:function(x,y,r){return[["M",x-r,y],["L",x,y-r],["L",x+r,y],["L",x,y+r],["Z"]]},triangle:function(x,y,r){var diffY=r*Math.sin(1/3*Math.PI);return[["M",x-r,y+diffY],["L",x,y-diffY],["L",x+r,y+diffY],["z"]]},"triangle-down":function(x,y,r){var diffY=r*Math.sin(1/3*Math.PI);return[["M",x-r,y-diffY],["L",x+r,y-diffY],["L",x,y+diffY],["Z"]]}},Marker.ATTRS={path:null,lineWidth:1},Util.extend(Marker,Shape),Util.augment(Marker,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.radius,lineWidth=this.getHitLineWidth(),halfWidth=lineWidth/2+r;return{minX:cx-halfWidth,minY:cy-halfWidth,maxX:cx+halfWidth,maxY:cy+halfWidth}},_getPath:function(){var method,attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.radius||attrs.r,symbol=attrs.symbol||"circle";return method=Util.isFunction(symbol)?symbol:Marker.Symbols[symbol],method?method(x,y,r):null},createPath:function(context){var segments=this._cfg.segments;if(!segments||this._cfg.hasUpdate){var path=Format.parsePath(this._getPath());context.beginPath();var preSegment;segments=[];for(var _i=0;_i<path.length;_i++){var item=path[_i];preSegment=new PathSegment(item,preSegment,_i===path.length-1),segments.push(preSegment),preSegment.draw(context)}this._cfg.segments=segments,this._cfg.hasUpdate=!1}else{context.beginPath();for(var i=0;i<segments.length;i++)segments[i].draw(context)}}}),module.exports=Marker},function(module,exports,__webpack_require__){function decasteljau(points,t){function recurse(points,t){if(1===points.length)left.push(points[0]),right.push(points[0]);else{for(var middlePoints=[],i=0;i<points.length-1;i++)0===i&&left.push(points[0]),i===points.length-2&&right.push(points[i+1]),middlePoints[i]=[(1-t)*points[i][0]+t*points[i+1][0],(1-t)*points[i][1]+t*points[i+1][1]];recurse(middlePoints,t)}}var left=[],right=[];return points.length&&recurse(points,t),{left:left,right:right.reverse()}}function splitCurve(start,end,count){var points=[[start[1],start[2]]];count=count||2;var segments=[];"A"===end[0]?(points.push(end[6]),points.push(end[7])):"C"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]]),points.push([end[5],end[6]])):"S"===end[0]||"Q"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]])):points.push([end[1],end[2]]);for(var leftSegments=points,t=1/count,i=0;i<count-1;i++){var rt=t/(1-t*i),split=decasteljau(leftSegments,rt);segments.push(split.left),leftSegments=split.right}return segments.push(leftSegments),segments.map(function(segment){var cmd=[];return 4===segment.length&&(cmd.push("C"),cmd=cmd.concat(segment[2])),segment.length>=3&&(3===segment.length&&cmd.push("Q"),cmd=cmd.concat(segment[1])),2===segment.length&&cmd.push("L"),cmd=cmd.concat(segment[segment.length-1])})}function getMinDiff(del,add,modify){var type=null,min=modify;return add<min&&(min=add,type="add"),del<min&&(min=del,type="del"),{type:type,min:min}}function _splitPoints(points,former,count){for(var index,result=[].concat(points),t=1/(count+1),formerEnd=_getSegmentPoints(former)[0],i=1;i<=count;i++)t*=i,index=Math.floor(points.length*t),0===index?result.unshift([formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]):result.splice(index,0,[formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]);return result}function _getSegmentPoints(segment){var points=[];switch(segment[0]){case"M":case"L":points.push([segment[1],segment[2]]);break;case"A":points.push([segment[6],segment[7]]);break;case"Q":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"T":points.push([segment[1],segment[2]]);break;case"C":points.push([segment[5],segment[6]]),points.push([segment[1],segment[2]]),points.push([segment[3],segment[4]]);break;case"S":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"H":case"V":points.push([segment[1],segment[1]])}return points}var Util=__webpack_require__(81),SPACES="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029",PATH_COMMAND=new RegExp("([a-z])["+SPACES+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+SPACES+"]*,?["+SPACES+"]*)+)","ig"),PATH_VALUES=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+SPACES+"]*,?["+SPACES+"]*","ig"),parsePathString=function(pathString){if(!pathString)return null;if(typeof pathString==typeof[])return pathString;var paramCounts={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(pathString).replace(PATH_COMMAND,function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(PATH_VALUES,function(a,b){b&&params.push(+b)}),"m"===name&&params.length>2&&(data.push([b].concat(params.splice(0,2))),name="l",b="m"===b?"l":"L"),"o"===name&&1===params.length&&data.push([b,params[0]]),"r"===name)data.push([b].concat(params));else for(;params.length>=paramCounts[name]&&(data.push([b].concat(params.splice(0,paramCounts[name]))),paramCounts[name]););}),data},catmullRom2bezier=function(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4===i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2===i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d},ellipsePath=function(x,y,rx,ry,a){var res=[];if(null===a&&null===ry&&(ry=rx),x=+x,y=+y,rx=+rx,ry=+ry,null!==a){var rad=Math.PI/180,x1=x+rx*Math.cos(-ry*rad),x2=x+rx*Math.cos(-a*rad);res=[["M",x1,y+rx*Math.sin(-ry*rad)],["A",rx,rx,0,+(a-ry>180),0,x2,y+rx*Math.sin(-a*rad)]]}else res=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];return res},pathToAbsolute=function(pathArray){if(!(pathArray=parsePathString(pathArray))||!pathArray.length)return[["M",0,0]];var pa0,dots,res=[],x=0,y=0,mx=0,my=0,start=0;"M"===pathArray[0][0]&&(x=+pathArray[0][1],y=+pathArray[0][2],mx=x,my=y,start++,res[0]=["M",x,y]);for(var r,pa,crz=3===pathArray.length&&"M"===pathArray[0][0]&&"R"===pathArray[1][0].toUpperCase()&&"Z"===pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),pa=pathArray[i],(pa0=pa[0])!==pa0.toUpperCase())switch(r[0]=pa0.toUpperCase(),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+pa[6]+x,r[7]=+pa[7]+y;break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":dots=[x,y].concat(pa.slice(1));for(var j=2,jj=dots.length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res.concat(catmullRom2bezier(dots,crz));break;case"O":res.pop(),dots=ellipsePath(x,y,pa[1],pa[2]),dots.push(dots[0]),res=res.concat(dots);break;case"U":res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;break;default:for(var _j=1,_jj=pa.length;_j<_jj;_j++)r[_j]=+pa[_j]+(_j%2?x:y)}else if("R"===pa0)dots=[x,y].concat(pa.slice(1)),res.pop(),res=res.concat(catmullRom2bezier(dots,crz)),r=["R"].concat(pa.slice(-2));else if("O"===pa0)res.pop(),dots=ellipsePath(x,y,pa[1],pa[2]),dots.push(dots[0]),res=res.concat(dots);else if("U"===pa0)res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];if("O"!==(pa0=pa0.toUpperCase()))switch(r[0]){case"Z":x=+mx,y=+my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];break;default:x=r[r.length-2],y=r[r.length-1]}}return res},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]},a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){rx===ry&&(rx+=1);var xy,f1,f2,cx,cy,_120=120*Math.PI/180,rad=Math.PI/180*(+angle||0),res=[],rotate=function(x,y,rad){return{x:x*Math.cos(rad)-y*Math.sin(rad),y:x*Math.sin(rad)+y*Math.cos(rad)}};if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{xy=rotate(x1,y1,-rad),x1=xy.x,y1=xy.y,xy=rotate(x2,y2,-rad),x2=xy.x,y2=xy.y,x1===x2&&y1===y2&&(x2+=1,y2+=1);var x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(h=Math.sqrt(h),rx*=h,ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x)));cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=Math.asin(((y1-cy)/ry).toFixed(9)),f2=Math.asin(((y2-cy)/ry).toFixed(9)),f1=x1<cx?Math.PI-f1:f1,f2=x2<cx?Math.PI-f2:f2,f1<0&&(f1=2*Math.PI+f1),f2<0&&(f2=2*Math.PI+f2),sweep_flag&&f1>f2&&(f1-=2*Math.PI),!sweep_flag&&f2>f1&&(f2-=2*Math.PI)}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),x2=cx+rx*Math.cos(f2),y2=cy+ry*Math.sin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4].concat(res);res=[m2,m3,m4].concat(res).join().split(",");for(var newres=[],i=0,ii=res.length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},pathTocurve=function(path,path2){var ii,p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pcoms1=[],pcoms2=[],pfirst="",pcom="",processPath=function(path,d,pcom){var nx,ny;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"].concat(a2c.apply(0,[d.x,d.y].concat(path.slice(1))));break;case"S":"C"===pcom||"S"===pcom?(nx=2*d.x-d.bx,ny=2*d.y-d.by):(nx=d.x,ny=d.y),path=["C",nx,ny].concat(path.slice(1));break;case"T":"Q"===pcom||"T"===pcom?(d.qx=2*d.x-d.qx,d.qy=2*d.y-d.qy):(d.qx=d.x,d.qy=d.y),path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pcoms1[i]="A",p2&&(pcoms2[i]="A"),pp.splice(i++,0,["C"].concat(pi.splice(0,6)));pp.splice(i,1),ii=Math.max(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"===path1[i][0]&&"M"!==path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=Math.max(p.length,p2&&p2.length||0))};ii=Math.max(p.length,p2&&p2.length||0);for(var i=0;i<ii;i++){p[i]&&(pfirst=p[i][0]),"C"!==pfirst&&(pcoms1[i]=pfirst,i&&(pcom=pcoms1[i-1])),p[i]=processPath(p[i],attrs,pcom),"A"!==pcoms1[i]&&"C"===pfirst&&(pcoms1[i]="C"),fixArc(p,i),p2&&(p2[i]&&(pfirst=p2[i][0]),"C"!==pfirst&&(pcoms2[i]=pfirst,i&&(pcom=pcoms2[i-1])),p2[i]=processPath(p2[i],attrs2,pcom),"A"!==pcoms2[i]&&"C"===pfirst&&(pcoms2[i]="C"),fixArc(p2,i)),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=parseFloat(seg[seglen-4])||attrs.x,attrs.by=parseFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(parseFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(parseFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p},p2s=/,?([a-z]),?/gi,parsePathArray=function(path){return path.join(",").replace(p2s,"$1")},base3=function(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2},bezlen=function(x1,y1,x2,y2,x3,y3,x4,y4,z){null===z&&(z=1),z=z>1?1:z<0?0:z;for(var z2=z/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*Math.sqrt(comb)}return z2*sum},curveDim=function(x0,y0,x1,y1,x2,y2,x3,y3){for(var a,b,c,t,tvalues=[],bounds=[[],[]],i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(t=-c/b)>0&&t<1&&tvalues.push(t)}else{var b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac);if(!(b2ac<0)){var t1=(-b+sqrtb2ac)/(2*a);t1>0&&t1<1&&tvalues.push(t1);var t2=(-b-sqrtb2ac)/(2*a);t2>0&&t2<1&&tvalues.push(t2)}}for(var mt,j=tvalues.length,jlen=j;j--;)t=tvalues[j],mt=1-t,bounds[0][j]=mt*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,{min:{x:Math.min.apply(0,bounds[0]),y:Math.min.apply(0,bounds[1])},max:{x:Math.max.apply(0,bounds[0]),y:Math.max.apply(0,bounds[1])}}},intersect=function(x1,y1,x2,y2,x3,y3,x4,y4){if(!(Math.max(x1,x2)<Math.min(x3,x4)||Math.min(x1,x2)>Math.max(x3,x4)||Math.max(y1,y2)<Math.min(y3,y4)||Math.min(y1,y2)>Math.max(y3,y4))){var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=nx/denominator,py=ny/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+Math.min(x1,x2).toFixed(2)||px2>+Math.max(x1,x2).toFixed(2)||px2<+Math.min(x3,x4).toFixed(2)||px2>+Math.max(x3,x4).toFixed(2)||py2<+Math.min(y1,y2).toFixed(2)||py2>+Math.max(y1,y2).toFixed(2)||py2<+Math.min(y3,y4).toFixed(2)||py2>+Math.max(y3,y4).toFixed(2)))return{x:px,y:py}}}},isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x+bbox.width&&y>=bbox.y&&y<=bbox.y+bbox.height},rectPath=function(x,y,w,h,r){if(r)return[["M",+x+ +r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]];var res=[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]];return res.parsePathArray=parsePathArray,res},box=function(x,y,width,height){return null===x&&(x=y=width=height=0),null===y&&(y=x.y,width=x.width,height=x.height,x=x.x),{x:x,y:y,width:width,w:width,height:height,h:height,x2:x+width,y2:y+height,cx:x+width/2,cy:y+height/2,r1:Math.min(width,height)/2,r2:Math.max(width,height)/2,r0:Math.sqrt(width*width+height*height)/2,path:rectPath(x,y,width,height),vb:[x,y,width,height].join(" ")}},isBBoxIntersect=function(bbox1,bbox2){return bbox1=box(bbox1),bbox2=box(bbox2),isPointInsideBBox(bbox2,bbox1.x,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x,bbox1.y2)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y2)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y2)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)},bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){Util.isArray(p1x)||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return box(bbox.min.x,bbox.min.y,bbox.max.x-bbox.min.x,bbox.max.y-bbox.min.y)},findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=Math.pow(t1,3),t12=Math.pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y=t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y);return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:t1*p1x+t*c1x,y:t1*p1y+t*c1y},end:{x:t1*c2x+t*p2x,y:t1*c2y+t*p2y},alpha:90-180*Math.atan2(mx-nx,my-ny)/Math.PI}},interHelper=function(bez1,bez2,justCount){var bbox1=bezierBBox(bez1),bbox2=bezierBBox(bez2);if(!isBBoxIntersect(bbox1,bbox2))return justCount?0:[];for(var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=~~(l1/8),n2=~~(l2/8),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var d=findDotsAtSegment.apply(0,bez1.concat(i/n1));dots1.push({x:d.x,y:d.y,t:i/n1})}for(var _i=0;_i<n2+1;_i++){var _d=findDotsAtSegment.apply(0,bez2.concat(_i/n2));dots2.push({x:_d.x,y:_d.y,t:_i/n2})}for(var _i2=0;_i2<n1;_i2++)for(var j=0;j<n2;j++){var di=dots1[_i2],di1=dots1[_i2+1],dj=dots2[j],dj1=dots2[j+1],ci=Math.abs(di1.x-di.x)<.001?"y":"x",cj=Math.abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]===is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+Math.abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+Math.abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1&&t2>=0&&t2<=1&&(justCount?res++:res.push({x:is.x,y:is.y,t1:t1,t2:t2}))}}return res},interPathHelper=function(path1,path2,justCount){path1=pathTocurve(path1),path2=pathTocurve(path2);for(var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2,res=justCount?0:[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"===pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"===pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"===pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"===pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);var intr=interHelper(bez1,bez2,justCount);if(justCount)res+=intr;else{for(var k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}}return res},pathIntersection=function(path1,path2){return interPathHelper(path1,path2)},splitSegment=function(start,end,count){if(1===count)return[[].concat(start)];var segments=[];if("L"===end[0]||"C"===end[0]||"Q"===end[0])segments=segments.concat(splitCurve(start,end,count));else{var temp=[].concat(start);"M"===temp[0]&&(temp[0]="L");for(var i=0;i<=count-1;i++)segments.push(temp)}return segments},fillPath=function(source,target){if(1===source.length)return source;var sourceLen=source.length-1,targetLen=target.length-1,ratio=sourceLen/targetLen,segmentsToFill=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<targetLen-sourceLen;i++)source.push(source[0]);return source}for(var _i3=0;_i3<targetLen;_i3++){var index=Math.floor(ratio*_i3);segmentsToFill[index]=(segmentsToFill[index]||0)+1}var filled=segmentsToFill.reduce(function(filled,count,i){return i===sourceLen?filled.concat(source[sourceLen]):filled.concat(splitSegment(source[i],source[i+1],count))},[]);return filled.unshift(source[0]),"Z"!==target[targetLen]&&"z"!==target[targetLen]||filled.push("Z"),filled},isEqual=function(obj1,obj2){if(obj1.length!==obj2.length)return!1;var result=!0;return Util.each(obj1,function(item,i){if(item!==obj2[i])return result=!1,!1}),result},levenshteinDistance=function(source,target){var sourceSegment,targetSegment,sourceLen=source.length,targetLen=target.length,temp=0;if(0===sourceLen||0===targetLen)return null;for(var dist=[],i=0;i<=sourceLen;i++)dist[i]=[],dist[i][0]={min:i};for(var j=0;j<=targetLen;j++)dist[0][j]={min:j};for(var _i4=1;_i4<=sourceLen;_i4++){sourceSegment=source[_i4-1];for(var _j2=1;_j2<=targetLen;_j2++){targetSegment=target[_j2-1],temp=isEqual(sourceSegment,targetSegment)?0:1;var del=dist[_i4-1][_j2].min+1,add=dist[_i4][_j2-1].min+1,modify=dist[_i4-1][_j2-1].min+temp;dist[_i4][_j2]=getMinDiff(del,add,modify)}}return dist},fillPathByDiff=function(source,target){var diffMatrix=levenshteinDistance(source,target),sourceLen=source.length,targetLen=target.length,changes=[],index=1,minPos=1;if(diffMatrix[sourceLen][targetLen]!==sourceLen){for(var i=1;i<=sourceLen;i++){var min=diffMatrix[i][i].min;minPos=i;for(var j=index;j<=targetLen;j++)diffMatrix[i][j].min<min&&(min=diffMatrix[i][j].min,minPos=j);index=minPos,diffMatrix[i][index].type&&changes.push({index:i-1,type:diffMatrix[i][index].type})}for(var _i5=changes.length-1;_i5>=0;_i5--)index=changes[_i5].index,"add"===changes[_i5].type?source.splice(index,0,[].concat(source[index])):source.splice(index,1)}sourceLen=source.length;var diff=targetLen-sourceLen;if(sourceLen<targetLen)for(var _i6=0;_i6<diff;_i6++)"z"===source[sourceLen-1][0]||"Z"===source[sourceLen-1][0]?source.splice(sourceLen-2,0,source[sourceLen-2]):source.push(source[sourceLen-1]),sourceLen+=1;return source},formatPath=function(fromPath,toPath){if(fromPath.length<=1)return fromPath;for(var points,i=0;i<toPath.length;i++)if(fromPath[i][0]!==toPath[i][0])switch(points=_getSegmentPoints(fromPath[i]),toPath[i][0]){case"M":fromPath[i]=["M"].concat(points[0]);break;case"L":fromPath[i]=["L"].concat(points[0]);break;case"A":fromPath[i]=[].concat(toPath[i]),fromPath[i][6]=points[0][0],fromPath[i][7]=points[0][1];break;case"Q":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["Q"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"T":fromPath[i]=["T"].concat(points[0]);break;case"C":if(points.length<3){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],2)}fromPath[i]=["C"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"S":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["S"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;default:fromPath[i]=toPath[i]}return fromPath};module.exports={parsePathString:parsePathString,parsePathArray:parsePathArray,pathTocurve:pathTocurve,pathToAbsolute:pathToAbsolute,catmullRomToBezier:catmullRom2bezier,rectPath:rectPath,fillPath:fillPath,fillPathByDiff:fillPathByDiff,formatPath:formatPath,intersection:pathIntersection}},function(module,__webpack_exports__,__webpack_require__){"use strict";function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function timerFlush(){now(),++frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>pokeDelay&&(clockSkew-=delay,clockLast=now)}function nap(){for(var t0,t2,t1=taskHead,time=1/0;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}function sleep(time){if(!frame){timeout&&(timeout=clearTimeout(timeout));time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}__webpack_exports__.b=now,__webpack_exports__.a=Timer,__webpack_exports__.c=timer,__webpack_exports__.d=timerFlush;var taskHead,taskTail,frame=0,timeout=0,interval=0,pokeDelay=1e3,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__rgb__=__webpack_require__(119),__WEBPACK_IMPORTED_MODULE_2__array__=__webpack_require__(122),__WEBPACK_IMPORTED_MODULE_3__date__=__webpack_require__(123),__WEBPACK_IMPORTED_MODULE_4__number__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_5__object__=__webpack_require__(124),__WEBPACK_IMPORTED_MODULE_6__string__=__webpack_require__(125),__WEBPACK_IMPORTED_MODULE_7__constant__=__webpack_require__(121);__webpack_exports__.a=function(a,b){var c,t=typeof b;return null==b||"boolean"===t?Object(__WEBPACK_IMPORTED_MODULE_7__constant__.a)(b):("number"===t?__WEBPACK_IMPORTED_MODULE_4__number__.a:"string"===t?(c=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.a)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1__rgb__.a):__WEBPACK_IMPORTED_MODULE_6__string__.a:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.a?__WEBPACK_IMPORTED_MODULE_1__rgb__.a:b instanceof Date?__WEBPACK_IMPORTED_MODULE_3__date__.a:Array.isArray(b)?__WEBPACK_IMPORTED_MODULE_2__array__.a:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?__WEBPACK_IMPORTED_MODULE_5__object__.a:__WEBPACK_IMPORTED_MODULE_4__number__.a)(a,b)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function Color(){}function color(format){var m;return format=(format+"").trim().toLowerCase(),(m=reHex3.exec(format))?(m=parseInt(m[1],16),new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1)):(m=reHex6.exec(format))?rgbn(parseInt(m[1],16)):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?(o=o.rgb(),new Rgb(o.r,o.g,o.b,o.opacity)):new Rgb}function rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;o=o.rgb();var r=o.r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}__webpack_exports__.a=Color,__webpack_require__.d(__webpack_exports__,"d",function(){return darker}),__webpack_require__.d(__webpack_exports__,"c",function(){return brighter}),__webpack_exports__.e=color,__webpack_exports__.h=rgbConvert,__webpack_exports__.g=rgb,__webpack_exports__.b=Rgb,__webpack_exports__.f=hsl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61),darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex3=/^#([0-9a-f]{3})$/,reHex6=/^#([0-9a-f]{6})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Color,color,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Rgb,rgb,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hsl,hsl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?darker:Math.pow(darker,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}__webpack_exports__.b=extend,__webpack_exports__.a=function(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}},function(module,__webpack_exports__,__webpack_require__){"use strict";function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}__webpack_exports__.a=basis,__webpack_exports__.b=function(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArrayLike=__webpack_require__(13),filter=function(arr,func){if(!isArrayLike(arr))return arr;var result=[];return each(arr,function(value,index){func(value,index)&&result.push(value)}),result};module.exports=filter},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArray=__webpack_require__(4),each=__webpack_require__(2);module.exports=function(data,name){for(var rst=[],tmpMap={},i=0;i<data.length;i++){var obj=data[i],value=obj[name];isNil(value)||(isArray(value)||(value=[value]),each(value,function(val){tmpMap[val]||(rst.push(val),tmpMap[val]=!0)}))}return rst}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function avg(arr){var sum=0;return Util.each(arr,function(value){sum+=value}),sum/arr.length}function getCentroid(xs,ys){if(Util.isNumber(xs)&&Util.isNumber(ys))return[xs,ys];for(var former,diff,i=-1,x=0,y=0,current=xs.length-1,k=0;++i<xs.length;)former=current,current=i,k+=diff=xs[former]*ys[current]-xs[current]*ys[former],x+=(xs[former]+xs[current])*diff,y+=(ys[former]+ys[current])*diff;return k*=3,[x/k,y/k]}var _require=__webpack_require__(16),Group=_require.Group,_require2=__webpack_require__(21),Label=_require2.Label,Global=__webpack_require__(7),Util=__webpack_require__(0),IGNORE_ARR=["line","point","path"],GeomLabels=function(_Group){function GeomLabels(){return _Group.apply(this,arguments)||this}_inheritsLoose(GeomLabels,_Group);var _proto=GeomLabels.prototype;return _proto.getDefaultCfg=function(){return{label:Global.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_proto._renderUI=function(){_Group.prototype._renderUI.call(this),this.initLabelsCfg();var labelsGroup=this.addGroup(),lineGroup=this.addGroup({elCls:"x-line-group"}),labelRenderer=this.get("labelRenderer");this.set("labelsGroup",labelsGroup),this.set("lineGroup",lineGroup),this.get("labelRenderer").set("group",labelsGroup),labelRenderer.set("group",labelsGroup),labelRenderer.set("lineGroup",lineGroup)},_proto.initLabelsCfg=function(){var self=this,labelRenderer=new Label,labels=self.getDefaultLabelCfg(),labelCfg=self.get("labelCfg");Util.deepMix(labels,labelCfg.globalCfg||labelCfg.cfg),labelRenderer.set("config",!1),labels.labelLine&&labelRenderer.set("labelLine",labels.labelLine),labelRenderer.set("coord",self.get("coord")),this.set("labelRenderer",labelRenderer),self.set("label",labels)},_proto.getDefaultLabelCfg=function(){var self=this,labelCfg=self.get("labelCfg").cfg||self.get("labelCfg").globalCfg,geomType=self.get("geomType"),viewTheme=self.get("viewTheme")||Global;return"polygon"===geomType||labelCfg&&labelCfg.offset<0&&-1===Util.indexOf(IGNORE_ARR,geomType)?Util.deepMix({},self.get("label"),viewTheme.innerLabels,labelCfg):Util.deepMix({},self.get("label"),viewTheme.label,labelCfg)},_proto.getLabelsItems=function(points,shapes){var self=this,items=[],geom=self.get("geom"),coord=self.get("coord");self._getLabelCfgs(points,shapes);var labelCfg=self.get("labelItemCfgs");return Util.each(points,function(point,i){var origin=point._origin,label=labelCfg[i];if(!label)return void items.push(null);Util.isArray(label.text)||(label.text=[label.text]);var total=label.length;Util.each(label.text,function(sub,subIndex){if(Util.isNil(sub)||""===sub)return void items.push(null);var obj=self.getLabelPoint(label,point,subIndex);obj=Util.mix({},label,obj),obj.textAlign||(obj.textAlign=self.getLabelAlign(obj,subIndex,total)),geom&&(obj._id=geom._getShapeId(origin)+"-glabel-"+subIndex+"-"+obj.text),obj.coord=coord,items.push(obj)})}),items},_proto.adjustItems=function(items){return Util.each(items,function(item){item&&(item.offsetX&&(item.x+=item.offsetX),item.offsetY&&(item.y+=item.offsetY))}),items},_proto.drawLines=function(items){var self=this;Util.each(items,function(point){point&&point.offset>0&&self.lineToLabel(point)})},_proto.lineToLabel=function(){},_proto.getLabelPoint=function(labelCfg,point,index){function getDimValue(value,idx){return Util.isArray(value)&&(value=1===labelCfg.text.length?value.length<=2?value[value.length-1]:avg(value):value[idx]),value}var self=this,coord=self.get("coord"),total=labelCfg.text.length,label={text:labelCfg.text[index]};if(point&&"polygon"===this.get("geomType")){var centroid=getCentroid(point.x,point.y);label.x=centroid[0],label.y=centroid[1]}else label.x=getDimValue(point.x,index),label.y=getDimValue(point.y,index);if(point&&point.nextPoints&&("funnel"===point.shape||"pyramid"===point.shape)){var maxX=-1/0;point.nextPoints.forEach(function(p){p=coord.convert(p),p.x>maxX&&(maxX=p.x)}),label.x=(label.x+maxX)/2}"pyramid"===point.shape&&!point.nextPoints&&point.points&&point.points.forEach(function(p){p=coord.convert(p),(Util.isArray(p.x)&&-1===point.x.indexOf(p.x)||Util.isNumber(p.x)&&point.x!==p.x)&&(label.x=(label.x+p.x)/2)}),labelCfg.position&&self.setLabelPosition(label,point,index,labelCfg.position);var offsetPoint=self.getLabelOffset(labelCfg,index,total);return labelCfg.offsetX&&(offsetPoint.x+=labelCfg.offsetX),labelCfg.offsetY&&(offsetPoint.y+=labelCfg.offsetY),self.transLabelPoint(label),label.start={x:label.x,y:label.y},label.x+=offsetPoint.x,label.y+=offsetPoint.y,label.color=point.color,label},_proto.setLabelPosition=function(){},_proto.transLabelPoint=function(point){var self=this,coord=self.get("coord"),tmpPoint=coord.applyMatrix(point.x,point.y,1);point.x=tmpPoint[0],point.y=tmpPoint[1]},_proto.getOffsetVector=function(point){var self=this,offset=point.offset||0,coord=self.get("coord");return coord.isTransposed?coord.applyMatrix(offset,0):coord.applyMatrix(0,offset)},_proto.getDefaultOffset=function(point){var self=this,coord=self.get("coord"),vector=self.getOffsetVector(point);return coord.isTransposed?vector[0]:vector[1]},_proto.getLabelOffset=function(point,index,total){var self=this,offset=self.getDefaultOffset(point),coord=self.get("coord"),transposed=coord.isTransposed,yField=transposed?"x":"y",factor=transposed?1:-1,offsetPoint={x:0,y:0};return offsetPoint[yField]=index>0||1===total?offset*factor:offset*factor*-1,offsetPoint},_proto.getLabelAlign=function(point,index,total){var self=this,align="center";if(self.get("coord").isTransposed){var offset=self.getDefaultOffset(point);align=offset<0?"right":0===offset?"center":"left",total>1&&0===index&&("right"===align?align="left":"left"===align&&(align="right"))}return align},_proto._getLabelValue=function(origin,scales){Util.isArray(scales)||(scales=[scales]);var text=[];return Util.each(scales,function(scale){var value=origin[scale.field];if(Util.isArray(value)){var tmp=[];Util.each(value,function(subVal){tmp.push(scale.getText(subVal))}),value=tmp}else value=scale.getText(value);(Util.isNil(value)||""===value)&&text.push(null),text.push(value)}),text},_proto._getLabelCfgs=function(points){var self=this,labelCfg=this.get("labelCfg"),scales=labelCfg.scales,defaultCfg=this.get("label"),viewTheme=self.get("viewTheme")||Global,cfgs=[];labelCfg.globalCfg&&labelCfg.globalCfg.type&&self.set("type",labelCfg.globalCfg.type),Util.each(points,function(point,i){var cfg={},origin=point._origin,originText=self._getLabelValue(origin,scales);if(labelCfg.callback){var originValues=scales.map(function(scale){return origin[scale.field]});cfg=labelCfg.callback.apply(null,originValues)}if(!cfg&&0!==cfg)return void cfgs.push(null);if(Util.isString(cfg)||Util.isNumber(cfg)?cfg={text:cfg}:(cfg.text=cfg.content||originText[0],delete cfg.content),cfg=Util.mix({},defaultCfg,labelCfg.globalCfg||{},cfg),point.point=origin,cfg.htmlTemplate&&(cfg.useHtml=!0,cfg.text=cfg.htmlTemplate.call(null,cfg.text,point,i),delete cfg.htmlTemplate),cfg.formatter&&(cfg.text=cfg.formatter.call(null,cfg.text,point,i),delete cfg.formatter),cfg.label){var label=cfg.label;delete cfg.label,cfg=Util.mix(cfg,label)}if(cfg.textStyle){delete cfg.textStyle.offset;var textStyle=cfg.textStyle;Util.isFunction(textStyle)&&(cfg.textStyle=textStyle.call(null,cfg.text,point,i))}cfg.labelLine&&(cfg.labelLine=Util.mix({},defaultCfg.labelLine,cfg.labelLine)),cfg.textStyle=Util.mix({},defaultCfg.textStyle,viewTheme.label.textStyle,cfg.textStyle),delete cfg.items,cfgs.push(cfg)}),this.set("labelItemCfgs",cfgs)},_proto.showLabels=function(points,shapes){var self=this,labelRenderer=self.get("labelRenderer"),items=self.getLabelsItems(points,shapes);shapes=[].concat(shapes);var type=self.get("type");items=self.adjustItems(items,shapes),self.drawLines(items),labelRenderer.set("items",items.filter(function(item,i){return!!item||(shapes.splice(i,1),!1)})),type&&(labelRenderer.set("shapes",shapes),labelRenderer.set("type",type),labelRenderer.set("points",points)),labelRenderer.set("canvas",this.get("canvas")),labelRenderer.draw()},_proto.destroy=function(){this.get("labelRenderer").destroy(),_Group.prototype.destroy.call(this)},GeomLabels}(Group);module.exports=GeomLabels},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var EventEmitter=__webpack_require__(53),Util=__webpack_require__(3),Base=function(_EventEmitter){function Base(cfg){var _this;_this=_EventEmitter.call(this)||this;var self=_assertThisInitialized(_assertThisInitialized(_this)),attrs={visible:!0},defaultCfg=self.getDefaultCfg();return self._attrs=attrs,Util.deepMix(attrs,defaultCfg,cfg),_this}_inheritsLoose(Base,_EventEmitter);var _proto=Base.prototype;return _proto.getDefaultCfg=function(){return{}},_proto.get=function(name){return this._attrs[name]},_proto.set=function(name,value){this._attrs[name]=value},_proto.changeVisible=function(){},_proto.destroy=function(){var self=this;self._attrs={},self.removeAllListeners(),self.destroyed=!0},Base}(EventEmitter);module.exports=Base},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Legend=__webpack_require__(158),Slider=__webpack_require__(327),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,Event=Util.Event,Group=Util.Group,Continuous=function(_Legend){function Continuous(){return _Legend.apply(this,arguments)||this}_inheritsLoose(Continuous,_Legend);var _proto=Continuous.prototype;return _proto.getDefaultCfg=function(){var cfg=_Legend.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:FONT_FAMILY},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},_proto._calStartPoint=function(){var start={x:10,y:this.get("titleGap")-8},titleShape=this.get("titleShape");if(titleShape){var titleBox=titleShape.getBBox();start.y+=titleBox.height}return start},_proto.beforeRender=function(){var items=this.get("items");Util.isArray(items)&&!Util.isEmpty(items)&&(_Legend.prototype.beforeRender.call(this),this.set("firstItem",items[0]),this.set("lastItem",items[items.length-1]))},_proto._formatItemValue=function(value){var formatter=this.get("formatter")||this.get("itemFormatter");return formatter&&(value=formatter.call(this,value)),value},_proto.render=function(){_Legend.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},_proto._renderSlider=function(){var minHandleElement=new Group,maxHandleElement=new Group,backgroundElement=new Group,start=this._calStartPoint(),group=this.get("group"),slider=group.addGroup(Slider,{minHandleElement:minHandleElement,maxHandleElement:maxHandleElement,backgroundElement:backgroundElement,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});slider.translate(start.x,start.y),this.set("slider",slider),this._renderSliderShape().attr("clip",slider.get("middleHandleElement")),this._renderTrigger()},_proto._addMiddleBar=function(parent,name,attrs){return parent.addShape(name,{attrs:Util.mix({},attrs,this.get("middleBackgroundStyle"))}),parent.addShape(name,{attrs:attrs})},_proto._renderTrigger=function(){var min=this.get("firstItem"),max=this.get("lastItem"),layout=this.get("layout"),textStyle=this.get("textStyle"),triggerAttr=this.get("triggerAttr"),minBlockAttr=Util.mix({},triggerAttr),maxBlockAttr=Util.mix({},triggerAttr),minTextAttr=Util.mix({text:this._formatItemValue(min.value)+""},textStyle),maxTextAttr=Util.mix({text:this._formatItemValue(max.value)+""},textStyle);"vertical"===layout?(this._addVerticalTrigger("min",minBlockAttr,minTextAttr),this._addVerticalTrigger("max",maxBlockAttr,maxTextAttr)):(this._addHorizontalTrigger("min",minBlockAttr,minTextAttr),this._addHorizontalTrigger("max",maxBlockAttr,maxTextAttr))},_proto._addVerticalTrigger=function(type,blockAttr,textAttr){var slider=this.get("slider"),trigger=slider.get(type+"HandleElement"),width=this.get("width"),button=trigger.addShape("rect",{attrs:Util.mix({x:width/2-8-2,y:"min"===type?0:-8,width:18,height:8},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:width+this.get("textOffset"),y:"max"===type?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),layout=this.get("layout"),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._addHorizontalTrigger=function(type,blockAttr,textAttr){var slider=this.get("slider"),trigger=slider.get(type+"HandleElement"),button=trigger.addShape("rect",{attrs:Util.mix({x:"min"===type?-8:0,y:-8-this.get("height")/2,width:8,height:16},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:"min"===type?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===type?"end":"start",textBaseline:"middle"})}),layout=this.get("layout"),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._bindEvents=function(){var _this=this;if(this.get("slidable")){this.get("slider").on("sliderchange",function(ev){var range=ev.range,firstItemValue=_this.get("firstItem").value,lastItemValue=_this.get("lastItem").value,minValue=firstItemValue+range[0]/100*(lastItemValue-firstItemValue),maxValue=firstItemValue+range[1]/100*(lastItemValue-firstItemValue);_this._updateElement(minValue,maxValue);var itemFiltered=new Event("itemfilter",ev,!0,!0);itemFiltered.range=[minValue,maxValue],_this.emit("itemfilter",itemFiltered)})}this.get("hoverable")&&(this.get("group").on("mousemove",Util.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",Util.wrapBehavior(this,"_onMouseLeave")))},_proto._updateElement=function(min,max){var minTextElement=this.get("minTextElement"),maxTextElement=this.get("maxTextElement");max>1&&(min=parseInt(min,10),max=parseInt(max,10)),minTextElement.attr("text",this._formatItemValue(min)+""),maxTextElement.attr("text",this._formatItemValue(max)+"")},_proto._onMouseLeave=function(){var hoverPointer=this.get("group").findById("hoverPointer");hoverPointer&&hoverPointer.destroy();var hoverText=this.get("group").findById("hoverText");hoverText&&hoverText.destroy(),this.get("canvas").draw()},_proto._onMouseMove=function(ev){var value,height=this.get("height"),width=this.get("width"),items=this.get("items"),el=this.get("canvas").get("el"),el_bbox=el.getBoundingClientRect(),bbox=this.get("group").getBBox();if("vertical"===this.get("layout")){var valuePadding=5;"color-legend"===this.get("type")&&(valuePadding=30);var titleOffset=this.get("titleGap"),titleShape=this.get("titleShape");titleShape&&(titleOffset+=titleShape.getBBox().maxY-titleShape.getBBox().minY);var currentPage=ev.clientY||ev.event.clientY;currentPage=currentPage-el_bbox.y-this.get("group").attr("matrix")[7]+bbox.y-valuePadding+titleOffset,value=items[0].value+(1-currentPage/height)*(items[items.length-1].value-items[0].value)}else{var _currentPage=ev.clientX||ev.event.clientX;_currentPage=_currentPage-el_bbox.x-this.get("group").attr("matrix")[6],value=items[0].value+_currentPage/width*(items[items.length-1].value-items[0].value)}value=value.toFixed(2),this.activate(value),this.emit("mousehover",{value:value})},_proto.activate=function(value){if(value){var hoverPointer=this.get("group").findById("hoverPointer"),hoverText=this.get("group").findById("hoverText"),items=this.get("items");if(!(value<items[0].value||value>items[items.length-1].value)){var textStyle,height=this.get("height"),width=this.get("width"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap"),points=[],page=(value-items[0].value)/(items[items.length-1].value-items[0].value);if("vertical"===this.get("layout")){var paddingY=0,paddingX=0;"color-legend"===this.get("type")&&(paddingY=titleGap,titleShape&&(paddingY+=titleShape.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?paddingY-=13:(paddingY=titleGap-15,titleShape&&(paddingY+=titleShape.getBBox().height)),paddingX+=10),page=(1-page)*height,points=[[paddingX,page+paddingY],[paddingX-10,page+paddingY-5],[paddingX-10,page+paddingY+5]],textStyle=Util.mix({},{x:width+this.get("textOffset")/2+paddingX,y:page+paddingY,text:this._formatItemValue(value)+""},this.get("textStyle"),{textAlign:"start"})}else{var _paddingY=0,_paddingX=0;"color-legend"===this.get("type")&&(_paddingY=titleGap,titleShape&&(_paddingY+=titleShape.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?_paddingY-=7:(_paddingY=titleGap,titleShape||(_paddingY-=7)),_paddingX+=10),page*=width,points=[[page+_paddingX,_paddingY],[page+_paddingX-5,_paddingY-10],[page+_paddingX+5,_paddingY-10]],textStyle=Util.mix({},{x:page-5,y:height+this.get("textOffset")+_paddingY,text:this._formatItemValue(value)+""},this.get("textStyle"))}var hoverTextStyle=Util.mix(textStyle,this.get("hoverTextStyle"));hoverText?hoverText.attr(hoverTextStyle):(hoverText=this.get("group").addShape("text",{attrs:hoverTextStyle}),hoverText.set("id","hoverText")),hoverPointer?hoverPointer.attr(Util.mix({points:points},this.get("pointerStyle"))):(hoverPointer=this.get("group").addShape("Polygon",{attrs:Util.mix({points:points},this.get("pointerStyle"))}),hoverPointer.set("id","hoverPointer")),this.get("canvas").draw()}}},_proto.deactivate=function(){var hoverPointer=this.get("group").findById("hoverPointer");hoverPointer&&hoverPointer.destroy();var hoverText=this.get("group").findById("hoverText");hoverText&&hoverText.destroy(),this.get("canvas").draw()},Continuous}(Legend);module.exports=Continuous},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Component=__webpack_require__(66),Util=__webpack_require__(3),Tooltip=function(_Component){function Tooltip(){return _Component.apply(this,arguments)||this}_inheritsLoose(Tooltip,_Component);var _proto=Tooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},_proto.isContentChange=function(title,items){var titleContent=this.get("titleContent"),lastItems=this.get("items"),isChanged=!(title===titleContent&&lastItems.length===items.length);return isChanged||Util.each(items,function(item,index){var preItem=lastItems[index];for(var key in item)if(item.hasOwnProperty(key)&&!Util.isObject(item[key])&&item[key]!==preItem[key]){isChanged=!0;break}if(isChanged)return!1}),isChanged},_proto.setContent=function(title,items){var timeStamp=(new Date).valueOf();return this.set("items",items),this.set("titleContent",title),this.set("timeStamp",timeStamp),this.render(),this},_proto.setPosition=function(x,y){this.set("x",x),this.set("y",y)},_proto.render=function(){},_proto.clear=function(){},_proto.show=function(){this.set("visible",!0)},_proto.hide=function(){this.set("visible",!1)},_proto.destroy=function(){},Tooltip}(Component);module.exports=Tooltip},function(module,__webpack_exports__,__webpack_require__){"use strict";function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}__webpack_require__.d(__webpack_exports__,"c",function(){return root}),__webpack_exports__.a=Selection;var __WEBPACK_IMPORTED_MODULE_0__select__=__webpack_require__(402),__WEBPACK_IMPORTED_MODULE_1__selectAll__=__webpack_require__(403),__WEBPACK_IMPORTED_MODULE_2__filter__=__webpack_require__(404),__WEBPACK_IMPORTED_MODULE_3__data__=__webpack_require__(405),__WEBPACK_IMPORTED_MODULE_4__enter__=__webpack_require__(382),__WEBPACK_IMPORTED_MODULE_5__exit__=__webpack_require__(407),__WEBPACK_IMPORTED_MODULE_6__merge__=__webpack_require__(408),__WEBPACK_IMPORTED_MODULE_7__order__=__webpack_require__(409),__WEBPACK_IMPORTED_MODULE_8__sort__=__webpack_require__(410),__WEBPACK_IMPORTED_MODULE_9__call__=__webpack_require__(411),__WEBPACK_IMPORTED_MODULE_10__nodes__=__webpack_require__(412),__WEBPACK_IMPORTED_MODULE_11__node__=__webpack_require__(413),__WEBPACK_IMPORTED_MODULE_12__size__=__webpack_require__(414),__WEBPACK_IMPORTED_MODULE_13__empty__=__webpack_require__(415),__WEBPACK_IMPORTED_MODULE_14__each__=__webpack_require__(416),__WEBPACK_IMPORTED_MODULE_15__attr__=__webpack_require__(417),__WEBPACK_IMPORTED_MODULE_16__style__=__webpack_require__(384),__WEBPACK_IMPORTED_MODULE_17__property__=__webpack_require__(418),__WEBPACK_IMPORTED_MODULE_18__classed__=__webpack_require__(419),__WEBPACK_IMPORTED_MODULE_19__text__=__webpack_require__(420),__WEBPACK_IMPORTED_MODULE_20__html__=__webpack_require__(421),__WEBPACK_IMPORTED_MODULE_21__raise__=__webpack_require__(422),__WEBPACK_IMPORTED_MODULE_22__lower__=__webpack_require__(423),__WEBPACK_IMPORTED_MODULE_23__append__=__webpack_require__(424),__WEBPACK_IMPORTED_MODULE_24__insert__=__webpack_require__(425),__WEBPACK_IMPORTED_MODULE_25__remove__=__webpack_require__(426),__WEBPACK_IMPORTED_MODULE_26__clone__=__webpack_require__(427),__WEBPACK_IMPORTED_MODULE_27__datum__=__webpack_require__(428),__WEBPACK_IMPORTED_MODULE_28__on__=__webpack_require__(374),__WEBPACK_IMPORTED_MODULE_29__dispatch__=__webpack_require__(429),root=[null];Selection.prototype=selection.prototype={constructor:Selection,select:__WEBPACK_IMPORTED_MODULE_0__select__.a,selectAll:__WEBPACK_IMPORTED_MODULE_1__selectAll__.a,filter:__WEBPACK_IMPORTED_MODULE_2__filter__.a,data:__WEBPACK_IMPORTED_MODULE_3__data__.a,enter:__WEBPACK_IMPORTED_MODULE_4__enter__.b,exit:__WEBPACK_IMPORTED_MODULE_5__exit__.a,merge:__WEBPACK_IMPORTED_MODULE_6__merge__.a,order:__WEBPACK_IMPORTED_MODULE_7__order__.a,sort:__WEBPACK_IMPORTED_MODULE_8__sort__.a,call:__WEBPACK_IMPORTED_MODULE_9__call__.a,nodes:__WEBPACK_IMPORTED_MODULE_10__nodes__.a,node:__WEBPACK_IMPORTED_MODULE_11__node__.a,size:__WEBPACK_IMPORTED_MODULE_12__size__.a,empty:__WEBPACK_IMPORTED_MODULE_13__empty__.a,each:__WEBPACK_IMPORTED_MODULE_14__each__.a,attr:__WEBPACK_IMPORTED_MODULE_15__attr__.a,style:__WEBPACK_IMPORTED_MODULE_16__style__.a,property:__WEBPACK_IMPORTED_MODULE_17__property__.a,classed:__WEBPACK_IMPORTED_MODULE_18__classed__.a,text:__WEBPACK_IMPORTED_MODULE_19__text__.a,html:__WEBPACK_IMPORTED_MODULE_20__html__.a,raise:__WEBPACK_IMPORTED_MODULE_21__raise__.a,lower:__WEBPACK_IMPORTED_MODULE_22__lower__.a,append:__WEBPACK_IMPORTED_MODULE_23__append__.a,insert:__WEBPACK_IMPORTED_MODULE_24__insert__.a,remove:__WEBPACK_IMPORTED_MODULE_25__remove__.a,clone:__WEBPACK_IMPORTED_MODULE_26__clone__.a,datum:__WEBPACK_IMPORTED_MODULE_27__datum__.a,on:__WEBPACK_IMPORTED_MODULE_28__on__.b,dispatch:__WEBPACK_IMPORTED_MODULE_29__dispatch__.a},__webpack_exports__.b=selection},function(module,__webpack_exports__,__webpack_require__){"use strict";function init(node,id){var schedule=get(node,id);if(schedule.state>CREATED)throw new Error("too late; already scheduled");return schedule}function set(node,id){var schedule=get(node,id);if(schedule.state>STARTING)throw new Error("too late; already started");return schedule}function get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function create(node,id,self){function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if(o=schedules[i],o.name===self.name){if(o.state===STARTED)return Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timeout)(start);o.state===RUNNING?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),delete schedules[i])}if(Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timeout)(function(){self.state===STARTED&&(self.state=RUNNING,self.timer.restart(tick,self.delay,self.time),tick(elapsed))}),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=STARTED,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(null,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){self.state=ENDED,self.timer.stop(),delete schedules[id];for(var i in schedules)return;delete node.__transition}var tween,schedules=node.__transition;schedules[id]=self,self.timer=Object(__WEBPACK_IMPORTED_MODULE_1_d3_timer__.timer)(schedule,0,self.time)}__webpack_require__.d(__webpack_exports__,"c",function(){return SCHEDULED}),__webpack_require__.d(__webpack_exports__,"d",function(){return STARTING}),__webpack_require__.d(__webpack_exports__,"b",function(){return ENDING}),__webpack_require__.d(__webpack_exports__,"a",function(){return ENDED}),__webpack_exports__.g=init,__webpack_exports__.h=set,__webpack_exports__.f=get;var __WEBPACK_IMPORTED_MODULE_0_d3_dispatch__=__webpack_require__(438),__WEBPACK_IMPORTED_MODULE_1_d3_timer__=__webpack_require__(170),emptyOn=Object(__WEBPACK_IMPORTED_MODULE_0_d3_dispatch__.a)("start","end","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;__webpack_exports__.e=function(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};create(node,id,{name:name,index:index,group:group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:CREATED})}},function(module,exports,__webpack_require__){var isString=__webpack_require__(10),isDate=__webpack_require__(80);module.exports={toTimeStamp:function(value){return isString(value)&&(value=value.indexOf("T")>0?new Date(value).getTime():new Date(value.replace(/-/gi,"/")).getTime()),isDate(value)&&(value=value.getTime()),value}}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_create__=__webpack_require__(401);__webpack_require__.d(__webpack_exports__,"create",function(){return __WEBPACK_IMPORTED_MODULE_0__src_create__.a});var __WEBPACK_IMPORTED_MODULE_1__src_creator__=__webpack_require__(360);__webpack_require__.d(__webpack_exports__,"creator",function(){return __WEBPACK_IMPORTED_MODULE_1__src_creator__.a});var __WEBPACK_IMPORTED_MODULE_2__src_local__=__webpack_require__(430);__webpack_require__.d(__webpack_exports__,"local",function(){return __WEBPACK_IMPORTED_MODULE_2__src_local__.a});var __WEBPACK_IMPORTED_MODULE_3__src_matcher__=__webpack_require__(381);__webpack_require__.d(__webpack_exports__,"matcher",function(){return __WEBPACK_IMPORTED_MODULE_3__src_matcher__.a});var __WEBPACK_IMPORTED_MODULE_4__src_mouse__=__webpack_require__(431);__webpack_require__.d(__webpack_exports__,"mouse",function(){return __WEBPACK_IMPORTED_MODULE_4__src_mouse__.a});var __WEBPACK_IMPORTED_MODULE_5__src_namespace__=__webpack_require__(370);__webpack_require__.d(__webpack_exports__,"namespace",function(){return __WEBPACK_IMPORTED_MODULE_5__src_namespace__.a});var __WEBPACK_IMPORTED_MODULE_6__src_namespaces__=__webpack_require__(371);__webpack_require__.d(__webpack_exports__,"namespaces",function(){return __WEBPACK_IMPORTED_MODULE_6__src_namespaces__.a});var __WEBPACK_IMPORTED_MODULE_7__src_point__=__webpack_require__(361);__webpack_require__.d(__webpack_exports__,"clientPoint",function(){return __WEBPACK_IMPORTED_MODULE_7__src_point__.a});var __WEBPACK_IMPORTED_MODULE_8__src_select__=__webpack_require__(379);__webpack_require__.d(__webpack_exports__,"select",function(){return __WEBPACK_IMPORTED_MODULE_8__src_select__.a});var __WEBPACK_IMPORTED_MODULE_9__src_selectAll__=__webpack_require__(432);__webpack_require__.d(__webpack_exports__,"selectAll",function(){return __WEBPACK_IMPORTED_MODULE_9__src_selectAll__.a});var __WEBPACK_IMPORTED_MODULE_10__src_selection_index__=__webpack_require__(69);__webpack_require__.d(__webpack_exports__,"selection",function(){return __WEBPACK_IMPORTED_MODULE_10__src_selection_index__.b});var __WEBPACK_IMPORTED_MODULE_11__src_selector__=__webpack_require__(372);__webpack_require__.d(__webpack_exports__,"selector",function(){return __WEBPACK_IMPORTED_MODULE_11__src_selector__.a});var __WEBPACK_IMPORTED_MODULE_12__src_selectorAll__=__webpack_require__(380);__webpack_require__.d(__webpack_exports__,"selectorAll",function(){return __WEBPACK_IMPORTED_MODULE_12__src_selectorAll__.a});var __WEBPACK_IMPORTED_MODULE_13__src_selection_style__=__webpack_require__(384);__webpack_require__.d(__webpack_exports__,"style",function(){return __WEBPACK_IMPORTED_MODULE_13__src_selection_style__.b});var __WEBPACK_IMPORTED_MODULE_14__src_touch__=__webpack_require__(433);__webpack_require__.d(__webpack_exports__,"touch",function(){return __WEBPACK_IMPORTED_MODULE_14__src_touch__.a});var __WEBPACK_IMPORTED_MODULE_15__src_touches__=__webpack_require__(434);__webpack_require__.d(__webpack_exports__,"touches",function(){return __WEBPACK_IMPORTED_MODULE_15__src_touches__.a});var __WEBPACK_IMPORTED_MODULE_16__src_window__=__webpack_require__(373);__webpack_require__.d(__webpack_exports__,"window",function(){return __WEBPACK_IMPORTED_MODULE_16__src_window__.a});var __WEBPACK_IMPORTED_MODULE_17__src_selection_on__=__webpack_require__(374);__webpack_require__.d(__webpack_exports__,"event",function(){return __WEBPACK_IMPORTED_MODULE_17__src_selection_on__.c}),__webpack_require__.d(__webpack_exports__,"customEvent",function(){return __WEBPACK_IMPORTED_MODULE_17__src_selection_on__.a})},function(module,exports,__webpack_require__){module.exports={Position:__webpack_require__(292),Color:__webpack_require__(293),Shape:__webpack_require__(294),Size:__webpack_require__(295),Opacity:__webpack_require__(296),ColorUtil:__webpack_require__(149)}},function(module,exports,__webpack_require__){var lowerFirst=__webpack_require__(75),Base=__webpack_require__(17);Base.Linear=__webpack_require__(33),Base.Identity=__webpack_require__(175),Base.Cat=__webpack_require__(77),Base.Time=__webpack_require__(176),Base.TimeCat=__webpack_require__(178),Base.Log=__webpack_require__(179),Base.Pow=__webpack_require__(180);for(var k in Base)!function(k){if(Base.hasOwnProperty(k)){var methodName=lowerFirst(k);Base[methodName]=function(cfg){return new Base[k](cfg)}}}(k);var CAT_ARR=["cat","timeCat"];Base.isCategory=function(type){return CAT_ARR.indexOf(type)>=0},module.exports=Base},function(module,exports,__webpack_require__){var toString=__webpack_require__(23),lowerFirst=function(value){var str=toString(value);return str.charAt(0).toLowerCase()+str.substring(1)};module.exports=lowerFirst},function(module,exports){function getFactor(v){var factor=1;if(v===1/0||v===-1/0)throw new Error("Not support Infinity!");if(v<1){for(var count=0;v<1;)factor/=10,v*=10,count++;factor.toString().length>DECIMAL_LENGTH&&(factor=parseFloat(factor.toFixed(count)))}else for(;v>10;)factor*=10,v/=10;return factor}function arrayFloor(values,value){var length=values.length;if(0===length)return NaN;var pre=values[0];if(value<values[0])return NaN;if(value>=values[length-1])return values[length-1];for(var i=1;i<values.length&&!(value<values[i]);i++)pre=values[i];return pre}function arrayCeiling(values,value){var length=values.length;if(0===length)return NaN;var rst;if(value>values[length-1])return NaN;if(value<values[0])return values[0];for(var i=1;i<values.length;i++)if(value<=values[i]){rst=values[i];break}return rst}var DECIMAL_LENGTH=12,Util={snapFactorTo:function(v,arr,snapType){if(isNaN(v))return NaN;var factor=1;if(0!==v){v<0&&(factor=-1),v*=factor;var tmpFactor=getFactor(v);factor*=tmpFactor,v/=tmpFactor}v="floor"===snapType?Util.snapFloor(arr,v):"ceil"===snapType?Util.snapCeiling(arr,v):Util.snapTo(arr,v);var rst=parseFloat((v*factor).toPrecision(DECIMAL_LENGTH));if(Math.abs(factor)<1&&rst.toString().length>DECIMAL_LENGTH){rst=v/parseInt(1/factor)*(factor>0?1:-1)}return rst},snapMultiple:function(v,base,snapType){return("ceil"===snapType?Math.ceil(v/base):"floor"===snapType?Math.floor(v/base):Math.round(v/base))*base},snapTo:function(values,value){var floorVal=arrayFloor(values,value),ceilingVal=arrayCeiling(values,value);if(isNaN(floorVal)||isNaN(ceilingVal)){if(values[0]>=value)return values[0];var last=values[values.length-1];if(last<=value)return last}return Math.abs(value-floorVal)<Math.abs(ceilingVal-value)?floorVal:ceilingVal},snapFloor:function(values,value){return arrayFloor(values,value)},snapCeiling:function(values,value){return arrayCeiling(values,value)},fixedBase:function(v,base){var str=base.toString(),index=str.indexOf(".");if(-1===index)return Math.round(v);var length=str.substr(index+1).length;return length>20&&(length=20),parseFloat(v.toFixed(length))}};module.exports=Util},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(17),catAuto=__webpack_require__(78),each=__webpack_require__(2),isNumber=__webpack_require__(9),isString=__webpack_require__(10),Category=function(_Base){function Category(){return _Base.apply(this,arguments)||this}_inheritsLoose(Category,_Base);var _proto=Category.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},_proto.init=function(){var self=this,values=self.values,tickCount=self.tickCount;if(each(values,function(v,i){values[i]=v.toString()}),!self.ticks){var ticks=values;if(tickCount){ticks=catAuto({maxCount:tickCount,data:values,isRounding:self.isRounding}).ticks}this.ticks=ticks}},_proto.getText=function(value){return-1===this.values.indexOf(value)&&isNumber(value)&&(value=this.values[Math.round(value)]),_Base.prototype.getText.call(this,value)},_proto.translate=function(value){var index=this.values.indexOf(value);return-1===index&&isNumber(value)?index=value:-1===index&&(index=NaN),index},_proto.scale=function(value){var percent,rangeMin=this.rangeMin(),rangeMax=this.rangeMax();return(isString(value)||-1!==this.values.indexOf(value))&&(value=this.translate(value)),percent=this.values.length>1?value/(this.values.length-1):value,rangeMin+percent*(rangeMax-rangeMin)},_proto.invert=function(value){if(isString(value))return value;var min=this.rangeMin(),max=this.rangeMax();value<min&&(value=min),value>max&&(value=max);var percent=(value-min)/(max-min),index=Math.round(percent*(this.values.length-1))%this.values.length;return index=index||0,this.values[index]},Category}(Base);Base.Cat=Category,module.exports=Category},function(module,exports,__webpack_require__){function getSimpleArray(data){var arr=[];return each(data,function(sub){arr=arr.concat(sub)}),arr}function getGreatestFactor(count,number){var i;for(i=number;i>0&&count%i!=0;i--);if(1===i)for(i=number;i>0&&(count-1)%i!=0;i--);return i}var each=__webpack_require__(2);module.exports=function(info){var tickCount,rst={},ticks=[],isRounding=info.isRounding,categories=getSimpleArray(info.data),length=categories.length,maxCount=info.maxCount||8;if(isRounding?(tickCount=getGreatestFactor(length-1,maxCount-1)+1,2===tickCount?tickCount=maxCount:tickCount<maxCount-4&&(tickCount=maxCount-4)):tickCount=maxCount,!isRounding&&length<=tickCount+tickCount/2)ticks=[].concat(categories);else{for(var step=parseInt(length/(tickCount-1),10),groups=categories.map(function(e,i){return i%step==0?categories.slice(i,i+step):null}).filter(function(e){return e}),i=1,groupLen=groups.length;i<groupLen&&(isRounding?i*step<length-step:i<tickCount-1);i++)ticks.push(groups[i][0]);if(categories.length){ticks.unshift(categories[0]);var last=categories[length-1];-1===ticks.indexOf(last)&&ticks.push(last)}}return rst.categories=categories,rst.ticks=ticks,rst}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(main){"use strict";function shorten(arr,sLen){for(var newArr=[],i=0,len=arr.length;i<len;i++)newArr.push(arr[i].substr(0,sLen));return newArr}function monthUpdate(arrName){return function(d,v,i18n){var index=i18n[arrName].indexOf(v.charAt(0).toUpperCase()+v.substr(1).toLowerCase());~index&&(d.month=index)}}function pad(val,len){for(val=String(val),len=len||2;val.length<len;)val="0"+val;return val}var fecha={},token=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,twoDigits=/\d\d?/,threeDigits=/\d{3}/,fourDigits=/\d{4}/,word=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,literal=/\[([^]*?)\]/gm,noop=function(){},dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort=shorten(monthNames,3),dayNamesShort=shorten(dayNames,3);fecha.i18n={dayNamesShort:dayNamesShort,dayNames:dayNames,monthNamesShort:monthNamesShort,monthNames:monthNames,amPm:["am","pm"],DoFn:function(D){return D+["th","st","nd","rd"][D%10>3?0:(D-D%10!=10)*D%10]}};var formatFlags={D:function(dateObj){return dateObj.getDate()},DD:function(dateObj){return pad(dateObj.getDate())},Do:function(dateObj,i18n){return i18n.DoFn(dateObj.getDate())},d:function(dateObj){return dateObj.getDay()},dd:function(dateObj){return pad(dateObj.getDay())},ddd:function(dateObj,i18n){return i18n.dayNamesShort[dateObj.getDay()]},dddd:function(dateObj,i18n){return i18n.dayNames[dateObj.getDay()]},M:function(dateObj){return dateObj.getMonth()+1},MM:function(dateObj){return pad(dateObj.getMonth()+1)},MMM:function(dateObj,i18n){return i18n.monthNamesShort[dateObj.getMonth()]},MMMM:function(dateObj,i18n){return i18n.monthNames[dateObj.getMonth()]},YY:function(dateObj){return String(dateObj.getFullYear()).substr(2)},YYYY:function(dateObj){return pad(dateObj.getFullYear(),4)},h:function(dateObj){return dateObj.getHours()%12||12},hh:function(dateObj){return pad(dateObj.getHours()%12||12)},H:function(dateObj){return dateObj.getHours()},HH:function(dateObj){return pad(dateObj.getHours())},m:function(dateObj){return dateObj.getMinutes()},mm:function(dateObj){return pad(dateObj.getMinutes())},s:function(dateObj){return dateObj.getSeconds()},ss:function(dateObj){return pad(dateObj.getSeconds())},S:function(dateObj){return Math.round(dateObj.getMilliseconds()/100)},SS:function(dateObj){return pad(Math.round(dateObj.getMilliseconds()/10),2)},SSS:function(dateObj){return pad(dateObj.getMilliseconds(),3)},a:function(dateObj,i18n){return dateObj.getHours()<12?i18n.amPm[0]:i18n.amPm[1]},A:function(dateObj,i18n){return dateObj.getHours()<12?i18n.amPm[0].toUpperCase():i18n.amPm[1].toUpperCase()},ZZ:function(dateObj){var o=dateObj.getTimezoneOffset();return(o>0?"-":"+")+pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4)}},parseFlags={D:[twoDigits,function(d,v){d.day=v}],Do:[new RegExp(twoDigits.source+word.source),function(d,v){d.day=parseInt(v,10)}],M:[twoDigits,function(d,v){d.month=v-1}],YY:[twoDigits,function(d,v){var da=new Date,cent=+(""+da.getFullYear()).substr(0,2);d.year=""+(v>68?cent-1:cent)+v}],h:[twoDigits,function(d,v){d.hour=v}],m:[twoDigits,function(d,v){d.minute=v}],s:[twoDigits,function(d,v){d.second=v}],YYYY:[fourDigits,function(d,v){d.year=v}],S:[/\d/,function(d,v){d.millisecond=100*v}],SS:[/\d{2}/,function(d,v){d.millisecond=10*v}],SSS:[threeDigits,function(d,v){d.millisecond=v}],d:[twoDigits,noop],ddd:[word,noop],MMM:[word,monthUpdate("monthNamesShort")],MMMM:[word,monthUpdate("monthNames")],a:[word,function(d,v,i18n){var val=v.toLowerCase();val===i18n.amPm[0]?d.isPm=!1:val===i18n.amPm[1]&&(d.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(d,v){"Z"===v&&(v="+00:00");var minutes,parts=(v+"").match(/([\+\-]|\d\d)/gi);parts&&(minutes=60*parts[1]+parseInt(parts[2],10),d.timezoneOffset="+"===parts[0]?minutes:-minutes)}]};parseFlags.dd=parseFlags.d,parseFlags.dddd=parseFlags.ddd,parseFlags.DD=parseFlags.D,parseFlags.mm=parseFlags.m,parseFlags.hh=parseFlags.H=parseFlags.HH=parseFlags.h,parseFlags.MM=parseFlags.M,parseFlags.ss=parseFlags.s,parseFlags.A=parseFlags.a,fecha.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},fecha.format=function(dateObj,mask,i18nSettings){var i18n=i18nSettings||fecha.i18n;if("number"==typeof dateObj&&(dateObj=new Date(dateObj)),"[object Date]"!==Object.prototype.toString.call(dateObj)||isNaN(dateObj.getTime()))throw new Error("Invalid Date in fecha.format");mask=fecha.masks[mask]||mask||fecha.masks.default;var literals=[];return mask=mask.replace(literal,function($0,$1){return literals.push($1),"??"}),mask=mask.replace(token,function($0){return $0 in formatFlags?formatFlags[$0](dateObj,i18n):$0.slice(1,$0.length-1)}),mask.replace(/\?\?/g,function(){return literals.shift()})},fecha.parse=function(dateStr,format,i18nSettings){var i18n=i18nSettings||fecha.i18n;if("string"!=typeof format)throw new Error("Invalid format in fecha.parse");if(format=fecha.masks[format]||format,dateStr.length>1e3)return!1;var isValid=!0,dateInfo={};if(format.replace(token,function($0){if(parseFlags[$0]){var info=parseFlags[$0],index=dateStr.search(info[0]);~index?dateStr.replace(info[0],function(result){return info[1](dateInfo,result,i18n),dateStr=dateStr.substr(index+result.length),result}):isValid=!1}return parseFlags[$0]?"":$0.slice(1,$0.length-1)}),!isValid)return!1;var today=new Date;!0===dateInfo.isPm&&null!=dateInfo.hour&&12!=+dateInfo.hour?dateInfo.hour=+dateInfo.hour+12:!1===dateInfo.isPm&&12==+dateInfo.hour&&(dateInfo.hour=0);var date;return null!=dateInfo.timezoneOffset?(dateInfo.minute=+(dateInfo.minute||0)-+dateInfo.timezoneOffset,date=new Date(Date.UTC(dateInfo.year||today.getFullYear(),dateInfo.month||0,dateInfo.day||1,dateInfo.hour||0,dateInfo.minute||0,dateInfo.second||0,dateInfo.millisecond||0))):date=new Date(dateInfo.year||today.getFullYear(),dateInfo.month||0,dateInfo.day||1,dateInfo.hour||0,dateInfo.minute||0,dateInfo.second||0,dateInfo.millisecond||0),date},void 0!==module&&module.exports?module.exports=fecha:void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return fecha}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isDate=function(value){return isType(value,"Date")};module.exports=isDate},function(module,exports,__webpack_require__){module.exports={isFunction:__webpack_require__(11),isObject:__webpack_require__(24),isBoolean:__webpack_require__(82),isNil:__webpack_require__(5),isString:__webpack_require__(10),isArray:__webpack_require__(4),isNumber:__webpack_require__(9),isEmpty:__webpack_require__(83),uniqueId:__webpack_require__(86),clone:__webpack_require__(46),deepMix:__webpack_require__(47),assign:__webpack_require__(8),merge:__webpack_require__(47),upperFirst:__webpack_require__(87),each:__webpack_require__(2),isEqual:__webpack_require__(49),toArray:__webpack_require__(34),extend:__webpack_require__(88),augment:__webpack_require__(89),remove:__webpack_require__(90),isNumberEqual:__webpack_require__(35),toRadian:__webpack_require__(91),toDegree:__webpack_require__(92),mod:__webpack_require__(93),clamp:__webpack_require__(50),createDom:__webpack_require__(94),modifyCSS:__webpack_require__(95),requestAnimationFrame:__webpack_require__(96),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:__webpack_require__(51),vec2:__webpack_require__(97),vec3:__webpack_require__(98),transform:__webpack_require__(99)}},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isBoolean=function(value){return isType(value,"Boolean")};module.exports=isBoolean},function(module,exports,__webpack_require__){function isEmpty(value){if(isNil(value))return!0;if(isArrayLike(value))return!value.length;var type=getType(value);if("Map"===type||"Set"===type)return!value.size;if(isPrototype(value))return!Object.keys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}var isNil=__webpack_require__(5),isArrayLike=__webpack_require__(13),getType=__webpack_require__(84),isPrototype=__webpack_require__(85),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=isEmpty},function(module,exports){var toString={}.toString,getType=function(value){return toString.call(value).replace(/^\[object /,"").replace(/\]$/,"")};module.exports=getType},function(module,exports){var objectProto=Object.prototype,isPrototype=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)};module.exports=isPrototype},function(module,exports){var uniqueId=function(){var map={};return function(prefix){return prefix=prefix||"g",map[prefix]?map[prefix]+=1:map[prefix]=1,prefix+map[prefix]}}();module.exports=uniqueId},function(module,exports,__webpack_require__){var toString=__webpack_require__(23),upperFirst=function(value){var str=toString(value);return str.charAt(0).toUpperCase()+str.substring(1)};module.exports=upperFirst},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),mix=__webpack_require__(8),extend=function(subclass,superclass,overrides,staticOverrides){isFunction(superclass)||(overrides=superclass,superclass=subclass,subclass=function(){});var create=Object.create?function(proto,c){return Object.create(proto,{constructor:{value:c}})}:function(proto,c){function Tmp(){}Tmp.prototype=proto;var o=new Tmp;return o.constructor=c,o},superObj=create(superclass.prototype,subclass);return subclass.prototype=mix(superObj,subclass.prototype),subclass.superclass=create(superclass.prototype,superclass),mix(superObj,overrides),mix(subclass,staticOverrides),subclass};module.exports=extend},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),toArray=__webpack_require__(34),mix=__webpack_require__(8),augment=function(c){for(var args=toArray(arguments),i=1;i<args.length;i++){var obj=args[i];isFunction(obj)&&(obj=obj.prototype),mix(c.prototype,obj)}};module.exports=augment},function(module,exports){var arrPrototype=Array.prototype,splice=arrPrototype.splice,indexOf=arrPrototype.indexOf,slice=arrPrototype.slice,pull=function(arr){for(var values=slice.call(arguments,1),i=0;i<values.length;i++)for(var value=values[i],fromIndex=-1;(fromIndex=indexOf.call(arr,value))>-1;)splice.call(arr,fromIndex,1);return arr};module.exports=pull},function(module,exports){var RADIAN=Math.PI/180,toRadian=function(degree){return RADIAN*degree};module.exports=toRadian},function(module,exports){var DEGREE=180/Math.PI,toDegree=function(radian){return DEGREE*radian};module.exports=toDegree},function(module,exports){var mod=function(n,m){return(n%m+m)%m};module.exports=mod},function(module,exports){var TABLE=document.createElement("table"),TABLE_TR=document.createElement("tr"),FRAGMENT_REG=/^\s*<(\w+|!)[^>]*>/,CONTAINERS={tr:document.createElement("tbody"),tbody:TABLE,thead:TABLE,tfoot:TABLE,td:TABLE_TR,th:TABLE_TR,"*":document.createElement("div")};module.exports=function(str){var name=FRAGMENT_REG.test(str)&&RegExp.$1;name in CONTAINERS||(name="*");var container=CONTAINERS[name];str=str.replace(/(^\s*)|(\s*$)/g,""),container.innerHTML=""+str;var dom=container.childNodes[0];return container.removeChild(dom),dom}},function(module,exports){module.exports=function(dom,css){if(dom)for(var key in css)css.hasOwnProperty(key)&&(dom.style[key]=css[key]);return dom}},function(module,exports){module.exports=function(fn){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return setTimeout(fn,16)})(fn)}},function(module,exports,__webpack_require__){var vec2=__webpack_require__(183),clamp=__webpack_require__(50);vec2.angle=function(v1,v2){var theta=vec2.dot(v1,v2)/(vec2.length(v1)*vec2.length(v2));return Math.acos(clamp(theta,-1,1))},vec2.direction=function(v1,v2){return v1[0]*v2[1]-v2[0]*v1[1]},vec2.angleTo=function(v1,v2,direct){var angle=vec2.angle(v1,v2),angleLargeThanPI=vec2.direction(v1,v2)>=0;return direct?angleLargeThanPI?2*Math.PI-angle:angle:angleLargeThanPI?angle:2*Math.PI-angle},vec2.vertical=function(out,v,flag){return flag?(out[0]=v[1],out[1]=-1*v[0]):(out[0]=-1*v[1],out[1]=v[0]),out},module.exports=vec2},function(module,exports,__webpack_require__){var vec3=__webpack_require__(184);module.exports=vec3},function(module,exports,__webpack_require__){var clone=__webpack_require__(46),each=__webpack_require__(2),mat3=__webpack_require__(51);module.exports=function(m,ts){return m=clone(m),each(ts,function(t){switch(t[0]){case"t":mat3.translate(m,m,[t[1],t[2]]);break;case"s":mat3.scale(m,m,[t[1],t[2]]);break;case"r":mat3.rotate(m,m,t[1]);break;case"m":mat3.multiply(m,m,t[1]);break;default:return!1}}),m}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Event=function(type,event,bubbles,cancelable){this.type=type,this.target=null,this.currentTarget=null,this.bubbles=bubbles,this.cancelable=cancelable,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=event};Util.augment(Event,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return Util.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),module.exports=Event},function(module,exports,__webpack_require__){function getComparer(compare){return function(left,right){var result=compare(left,right);return 0===result?left[INDEX]-right[INDEX]:result}}function find(children,x,y){for(var rst,i=children.length-1;i>=0;i--){var child=children[i];if(child._cfg.visible&&child._cfg.capture&&(child.isGroup?rst=child.getShape(x,y):child.isHit(x,y)&&(rst=child)),rst)break}return rst}function initClassCfgs(c){if(!c._cfg&&c!==Group){var superCon=c.superclass.constructor;superCon&&!superCon._cfg&&initClassCfgs(superCon),c._cfg={},Util.merge(c._cfg,superCon._cfg),Util.merge(c._cfg,c.CFG)}}var Util=__webpack_require__(1),Element=__webpack_require__(102),Shape=__webpack_require__(188),SHAPE_MAP={},INDEX="_INDEX",Group=function Group(cfg){Group.superclass.constructor.call(this,cfg),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};Util.extend(Group,Element),Util.augment(Group,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return initClassCfgs(this.constructor),Util.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(type,cfg){var canvas=this.get("canvas");cfg=cfg||{};var shapeType=SHAPE_MAP[type];if(shapeType||(shapeType=Util.upperFirst(type),SHAPE_MAP[type]=shapeType),cfg.attrs&&canvas){var attrs=cfg.attrs;if("text"===type){var topFontFamily=canvas.get("fontFamily");topFontFamily&&(attrs.fontFamily=attrs.fontFamily?attrs.fontFamily:topFontFamily)}}cfg.canvas=canvas,cfg.type=type;var rst=new Shape[shapeType](cfg);return this.add(rst),rst},addGroup:function(param,cfg){var rst,canvas=this.get("canvas");if(cfg=Util.merge({},cfg),Util.isFunction(param))cfg?(cfg.canvas=canvas,cfg.parent=this,rst=new param(cfg)):rst=new param({canvas:canvas,parent:this}),this.add(rst);else if(Util.isObject(param))param.canvas=canvas,rst=new Group(param),this.add(rst);else{if(void 0!==param)return!1;rst=new Group,this.add(rst)}return rst},renderBack:function(padding,attrs){var backShape=this.get("backShape"),innerBox=this.getBBox();return Util.merge(attrs,{x:innerBox.minX-padding[3],y:innerBox.minY-padding[0],width:innerBox.width+padding[1]+padding[3],height:innerBox.height+padding[0]+padding[2]}),backShape?backShape.attr(attrs):backShape=this.addShape("rect",{zIndex:-1,attrs:attrs}),this.set("backShape",backShape),this.sort(),backShape},removeChild:function(item,destroy){if(arguments.length>=2)this.contain(item)&&item.remove(destroy);else{if(1===arguments.length){if(!Util.isBoolean(item))return this.contain(item)&&item.remove(!0),this;destroy=item}0===arguments.length&&(destroy=!0),Group.superclass.remove.call(this,destroy)}return this},add:function(items){var self=this,children=self.get("children");if(Util.isArray(items))Util.each(items,function(item){var parent=item.get("parent");parent&&parent.removeChild(item,!1),self._setCfgProperty(item)}),self._cfg.children=children.concat(items);else{var item=items,parent=item.get("parent");parent&&parent.removeChild(item,!1),self._setCfgProperty(item),children.push(item)}return self},_setCfgProperty:function(item){var cfg=this._cfg;item.set("parent",this),item.set("canvas",cfg.canvas),cfg.timeline&&item.set("timeline",cfg.timeline)},contain:function(item){return this.get("children").indexOf(item)>-1},getChildByIndex:function(index){return this.get("children")[index]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var lastIndex=this.get("children").length-1;return this.getChildByIndex(lastIndex)},getBBox:function(){var self=this,minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0,children=self.get("children");children.length>0?Util.each(children,function(child){if(child.get("visible")){if(child.isGroup&&0===child.get("children").length)return;var _box=child.getBBox();if(!_box)return!0;var leftTop=[_box.minX,_box.minY,1],leftBottom=[_box.minX,_box.maxY,1],rightTop=[_box.maxX,_box.minY,1],rightBottom=[_box.maxX,_box.maxY,1];child.apply(leftTop),child.apply(leftBottom),child.apply(rightTop),child.apply(rightBottom);var boxMinX=Math.min(leftTop[0],leftBottom[0],rightTop[0],rightBottom[0]),boxMaxX=Math.max(leftTop[0],leftBottom[0],rightTop[0],rightBottom[0]),boxMinY=Math.min(leftTop[1],leftBottom[1],rightTop[1],rightBottom[1]),boxMaxY=Math.max(leftTop[1],leftBottom[1],rightTop[1],rightBottom[1]);boxMinX<minX&&(minX=boxMinX),boxMaxX>maxX&&(maxX=boxMaxX),boxMinY<minY&&(minY=boxMinY),boxMaxY>maxY&&(maxY=boxMaxY)}}):(minX=0,maxX=0,minY=0,maxY=0);var box={minX:minX,minY:minY,maxX:maxX,maxY:maxY};return box.x=box.minX,box.y=box.minY,box.width=box.maxX-box.minX,box.height=box.maxY-box.minY,box},getCount:function(){return this.get("children").length},sort:function(){var children=this.get("children");return Util.each(children,function(child,index){return child[INDEX]=index,child}),children.sort(getComparer(function(obj1,obj2){return obj1.get("zIndex")-obj2.get("zIndex")})),this},findById:function(id){return this.find(function(item){return item.get("id")===id})},find:function(fn){if(Util.isString(fn))return this.findById(fn);var children=this.get("children"),rst=null;return Util.each(children,function(item){if(fn(item)?rst=item:item.find&&(rst=item.find(fn)),rst)return!1}),rst},findAll:function(fn){var children=this.get("children"),rst=[],childRst=[];return Util.each(children,function(item){fn(item)&&rst.push(item),item.findAllBy&&(childRst=item.findAllBy(fn),rst=rst.concat(childRst))}),rst},findBy:function(fn){var children=this.get("children"),rst=null;return Util.each(children,function(item){if(fn(item)?rst=item:item.findBy&&(rst=item.findBy(fn)),rst)return!1}),rst},findAllBy:function(fn){var children=this.get("children"),rst=[],childRst=[];return Util.each(children,function(item){fn(item)&&rst.push(item),item.findAllBy&&(childRst=item.findAllBy(fn),rst=rst.concat(childRst))}),rst},getShape:function(x,y){var rst,self=this,clip=self._attrs.clip,children=self._cfg.children;if(clip){var v=[x,y,1];clip.invert(v,self.get("canvas")),clip.isPointInPath(v[0],v[1])&&(rst=find(children,x,y))}else rst=find(children,x,y);return rst},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var children=this._cfg.children,i=0;i<children.length;i++)children[i].clearTotalMatrix()}},clear:function(delayRemove){for(var children=this._cfg.children,i=children.length-1;i>=0;i--)children[i].remove(!0,delayRemove);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),Group.superclass.destroy.call(this))},clone:function(){var self=this,children=self._cfg.children,clone=new Group;return Util.each(children,function(child){clone.add(child.clone())}),clone}}),module.exports=Group},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Attribute=__webpack_require__(185),Transform=__webpack_require__(186),Animate=__webpack_require__(187),EventEmitter=__webpack_require__(53),Element=function(cfg){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},Util.assign(this._cfg,this.getDefaultCfg(),cfg),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};Element.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},Util.augment(Element,Attribute,Transform,EventEmitter,Animate,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(name,value){return"zIndex"===name&&this._beforeSetZIndex&&this._beforeSetZIndex(value),"loading"===name&&this._beforeSetLoading&&this._beforeSetLoading(value),this._cfg[name]=value,this},setSilent:function(name,value){this._cfg[name]=value},get:function(name){return this._cfg[name]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(destroy,delayRemove){var cfg=this._cfg,parent=cfg.parent,el=cfg.el;return parent&&Util.remove(parent.get("children"),this),el&&(delayRemove?parent&&parent._cfg.tobeRemoved.push(el):el.parentNode.removeChild(el)),(destroy||void 0===destroy)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var cfg=this._cfg,parent=cfg.parent;if(parent){var children=parent._cfg.children,el=cfg.el,index=children.indexOf(this);children.splice(index,1),children.push(this),el&&(el.parentNode.removeChild(el),cfg.el=null)}},toBack:function(){var cfg=this._cfg,parent=cfg.parent;if(parent){var children=parent._cfg.children,el=cfg.el,index=children.indexOf(this);if(children.splice(index,1),children.unshift(this),el){var parentNode=el.parentNode;parentNode.removeChild(el),parentNode.insertBefore(el,parentNode.firstChild)}}},_beforeSetZIndex:function(zIndex){var parent=this._cfg.parent;this._cfg.zIndex=zIndex,Util.isNil(parent)||parent.sort();var el=this._cfg.el;if(el){var children=parent._cfg.children,index=children.indexOf(this),parentNode=el.parentNode;parentNode.removeChild(el),index===children.length-1?parentNode.appendChild(el):parentNode.insertBefore(el,parentNode.childNodes[index])}return zIndex},_setAttrs:function(attrs){return this.attr(attrs),attrs},setZIndex:function(zIndex){return this._cfg.zIndex=zIndex,this._beforeSetZIndex(zIndex)},clone:function(){return Util.clone(this)},getBBox:function(){}}),module.exports=Element},function(module,exports,__webpack_require__){function quadraticAt(p0,p1,p2,t){var onet=1-t;return onet*(onet*p0+2*t*p1)+t*t*p2}function quadraticProjectPoint(x1,y1,x2,y2,x3,y3,x,y,out){var t,d1,v1,v2,_t,d2,i,interval=.005,d=1/0,v0=[x,y];for(_t=0;_t<1;_t+=.05)v1=[quadraticAt(x1,x2,x3,_t),quadraticAt(y1,y2,y3,_t)],(d1=vec2.squaredDistance(v0,v1))<d&&(t=_t,d=d1);for(d=1/0,i=0;i<32&&!(interval<1e-4);i++){var prev=t-interval,next=t+interval;v1=[quadraticAt(x1,x2,x3,prev),quadraticAt(y1,y2,y3,prev)],d1=vec2.squaredDistance(v0,v1),prev>=0&&d1<d?(t=prev,d=d1):(v2=[quadraticAt(x1,x2,x3,next),quadraticAt(y1,y2,y3,next)],d2=vec2.squaredDistance(v0,v2),next<=1&&d2<d?(t=next,d=d2):interval*=.5)}return out&&(out.x=quadraticAt(x1,x2,x3,t),out.y=quadraticAt(y1,y2,y3,t)),Math.sqrt(d)}function quadraticExtrema(p0,p1,p2){var a=p0+p2-2*p1;if(Util.isNumberEqual(a,0))return[.5];var rst=(p0-p1)/a;return rst<=1&&rst>=0?[rst]:[]}var Util=__webpack_require__(1),vec2=Util.vec2;module.exports={at:quadraticAt,projectPoint:function(x1,y1,x2,y2,x3,y3,x,y){var rst={};return quadraticProjectPoint(x1,y1,x2,y2,x3,y3,x,y,rst),rst},pointDistance:quadraticProjectPoint,extrema:quadraticExtrema}},function(module,exports){module.exports={xAt:function(psi,rx,ry,cx,t){return rx*Math.cos(psi)*Math.cos(t)-ry*Math.sin(psi)*Math.sin(t)+cx},yAt:function(psi,rx,ry,cy,t){return rx*Math.sin(psi)*Math.cos(t)+ry*Math.cos(psi)*Math.sin(t)+cy},xExtrema:function(psi,rx,ry){return Math.atan(-ry/rx*Math.tan(psi))},yExtrema:function(psi,rx,ry){return Math.atan(ry/(rx*Math.tan(psi)))}}},function(module,exports,__webpack_require__){function _getArcX(x,radius,angle){return x+radius*Math.cos(angle)}function _getArcY(y,radius,angle){return y+radius*Math.sin(angle)}var Util=__webpack_require__(1),Shape=__webpack_require__(6),ArcMath=__webpack_require__(37),Arrow=__webpack_require__(38),Arc=function Arc(cfg){Arc.superclass.constructor.call(this,cfg)};Arc.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Arc,Shape),Util.augment(Arc,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,lineWidth=this.getHitLineWidth(),halfWidth=lineWidth/2,box=ArcMath.box(x,y,r,startAngle,endAngle,clockwise);return box.minX-=halfWidth,box.minY-=halfWidth,box.maxX+=halfWidth,box.maxY+=halfWidth,box},getStartTangent:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,startAngle=attrs.startAngle,r=attrs.r,clockwise=attrs.clockwise,diff=Math.PI/180;clockwise&&(diff*=-1);var result=[],x1=_getArcX(x,r,startAngle+diff),y1=_getArcY(y,r,startAngle+diff),x2=_getArcX(x,r,startAngle),y2=_getArcY(y,r,startAngle);return result.push([x1,y1]),result.push([x2,y2]),result},getEndTangent:function(){var attrs=this._attrs,x=attrs.x,y=attrs.y,endAngle=attrs.endAngle,r=attrs.r,clockwise=attrs.clockwise,diff=Math.PI/180,result=[];clockwise&&(diff*=-1);var x1=_getArcX(x,r,endAngle+diff),y1=_getArcY(y,r,endAngle+diff),x2=_getArcX(x,r,endAngle),y2=_getArcY(y,r,endAngle);return result.push([x2,y2]),result.push([x1,y1]),result},createPath:function(context){var attrs=this._attrs,x=attrs.x,y=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise;context=context||self.get("context"),context.beginPath(),context.arc(x,y,r,startAngle,endAngle,clockwise)},afterPath:function(context){var attrs=this._attrs;if(context=context||this.get("context"),attrs.startArrow){var startPoints=this.getStartTangent();Arrow.addStartArrow(context,attrs,startPoints[0][0],startPoints[0][1],startPoints[1][0],startPoints[1][1])}if(attrs.endArrow){var endPoints=this.getEndTangent();Arrow.addEndArrow(context,attrs,endPoints[0][0],endPoints[0][1],endPoints[1][0],endPoints[1][1])}}}),module.exports=Arc},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Circle=function Circle(cfg){Circle.superclass.constructor.call(this,cfg)};Circle.ATTRS={x:0,y:0,r:0,lineWidth:1},Util.extend(Circle,Shape),Util.augment(Circle,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,lineWidth=this.getHitLineWidth(),halfWidth=lineWidth/2+r;return{minX:cx-halfWidth,minY:cy-halfWidth,maxX:cx+halfWidth,maxY:cy+halfWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r;context.beginPath(),context.arc(cx,cy,r,0,2*Math.PI,!1),context.closePath()}}),module.exports=Circle},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Dom=function Dom(cfg){Dom.superclass.constructor.call(this,cfg)};Util.extend(Dom,Shape),Util.augment(Dom,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var self=this,attrs=self._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,lineWidth=this.getHitLineWidth(),halfWidth=lineWidth/2;return{minX:x-halfWidth,minY:y-halfWidth,maxX:x+width+halfWidth,maxY:y+height+halfWidth}}}),module.exports=Dom},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Ellipse=function Ellipse(cfg){Ellipse.superclass.constructor.call(this,cfg)};Ellipse.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},Util.extend(Ellipse,Shape),Util.augment(Ellipse,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry,lineWidth=this.getHitLineWidth(),halfXWidth=rx+lineWidth/2,halfYWidth=ry+lineWidth/2;return{minX:cx-halfXWidth,minY:cy-halfYWidth,maxX:cx+halfXWidth,maxY:cy+halfYWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry;context=context||self.get("context");var r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1,m=[1,0,0,0,1,0,0,0,1];Util.mat3.scale(m,m,[scaleX,scaleY]),Util.mat3.translate(m,m,[cx,cy]),context.beginPath(),context.save(),context.transform(m[0],m[1],m[3],m[4],m[6],m[7]),context.arc(0,0,r,0,2*Math.PI),context.restore(),context.closePath()}}),module.exports=Ellipse},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),ArcMath=__webpack_require__(37),Fan=function Fan(cfg){Fan.superclass.constructor.call(this,cfg)};Fan.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},Util.extend(Fan,Shape),Util.augment(Fan,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var self=this,attrs=self._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,lineWidth=this.getHitLineWidth(),boxs=ArcMath.box(cx,cy,rs,startAngle,endAngle,clockwise),boxe=ArcMath.box(cx,cy,re,startAngle,endAngle,clockwise),minX=Math.min(boxs.minX,boxe.minX),minY=Math.min(boxs.minY,boxe.minY),maxX=Math.max(boxs.maxX,boxe.maxX),maxY=Math.max(boxs.maxY,boxe.maxY),halfWidth=lineWidth/2;return{minX:minX-halfWidth,minY:minY-halfWidth,maxX:maxX+halfWidth,maxY:maxY+halfWidth}},createPath:function(context){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,ssp={x:Math.cos(startAngle)*rs+cx,y:Math.sin(startAngle)*rs+cy},sep={x:Math.cos(startAngle)*re+cx,y:Math.sin(startAngle)*re+cy},esp={x:Math.cos(endAngle)*rs+cx,y:Math.sin(endAngle)*rs+cy};context=context||self.get("context"),context.beginPath(),context.moveTo(ssp.x,ssp.y),context.lineTo(sep.x,sep.y),context.arc(cx,cy,re,startAngle,endAngle,clockwise),context.lineTo(esp.x,esp.y),context.arc(cx,cy,rs,endAngle,startAngle,!clockwise),context.closePath()}}),module.exports=Fan},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),CImage=function CImage(cfg){CImage.superclass.constructor.call(this,cfg)};CImage.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},Util.extend(CImage,Shape),Util.augment(CImage,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var attrs=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===attrs.img||this._setAttrImg();var x=attrs.x,y=attrs.y;return{minX:x,minY:y,maxX:x+attrs.width,maxY:y+attrs.height}},_beforeSetLoading:function(loading){var canvas=this.get("canvas");return!1===loading&&!0===this.get("toDraw")&&(this._cfg.loading=!1,canvas.draw()),loading},_setAttrImg:function(){var self=this,attrs=self._attrs,img=attrs.img;if(!Util.isString(img))return img instanceof Image?(attrs.width||self.attr("width",img.width),attrs.height||self.attr("height",img.height),img):img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()?(attrs.width||self.attr("width",Number(img.getAttribute("width"))),attrs.height||self.attr("height",Number(img.getAttribute("height"))),img):img instanceof ImageData?(attrs.width||self.attr("width",img.width),attrs.height||self.attr("height",img.height),img):null;var image=new Image;image.onload=function(){if(self.get("destroyed"))return!1;self.attr("imgSrc",img),self.attr("img",image);var callback=self.get("callback");callback&&callback.call(self),self.set("loading",!1)},image.src=img,image.crossOrigin="Anonymous",self.set("loading",!0)},drawInner:function(context){if(this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading"))return void this.set("toDraw",!0);this._drawImage(context),this._cfg.hasUpdate=!1},_drawImage:function(context){var attrs=this._attrs,x=attrs.x,y=attrs.y,image=attrs.img,width=attrs.width,height=attrs.height,sx=attrs.sx,sy=attrs.sy,swidth=attrs.swidth,sheight=attrs.sheight;this.set("toDraw",!1);var img=image;if(img instanceof ImageData&&(img=new Image,img.src=image),img instanceof Image||img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase()){if(Util.isNil(sx)||Util.isNil(sy)||Util.isNil(swidth)||Util.isNil(sheight))return void context.drawImage(img,x,y,width,height);if(!(Util.isNil(sx)||Util.isNil(sy)||Util.isNil(swidth)||Util.isNil(sheight)))return void context.drawImage(img,sx,sy,swidth,sheight,x,y,width,height)}}}),module.exports=CImage},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Arrow=__webpack_require__(38),LineMath=__webpack_require__(36),Line=function Line(cfg){Line.superclass.constructor.call(this,cfg)};Line.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Line,Shape),Util.augment(Line,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2,lineWidth=this.getHitLineWidth();return LineMath.box(x1,y1,x2,y2,lineWidth)},createPath:function(context){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2;context=context||self.get("context"),context.beginPath(),context.moveTo(x1,y1),context.lineTo(x2,y2)},afterPath:function(context){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2;context=context||this.get("context"),attrs.startArrow&&Arrow.addStartArrow(context,attrs,x2,y2,x1,y1),attrs.endArrow&&Arrow.addEndArrow(context,attrs,x1,y1,x2,y2)},getPoint:function(t){var attrs=this._attrs;return{x:LineMath.at(attrs.x1,attrs.x2,t),y:LineMath.at(attrs.y1,attrs.y2,t)}}}),module.exports=Line},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),PathSegment=__webpack_require__(39),Format=__webpack_require__(27),Arrow=__webpack_require__(38),PathUtil=__webpack_require__(57),CubicMath=__webpack_require__(55),Path=function Path(cfg){Path.superclass.constructor.call(this,cfg)};Path.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},Util.extend(Path,Shape),Util.augment(Path,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(path){var self=this;if(Util.isNil(path))return self.setSilent("segments",null),void self.setSilent("box",void 0);var preSegment,pathArray=Format.parsePath(path),segments=[];if(Util.isArray(pathArray)&&0!==pathArray.length&&("M"===pathArray[0][0]||"m"===pathArray[0][0])){for(var count=pathArray.length,i=0;i<pathArray.length;i++){var item=pathArray[i];preSegment=new PathSegment(item,preSegment,i===count-1),segments.push(preSegment)}self.setSilent("segments",segments),self.setSilent("tCache",null),self.setSilent("box",null)}},calculateBox:function(){var self=this,segments=self.get("segments");if(!segments)return null;var lineWidth=this.getHitLineWidth(),minX=1/0,maxX=-1/0,minY=1/0,maxY=-1/0;return Util.each(segments,function(segment){segment.getBBox(lineWidth);var box=segment.box;box&&(box.minX<minX&&(minX=box.minX),box.maxX>maxX&&(maxX=box.maxX),box.minY<minY&&(minY=box.minY),box.maxY>maxY&&(maxY=box.maxY))}),minX===1/0||minY===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:minX,minY:minY,maxX:maxX,maxY:maxY}},_setTcache:function(){var segmentT,segmentL,segmentN,l,totalLength=0,tempLength=0,tCache=[],curve=this._cfg.curve;curve&&(Util.each(curve,function(segment,i){segmentN=curve[i+1],l=segment.length,segmentN&&(totalLength+=CubicMath.len(segment[l-2],segment[l-1],segmentN[1],segmentN[2],segmentN[3],segmentN[4],segmentN[5],segmentN[6]))}),Util.each(curve,function(segment,i){segmentN=curve[i+1],l=segment.length,segmentN&&(segmentT=[],segmentT[0]=tempLength/totalLength,segmentL=CubicMath.len(segment[l-2],segment[l-1],segmentN[1],segmentN[2],segmentN[3],segmentN[4],segmentN[5],segmentN[6]),tempLength+=segmentL,segmentT[1]=tempLength/totalLength,tCache.push(segmentT))}),this._cfg.tCache=tCache)},_calculateCurve:function(){var self=this,attrs=self._attrs,path=attrs.path;this._cfg.curve=PathUtil.pathTocurve(path)},getStartTangent:function(){var startPoint,endPoint,tangent,result,segments=this.get("segments");if(segments.length>1)if(startPoint=segments[0].endPoint,endPoint=segments[1].endPoint,tangent=segments[1].startTangent,result=[],Util.isFunction(tangent)){var v=tangent();result.push([startPoint.x-v[0],startPoint.y-v[1]]),result.push([startPoint.x,startPoint.y])}else result.push([endPoint.x,endPoint.y]),result.push([startPoint.x,startPoint.y]);return result},getEndTangent:function(){var startPoint,endPoint,tangent,result,segments=this.get("segments"),segmentsLen=segments.length;if(segmentsLen>1)if(startPoint=segments[segmentsLen-2].endPoint,endPoint=segments[segmentsLen-1].endPoint,tangent=segments[segmentsLen-1].endTangent,result=[],Util.isFunction(tangent)){var v=tangent();result.push([endPoint.x-v[0],endPoint.y-v[1]]),result.push([endPoint.x,endPoint.y])}else result.push([startPoint.x,startPoint.y]),result.push([endPoint.x,endPoint.y]);return result},getPoint:function(t){var subt,index,tCache=this._cfg.tCache;tCache||(this._calculateCurve(),this._setTcache(),tCache=this._cfg.tCache);var curve=this._cfg.curve;if(!tCache)return curve?{x:curve[0][1],y:curve[0][2]}:null;Util.each(tCache,function(v,i){t>=v[0]&&t<=v[1]&&(subt=(t-v[0])/(v[1]-v[0]),index=i)});var seg=curve[index];if(Util.isNil(seg)||Util.isNil(index))return null;var l=seg.length,nextSeg=curve[index+1];return{x:CubicMath.at(seg[l-2],nextSeg[1],nextSeg[3],nextSeg[5],1-subt),y:CubicMath.at(seg[l-1],nextSeg[2],nextSeg[4],nextSeg[6],1-subt)}},createPath:function(context){var self=this,segments=self.get("segments");if(Util.isArray(segments)){context=context||self.get("context"),context.beginPath();for(var segmentsLen=segments.length,i=0;i<segmentsLen;i++)segments[i].draw(context)}},afterPath:function(context){var self=this,attrs=self._attrs,segments=self.get("segments"),path=attrs.path;if(context=context||self.get("context"),Util.isArray(segments)&&1!==segments.length&&(attrs.startArrow||attrs.endArrow)&&"z"!==path[path.length-1]&&"Z"!==path[path.length-1]&&!attrs.fill){var startPoints=self.getStartTangent();Arrow.addStartArrow(context,attrs,startPoints[0][0],startPoints[0][1],startPoints[1][0],startPoints[1][1]);var endPoints=self.getEndTangent();Arrow.addEndArrow(context,attrs,endPoints[0][0],endPoints[0][1],endPoints[1][0],endPoints[1][1])}}}),module.exports=Path},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Polygon=function Polygon(cfg){Polygon.superclass.constructor.call(this,cfg)};Polygon.ATTRS={points:null,lineWidth:1},Util.extend(Polygon,Shape),Util.augment(Polygon,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var self=this,attrs=self._attrs,points=attrs.points,lineWidth=this.getHitLineWidth();if(!points||0===points.length)return null;var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;Util.each(points,function(point){var x=point[0],y=point[1];x<minX&&(minX=x),x>maxX&&(maxX=x),y<minY&&(minY=y),y>maxY&&(maxY=y)});var halfWidth=lineWidth/2;return{minX:minX-halfWidth,minY:minY-halfWidth,maxX:maxX+halfWidth,maxY:maxY+halfWidth}},createPath:function(context){var self=this,attrs=self._attrs,points=attrs.points;points.length<2||(context=context||self.get("context"),context.beginPath(),Util.each(points,function(point,index){0===index?context.moveTo(point[0],point[1]):context.lineTo(point[0],point[1])}),context.closePath())}}),module.exports=Polygon},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),Arrow=__webpack_require__(38),LineMath=__webpack_require__(36),Polyline=function Polyline(cfg){Polyline.superclass.constructor.call(this,cfg)};Polyline.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},Util.extend(Polyline,Shape),Util.augment(Polyline,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var self=this,attrs=self._attrs,lineWidth=this.getHitLineWidth(),points=attrs.points;if(!points||0===points.length)return null;var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;Util.each(points,function(point){var x=point[0],y=point[1];x<minX&&(minX=x),x>maxX&&(maxX=x),y<minY&&(minY=y),y>maxY&&(maxY=y)});var halfWidth=lineWidth/2;return{minX:minX-halfWidth,minY:minY-halfWidth,maxX:maxX+halfWidth,maxY:maxY+halfWidth}},_setTcache:function(){var segmentT,segmentL,self=this,attrs=self._attrs,points=attrs.points,totalLength=0,tempLength=0,tCache=[];points&&0!==points.length&&(Util.each(points,function(p,i){points[i+1]&&(totalLength+=LineMath.len(p[0],p[1],points[i+1][0],points[i+1][1]))}),totalLength<=0||(Util.each(points,function(p,i){points[i+1]&&(segmentT=[],segmentT[0]=tempLength/totalLength,segmentL=LineMath.len(p[0],p[1],points[i+1][0],points[i+1][1]),tempLength+=segmentL,segmentT[1]=tempLength/totalLength,tCache.push(segmentT))}),this.tCache=tCache))},createPath:function(context){var l,i,self=this,attrs=self._attrs,points=attrs.points;if(!(points.length<2)){for(context=context||self.get("context"),context.beginPath(),context.moveTo(points[0][0],points[0][1]),i=1,l=points.length-1;i<l;i++)context.lineTo(points[i][0],points[i][1]);context.lineTo(points[l][0],points[l][1])}},getStartTangent:function(){var points=this.__attrs.points,result=[];return result.push([points[1][0],points[1][1]]),result.push([points[0][0],points[0][1]]),result},getEndTangent:function(){var points=this.__attrs.points,l=points.length-1,result=[];return result.push([points[l-1][0],points[l-1][1]]),result.push([points[l][0],points[l][1]]),result},afterPath:function(context){var self=this,attrs=self._attrs,points=attrs.points,l=points.length-1;context=context||self.get("context"),attrs.startArrow&&Arrow.addStartArrow(context,attrs,points[1][0],points[1][1],points[0][0],points[0][1]),attrs.endArrow&&Arrow.addEndArrow(context,attrs,points[l-1][0],points[l-1][1],points[l][0],points[l][1])},getPoint:function(t){var subt,index,attrs=this._attrs,points=attrs.points,tCache=this.tCache;return tCache||(this._setTcache(),tCache=this.tCache),Util.each(tCache,function(v,i){t>=v[0]&&t<=v[1]&&(subt=(t-v[0])/(v[1]-v[0]),index=i)}),{x:LineMath.at(points[index][0],points[index+1][0],subt),y:LineMath.at(points[index][1],points[index+1][1],subt)}}}),module.exports=Polyline},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),_require=__webpack_require__(27),parseRadius=_require.parseRadius,Shape=__webpack_require__(6),Rect=function Rect(cfg){Rect.superclass.constructor.call(this,cfg)};Rect.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},Util.extend(Rect,Shape),Util.augment(Rect,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var self=this,attrs=self._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,lineWidth=this.getHitLineWidth(),halfWidth=lineWidth/2;return{minX:x-halfWidth,minY:y-halfWidth,maxX:x+width+halfWidth,maxY:y+height+halfWidth}},createPath:function(context){var self=this,attrs=self._attrs,x=attrs.x,y=attrs.y,width=attrs.width,height=attrs.height,radius=attrs.radius;if(context=context||self.get("context"),context.beginPath(),0===radius)context.rect(x,y,width,height);else{var r=parseRadius(radius);context.moveTo(x+r.r1,y),context.lineTo(x+width-r.r2,y),0!==r.r2&&context.arc(x+width-r.r2,y+r.r2,r.r2,-Math.PI/2,0),context.lineTo(x+width,y+height-r.r3),0!==r.r3&&context.arc(x+width-r.r3,y+height-r.r3,r.r3,0,Math.PI/2),context.lineTo(x+r.r4,y+height),0!==r.r4&&context.arc(x+r.r4,y+height-r.r4,r.r4,Math.PI/2,Math.PI),context.lineTo(x,y+r.r1),0!==r.r1&&context.arc(x+r.r1,y+r.r1,r.r1,Math.PI,1.5*Math.PI),context.closePath()}}}),module.exports=Rect},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Shape=__webpack_require__(6),CText=function CText(cfg){CText.superclass.constructor.call(this,cfg)};CText.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},Util.extend(CText,Shape),Util.augment(CText,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var fontSize=this._attrs.fontSize;fontSize&&+fontSize<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+fontSize/12,+fontSize/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var attrs=this._attrs,fontSize=attrs.fontSize,fontFamily=attrs.fontFamily,fontWeight=attrs.fontWeight,fontStyle=attrs.fontStyle,fontVariant=attrs.fontVariant;attrs.font=[fontStyle,fontVariant,fontWeight,fontSize+"px",fontFamily].join(" ")},_setAttrText:function(){var attrs=this._attrs,text=attrs.text,textArr=null;if(Util.isString(text)&&-1!==text.indexOf("\n")){textArr=text.split("\n");var lineCount=textArr.length;attrs.lineCount=lineCount}attrs.textArr=textArr},_getTextHeight:function(){var attrs=this._attrs,lineCount=attrs.lineCount,fontSize=1*attrs.fontSize;if(lineCount>1){return fontSize*lineCount+this._getSpaceingY()*(lineCount-1)}return fontSize},isHitBox:function(){return!1},calculateBox:function(){var self=this,attrs=self._attrs,cfg=this._cfg;cfg.attrs&&!cfg.hasUpdate||(this._assembleFont(),this._setAttrText()),attrs.textArr||this._setAttrText();var x=attrs.x,y=attrs.y,width=self.measureText();if(!width)return{minX:x,minY:y,maxX:x,maxY:y};var height=self._getTextHeight(),textAlign=attrs.textAlign,textBaseline=attrs.textBaseline,lineWidth=self.getHitLineWidth(),point={x:x,y:y-height};textAlign&&("end"===textAlign||"right"===textAlign?point.x-=width:"center"===textAlign&&(point.x-=width/2)),textBaseline&&("top"===textBaseline?point.y+=height:"middle"===textBaseline&&(point.y+=height/2)),this.set("startPoint",point);var halfWidth=lineWidth/2;return{minX:point.x-halfWidth,minY:point.y-halfWidth,maxX:point.x+width+halfWidth,maxY:point.y+height+halfWidth}},_getSpaceingY:function(){var attrs=this._attrs,lineHeight=attrs.lineHeight,fontSize=1*attrs.fontSize;return lineHeight?lineHeight-fontSize:.14*fontSize},drawInner:function(context){var self=this,attrs=self._attrs,cfg=this._cfg;cfg.attrs&&!cfg.hasUpdate||(this._assembleFont(),this._setAttrText()),context.font=attrs.font;var text=attrs.text;if(text){var textArr=attrs.textArr,x=attrs.x,y=attrs.y;if(context.beginPath(),self.hasStroke()){var strokeOpacity=attrs.strokeOpacity;Util.isNil(strokeOpacity)||1===strokeOpacity||(context.globalAlpha=strokeOpacity),textArr?self._drawTextArr(context,!1):context.strokeText(text,x,y),context.globalAlpha=1}if(self.hasFill()){var fillOpacity=attrs.fillOpacity;Util.isNil(fillOpacity)||1===fillOpacity||(context.globalAlpha=fillOpacity),textArr?self._drawTextArr(context,!0):context.fillText(text,x,y)}cfg.hasUpdate=!1}},_drawTextArr:function(context,fill){var subY,textArr=this._attrs.textArr,textBaseline=this._attrs.textBaseline,fontSize=1*this._attrs.fontSize,spaceingY=this._getSpaceingY(),x=this._attrs.x,y=this._attrs.y,box=this.getBBox(),height=box.maxY-box.minY;Util.each(textArr,function(subText,index){subY=y+index*(spaceingY+fontSize)-height+fontSize,"middle"===textBaseline&&(subY+=height-fontSize-(height-fontSize)/2),"top"===textBaseline&&(subY+=height-fontSize),fill?context.fillText(subText,x,subY):context.strokeText(subText,x,subY)})},measureText:function(){var measureWidth,self=this,attrs=self._attrs,text=attrs.text,font=attrs.font,textArr=attrs.textArr,width=0;if(!Util.isNil(text)){var context=document.createElement("canvas").getContext("2d");return context.save(),context.font=font,textArr?Util.each(textArr,function(subText){measureWidth=context.measureText(subText).width,width<measureWidth&&(width=measureWidth),context.restore()}):(width=context.measureText(text).width,context.restore()),width}}}),module.exports=CText},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_value__=__webpack_require__(59);__webpack_require__.d(__webpack_exports__,"interpolate",function(){return __WEBPACK_IMPORTED_MODULE_0__src_value__.a});var __WEBPACK_IMPORTED_MODULE_1__src_array__=__webpack_require__(122);__webpack_require__.d(__webpack_exports__,"interpolateArray",function(){return __WEBPACK_IMPORTED_MODULE_1__src_array__.a});var __WEBPACK_IMPORTED_MODULE_2__src_basis__=__webpack_require__(62);__webpack_require__.d(__webpack_exports__,"interpolateBasis",function(){return __WEBPACK_IMPORTED_MODULE_2__src_basis__.b});var __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__=__webpack_require__(120);__webpack_require__.d(__webpack_exports__,"interpolateBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_3__src_basisClosed__.a});var __WEBPACK_IMPORTED_MODULE_4__src_date__=__webpack_require__(123);__webpack_require__.d(__webpack_exports__,"interpolateDate",function(){return __WEBPACK_IMPORTED_MODULE_4__src_date__.a});var __WEBPACK_IMPORTED_MODULE_5__src_number__=__webpack_require__(40);__webpack_require__.d(__webpack_exports__,"interpolateNumber",function(){return __WEBPACK_IMPORTED_MODULE_5__src_number__.a});var __WEBPACK_IMPORTED_MODULE_6__src_object__=__webpack_require__(124);__webpack_require__.d(__webpack_exports__,"interpolateObject",function(){return __WEBPACK_IMPORTED_MODULE_6__src_object__.a});var __WEBPACK_IMPORTED_MODULE_7__src_round__=__webpack_require__(205);__webpack_require__.d(__webpack_exports__,"interpolateRound",function(){return __WEBPACK_IMPORTED_MODULE_7__src_round__.a});var __WEBPACK_IMPORTED_MODULE_8__src_string__=__webpack_require__(125);__webpack_require__.d(__webpack_exports__,"interpolateString",function(){return __WEBPACK_IMPORTED_MODULE_8__src_string__.a});var __WEBPACK_IMPORTED_MODULE_9__src_transform_index__=__webpack_require__(206);__webpack_require__.d(__webpack_exports__,"interpolateTransformCss",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.a}),__webpack_require__.d(__webpack_exports__,"interpolateTransformSvg",function(){return __WEBPACK_IMPORTED_MODULE_9__src_transform_index__.b});var __WEBPACK_IMPORTED_MODULE_10__src_zoom__=__webpack_require__(209);__webpack_require__.d(__webpack_exports__,"interpolateZoom",function(){return __WEBPACK_IMPORTED_MODULE_10__src_zoom__.a});var __WEBPACK_IMPORTED_MODULE_11__src_rgb__=__webpack_require__(119);__webpack_require__.d(__webpack_exports__,"interpolateRgb",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.a}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasis",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.b}),__webpack_require__.d(__webpack_exports__,"interpolateRgbBasisClosed",function(){return __WEBPACK_IMPORTED_MODULE_11__src_rgb__.c});var __WEBPACK_IMPORTED_MODULE_12__src_hsl__=__webpack_require__(210);__webpack_require__.d(__webpack_exports__,"interpolateHsl",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHslLong",function(){return __WEBPACK_IMPORTED_MODULE_12__src_hsl__.b});var __WEBPACK_IMPORTED_MODULE_13__src_lab__=__webpack_require__(211);__webpack_require__.d(__webpack_exports__,"interpolateLab",function(){return __WEBPACK_IMPORTED_MODULE_13__src_lab__.a});var __WEBPACK_IMPORTED_MODULE_14__src_hcl__=__webpack_require__(212);__webpack_require__.d(__webpack_exports__,"interpolateHcl",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.a}),__webpack_require__.d(__webpack_exports__,"interpolateHclLong",function(){return __WEBPACK_IMPORTED_MODULE_14__src_hcl__.b});var __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__=__webpack_require__(213);__webpack_require__.d(__webpack_exports__,"interpolateCubehelix",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.b}),__webpack_require__.d(__webpack_exports__,"interpolateCubehelixLong",function(){return __WEBPACK_IMPORTED_MODULE_15__src_cubehelix__.a});var __WEBPACK_IMPORTED_MODULE_16__src_quantize__=__webpack_require__(214);__webpack_require__.d(__webpack_exports__,"quantize",function(){return __WEBPACK_IMPORTED_MODULE_16__src_quantize__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return deg2rad}),__webpack_require__.d(__webpack_exports__,"b",function(){return rad2deg});var deg2rad=Math.PI/180,rad2deg=180/Math.PI},function(module,__webpack_exports__,__webpack_require__){"use strict";function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}__webpack_require__.d(__webpack_exports__,"b",function(){return rgbBasis}),__webpack_require__.d(__webpack_exports__,"c",function(){return rgbBasisClosed});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__basis__=__webpack_require__(62),__WEBPACK_IMPORTED_MODULE_2__basisClosed__=__webpack_require__(120),__WEBPACK_IMPORTED_MODULE_3__color__=__webpack_require__(28);__webpack_exports__.a=function rgbGamma(y){function rgb(start,end){var r=color((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(start)).r,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.f)(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_3__color__.a)(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}var color=Object(__WEBPACK_IMPORTED_MODULE_3__color__.b)(y);return rgb.gamma=rgbGamma,rgb}(1);var rgbBasis=rgbSpline(__WEBPACK_IMPORTED_MODULE_1__basis__.b),rgbBasisClosed=rgbSpline(__WEBPACK_IMPORTED_MODULE_2__basisClosed__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__basis__=__webpack_require__(62);__webpack_exports__.a=function(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return Object(__WEBPACK_IMPORTED_MODULE_0__basis__.a)((t-i/n)*n,v0,v1,v2,v3)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(59);__webpack_exports__.a=function(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){var d=new Date;return a=+a,b-=a,function(t){return d.setTime(a+b*t),d}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__value__=__webpack_require__(59);__webpack_exports__.a=function(a,b){var k,i={},c={};null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={});for(k in b)k in a?i[k]=Object(__WEBPACK_IMPORTED_MODULE_0__value__.a)(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function zero(b){return function(){return b}}function one(b){return function(t){return b(t)+""}}var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(40),reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");__webpack_exports__.a=function(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i:i,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?one(q[0].x):zero(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Action=__webpack_require__(290),defaultAnimationCfg={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},Animate={line:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},path:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},area:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.fadeIn},leave:function(){return Action.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return Action.appear.zoomIn},enter:function(){return Action.enter.zoomIn},leave:function(){return Action.leave.zoomOut}},edge:{appear:function(){return Action.appear.pathIn},enter:function(){return Action.enter.pathIn},leave:function(){return Action.leave.pathOut}},interval:{appear:function(coord){var result;return coord.isPolar?(result=Action.appear.zoomIn,(coord.isTransposed||"theta"===coord.type)&&(result=Action.appear.fanIn)):result=coord.isRect?coord.isTransposed?Action.appear.scaleInX:Action.appear.scaleInY:Action.appear.zoomIn,result},enter:function(coord){return coord.isRect||coord.isTransposed||"theta"===coord.type?Action.enter.fadeIn:Action.enter.zoomIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if("theta"===coord.type)return Action.update.fanIn}},point:{appear:function(){return Action.appear.zoomIn},enter:function(){return Action.enter.zoomIn},leave:function(){return Action.leave.zoomOut}},schema:{appear:function(){return Action.appear.clipIn},enter:function(){return Action.enter.clipIn},leave:function(){return Action.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return Action.appear.fadeIn},enter:function(){return Action.enter.fadeIn},leave:function(){return Action.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-ticks":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-grid":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(coord){if(coord.isPolar)return Action.appear.fadeIn}},"axis-grid-rect":{enter:function(){return Action.appear.fadeIn},leave:function(){return Action.leave.fadeOut},update:function(){return Action.leave.fadeIn}},labelLine:{appear:function(){return Action.appear.pathIn},enter:function(){return Action.enter.pathIn},leave:function(){return Action.leave.pathOut}}};Animate.Action=Action,Animate.defaultCfg=defaultAnimationCfg,Animate.getAnimation=function(geomType,coord,animationType){var geomAnimateCfg=this[geomType];if(geomAnimateCfg){var animation=geomAnimateCfg[animationType];if(Util.isFunction(animation))return animation(coord)}return!1},Animate.getAnimateCfg=function(geomType,animationType){var defaultCfg=defaultAnimationCfg[animationType];return this[geomType]&&this[geomType].cfg&&this[geomType].cfg[animationType]?Util.deepMix({},defaultCfg,this[geomType].cfg[animationType]):defaultCfg},Animate.registerAnimation=function(animationType,animationName,animationFun){this.Action[animationType]||(this.Action[animationType]={}),this.Action[animationType][animationName]=animationFun},module.exports=Animate},function(module,exports,__webpack_require__){var each=__webpack_require__(2),mix=__webpack_require__(8),DOMUtil=__webpack_require__(228),arrayUtil=__webpack_require__(237),eventUtil=__webpack_require__(248),formatUtil=__webpack_require__(251),mathUtil=__webpack_require__(255),matrixUtil=__webpack_require__(43),objectUtil=__webpack_require__(264),pathUtil=__webpack_require__(268),stringUtil=__webpack_require__(274),typeUtil=__webpack_require__(278),util={DOMUtil:DOMUtil,DomUtil:DOMUtil,MatrixUtil:matrixUtil,PathUtil:pathUtil,arrayUtil:arrayUtil,domUtil:DOMUtil,eventUtil:eventUtil,formatUtil:formatUtil,mathUtil:mathUtil,matrixUtil:matrixUtil,objectUtil:objectUtil,stringUtil:stringUtil,pathUtil:pathUtil,typeUtil:typeUtil,augment:__webpack_require__(89),clone:__webpack_require__(46),debounce:__webpack_require__(284),deepMix:__webpack_require__(47),each:each,extend:__webpack_require__(88),filter:__webpack_require__(63),group:__webpack_require__(144),groupBy:__webpack_require__(146),groupToMap:__webpack_require__(145),indexOf:__webpack_require__(285),isEmpty:__webpack_require__(83),isEqual:__webpack_require__(49),isEqualWith:__webpack_require__(286),map:__webpack_require__(287),mix:mix,pick:__webpack_require__(288),throttle:__webpack_require__(289),toArray:__webpack_require__(34),toString:__webpack_require__(23),uniqueId:__webpack_require__(86)};each([DOMUtil,arrayUtil,eventUtil,formatUtil,mathUtil,matrixUtil,objectUtil,pathUtil,stringUtil,typeUtil],function(collection){mix(util,collection)}),module.exports=util},function(module,exports,__webpack_require__){function isMatch(obj,attrs){var _keys=keys(attrs),length=_keys.length;if(isNil(obj))return!length;for(var i=0;i<length;i+=1){var key=_keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0}var keys=__webpack_require__(129),isNil=__webpack_require__(5);module.exports=isMatch},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isFunction=__webpack_require__(11),keys=Object.keys?function(obj){return Object.keys(obj)}:function(obj){var result=[];return each(obj,function(value,key){isFunction(obj)&&"prototype"===key||result.push(key)}),result};module.exports=keys},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),splice=Array.prototype.splice,pullAt=function(arr,indexes){if(!isArrayLike(arr))return[];for(var length=arr?indexes.length:0,last=length-1;length--;){var previous=void 0,index=indexes[length];length!==last&&index===previous||(previous=index,splice.call(arr,index,1))}return arr};module.exports=pullAt},function(module,exports,__webpack_require__){var each=__webpack_require__(2),contains=__webpack_require__(41),uniq=function(arr){var resultArr=[];return each(arr,function(item){contains(resultArr,item)||resultArr.push(item)}),resultArr};module.exports=uniq},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isFunction=__webpack_require__(11),each=__webpack_require__(2),maxBy=function(arr,fn){if(isArray(arr)){var max=arr[0],maxData=void 0;maxData=isFunction(fn)?fn(arr[0]):arr[0][fn];var data=void 0;return each(arr,function(val){(data=isFunction(fn)?fn(val):val[fn])>maxData&&(max=val,maxData=data)}),max}};module.exports=maxBy},function(module,exports){module.exports=parseInt},function(module,exports){module.exports=function(obj,key){return obj.hasOwnProperty(key)}},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isFunction=__webpack_require__(11),values=Object.values?function(obj){return Object.values(obj)}:function(obj){var result=[];return each(obj,function(value,key){isFunction(obj)&&"prototype"===key||result.push(value)}),result};module.exports=values},function(module,exports,__webpack_require__){var parsePathArray=__webpack_require__(137);module.exports=function(x,y,w,h,r){if(r)return[["M",+x+ +r,y],["l",w-2*r,0],["a",r,r,0,0,1,r,r],["l",0,h-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-w,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-h],["a",r,r,0,0,1,r,-r],["z"]];var res=[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]];return res.parsePathArray=parsePathArray,res}},function(module,exports){var p2s=/,?([a-z]),?/gi;module.exports=function(path){return path.join(",").replace(p2s,"$1")}},function(module,exports,__webpack_require__){var pathToAbsolute=__webpack_require__(139),a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){rx===ry&&(rx+=1);var _120=120*Math.PI/180,rad=Math.PI/180*(+angle||0),res=[],xy=void 0,f1=void 0,f2=void 0,cx=void 0,cy=void 0,rotate=function(x,y,rad){return{x:x*Math.cos(rad)-y*Math.sin(rad),y:x*Math.sin(rad)+y*Math.cos(rad)}};if(recursive)f1=recursive[0],f2=recursive[1],cx=recursive[2],cy=recursive[3];else{xy=rotate(x1,y1,-rad),x1=xy.x,y1=xy.y,xy=rotate(x2,y2,-rad),x2=xy.x,y2=xy.y,x1===x2&&y1===y2&&(x2+=1,y2+=1);var x=(x1-x2)/2,y=(y1-y2)/2,h=x*x/(rx*rx)+y*y/(ry*ry);h>1&&(h=Math.sqrt(h),rx*=h,ry*=h);var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x)));cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=Math.asin(((y1-cy)/ry).toFixed(9)),f2=Math.asin(((y2-cy)/ry).toFixed(9)),f1=x1<cx?Math.PI-f1:f1,f2=x2<cx?Math.PI-f2:f2,f1<0&&(f1=2*Math.PI+f1),f2<0&&(f2=2*Math.PI+f2),sweep_flag&&f1>f2&&(f1-=2*Math.PI),!sweep_flag&&f2>f1&&(f2-=2*Math.PI)}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1),x2=cx+rx*Math.cos(f2),y2=cy+ry*Math.sin(f2),res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];if(m2[0]=2*m1[0]-m2[0],m2[1]=2*m1[1]-m2[1],recursive)return[m2,m3,m4].concat(res);res=[m2,m3,m4].concat(res).join().split(",");for(var newres=[],i=0,ii=res.length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres},l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){return[1/3*x1+2/3*ax,1/3*y1+2/3*ay,1/3*x2+2/3*ax,1/3*y2+2/3*ay,x2,y2]};module.exports=function(path,path2){var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},pcoms1=[],pcoms2=[],pfirst="",pcom="",ii=void 0,processPath=function(path,d,pcom){var nx=void 0,ny=void 0;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];switch(!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null),path[0]){case"M":d.X=path[1],d.Y=path[2];break;case"A":path=["C"].concat(a2c.apply(0,[d.x,d.y].concat(path.slice(1))));break;case"S":"C"===pcom||"S"===pcom?(nx=2*d.x-d.bx,ny=2*d.y-d.by):(nx=d.x,ny=d.y),path=["C",nx,ny].concat(path.slice(1));break;case"T":"Q"===pcom||"T"===pcom?(d.qx=2*d.x-d.qx,d.qy=2*d.y-d.qy):(d.qx=d.x,d.qy=d.y),path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1],d.qy=path[2],path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y))}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();for(var pi=pp[i];pi.length;)pcoms1[i]="A",p2&&(pcoms2[i]="A"),pp.splice(i++,0,["C"].concat(pi.splice(0,6)));pp.splice(i,1),ii=Math.max(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){path1&&path2&&"M"===path1[i][0]&&"M"!==path2[i][0]&&(path2.splice(i,0,["M",a2.x,a2.y]),a1.bx=0,a1.by=0,a1.x=path1[i][1],a1.y=path1[i][2],ii=Math.max(p.length,p2&&p2.length||0))};ii=Math.max(p.length,p2&&p2.length||0);for(var i=0;i<ii;i++){p[i]&&(pfirst=p[i][0]),"C"!==pfirst&&(pcoms1[i]=pfirst,i&&(pcom=pcoms1[i-1])),p[i]=processPath(p[i],attrs,pcom),"A"!==pcoms1[i]&&"C"===pfirst&&(pcoms1[i]="C"),fixArc(p,i),p2&&(p2[i]&&(pfirst=p2[i][0]),"C"!==pfirst&&(pcoms2[i]=pfirst,i&&(pcom=pcoms2[i-1])),p2[i]=processPath(p2[i],attrs2,pcom),"A"!==pcoms2[i]&&"C"===pfirst&&(pcoms2[i]="C"),fixArc(p2,i)),fixM(p,p2,attrs,attrs2,i),fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2],attrs.y=seg[seglen-1],attrs.bx=parseFloat(seg[seglen-4])||attrs.x,attrs.by=parseFloat(seg[seglen-3])||attrs.y,attrs2.bx=p2&&(parseFloat(seg2[seg2len-4])||attrs2.x),attrs2.by=p2&&(parseFloat(seg2[seg2len-3])||attrs2.y),attrs2.x=p2&&seg2[seg2len-2],attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p}},function(module,exports,__webpack_require__){function ellipsePath(x,y,rx,ry,a){var res=[];if(null===a&&null===ry&&(ry=rx),x=+x,y=+y,rx=+rx,ry=+ry,null!==a){var rad=Math.PI/180,x1=x+rx*Math.cos(-ry*rad),x2=x+rx*Math.cos(-a*rad);res=[["M",x1,y+rx*Math.sin(-ry*rad)],["A",rx,rx,0,+(a-ry>180),0,x2,y+rx*Math.sin(-a*rad)]]}else res=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];return res}var parsePathString=__webpack_require__(140),catmullRom2bezier=__webpack_require__(141);module.exports=function(pathArray){if(!(pathArray=parsePathString(pathArray))||!pathArray.length)return[["M",0,0]];var res=[],x=0,y=0,mx=0,my=0,start=0,pa0=void 0,dots=void 0;"M"===pathArray[0][0]&&(x=+pathArray[0][1],y=+pathArray[0][2],mx=x,my=y,start++,res[0]=["M",x,y]);for(var r,pa,crz=3===pathArray.length&&"M"===pathArray[0][0]&&"R"===pathArray[1][0].toUpperCase()&&"Z"===pathArray[2][0].toUpperCase(),i=start,ii=pathArray.length;i<ii;i++){if(res.push(r=[]),pa=pathArray[i],(pa0=pa[0])!==pa0.toUpperCase())switch(r[0]=pa0.toUpperCase(),r[0]){case"A":r[1]=pa[1],r[2]=pa[2],r[3]=pa[3],r[4]=pa[4],r[5]=pa[5],r[6]=+pa[6]+x,r[7]=+pa[7]+y;break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":dots=[x,y].concat(pa.slice(1));for(var j=2,jj=dots.length;j<jj;j++)dots[j]=+dots[j]+x,dots[++j]=+dots[j]+y;res.pop(),res=res.concat(catmullRom2bezier(dots,crz));break;case"O":res.pop(),dots=ellipsePath(x,y,pa[1],pa[2]),dots.push(dots[0]),res=res.concat(dots);break;case"U":res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));break;case"M":mx=+pa[1]+x,my=+pa[2]+y;break;default:for(var _j=1,_jj=pa.length;_j<_jj;_j++)r[_j]=+pa[_j]+(_j%2?x:y)}else if("R"===pa0)dots=[x,y].concat(pa.slice(1)),res.pop(),res=res.concat(catmullRom2bezier(dots,crz)),r=["R"].concat(pa.slice(-2));else if("O"===pa0)res.pop(),dots=ellipsePath(x,y,pa[1],pa[2]),dots.push(dots[0]),res=res.concat(dots);else if("U"===pa0)res.pop(),res=res.concat(ellipsePath(x,y,pa[1],pa[2],pa[3])),r=["U"].concat(res[res.length-1].slice(-2));else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];if("O"!==(pa0=pa0.toUpperCase()))switch(r[0]){case"Z":x=+mx,y=+my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2],my=r[r.length-1];break;default:x=r[r.length-2],y=r[r.length-1]}}return res}},function(module,exports){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},SPACES="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029",PATH_COMMAND=new RegExp("([a-z])["+SPACES+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+SPACES+"]*,?["+SPACES+"]*)+)","ig"),PATH_VALUES=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+SPACES+"]*,?["+SPACES+"]*","ig");module.exports=function(pathString){if(!pathString)return null;if((void 0===pathString?"undefined":_typeof(pathString))===_typeof([]))return pathString;var paramCounts={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},data=[];return String(pathString).replace(PATH_COMMAND,function(a,b,c){var params=[],name=b.toLowerCase();if(c.replace(PATH_VALUES,function(a,b){b&&params.push(+b)}),"m"===name&&params.length>2&&(data.push([b].concat(params.splice(0,2))),name="l",b="m"===b?"l":"L"),"o"===name&&1===params.length&&data.push([b,params[0]]),"r"===name)data.push([b].concat(params));else for(;params.length>=paramCounts[name]&&(data.push([b].concat(params.splice(0,paramCounts[name]))),paramCounts[name]););}),data}},function(module,exports){module.exports=function(crp,z){for(var d=[],i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];z?i?iLen-4===i?p[3]={x:+crp[0],y:+crp[1]}:iLen-2===i&&(p[2]={x:+crp[0],y:+crp[1]},p[3]={x:+crp[2],y:+crp[3]}):p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}:iLen-4===i?p[3]=p[2]:i||(p[0]={x:+crp[i],y:+crp[i+1]}),d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}},function(module,exports,__webpack_require__){var toString=__webpack_require__(23),lowerCase=function(str){return toString(str).toLowerCase()};module.exports=lowerCase},function(module,exports,__webpack_require__){var toString=__webpack_require__(23),upperCase=function(str){return toString(str).toUpperCase()};module.exports=upperCase},function(module,exports,__webpack_require__){var groupToMap=__webpack_require__(145),group=function(data,condition){if(!condition)return[data];var groups=groupToMap(data,condition),array=[];for(var i in groups)array.push(groups[i]);return array};module.exports=group},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),isArray=__webpack_require__(4),groupBy=__webpack_require__(146),groupToMap=function(data,condition){if(!condition)return{0:data};if(!isFunction(condition)){var paramsCondition=isArray(condition)?condition:condition.replace(/\s+/g,"").split("*");condition=function(row){for(var unique="_",i=0,l=paramsCondition.length;i<l;i++)unique+=row[paramsCondition[i]]&&row[paramsCondition[i]].toString();return unique}}return groupBy(data,condition)};module.exports=groupToMap},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArray=__webpack_require__(4),hasOwnProperty=Object.prototype.hasOwnProperty,groupBy=function(data,condition){if(!condition||!isArray(data))return data;var result={},key=null;return each(data,function(item){key=condition(item),hasOwnProperty.call(result,key)?result[key].push(item):result[key]=[item]}),result};module.exports=groupBy},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _isScaleExist(scales,compareScale){var flag=!1;return Util.each(scales,function(scale){var scaleValues=[].concat(scale.values),compareScaleValues=[].concat(compareScale.values);if(scale.type===compareScale.type&&scale.field===compareScale.field&&scaleValues.sort().toString()===compareScaleValues.sort().toString())return void(flag=!0)}),flag}function isEqualArray(arr1,arr2){return Util.isEqualWith(arr1,arr2,function(v1,v2){return v1===v2})}var Util=__webpack_require__(0),View=__webpack_require__(291),G=__webpack_require__(16),Canvas=G.Canvas,DomUtil=Util.DomUtil,Global=__webpack_require__(7),Plot=__webpack_require__(356),Controller=__webpack_require__(165),mergeBBox=__webpack_require__(167),bboxOfBackPlot=__webpack_require__(166),plotRange2BBox=__webpack_require__(168),Chart=function(_View){function Chart(){return _View.apply(this,arguments)||this}_inheritsLoose(Chart,_View);var _proto=Chart.prototype;return _proto.getDefaultCfg=function(){var viewCfg=_View.prototype.getDefaultCfg.call(this);return Util.mix(viewCfg,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:Global.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:Global.renderer,views:[]})},_proto.init=function(){var self=this,viewTheme=self.get("viewTheme");self._initCanvas(),self._initPlot(),self._initEvents(),_View.prototype.init.call(this);var tooltipController=new Controller.Tooltip({chart:self,viewTheme:viewTheme,options:{}});self.set("tooltipController",tooltipController);var legendController=new Controller.Legend({chart:self,viewTheme:viewTheme});self.set("legendController",legendController),self.set("_id","chart"),self.emit("afterinit")},_proto._isAutoPadding=function(){var padding=this.get("padding");return Util.isArray(padding)?-1!==padding.indexOf("auto"):"auto"===padding},_proto._getAutoPadding=function(){for(var padding=this.get("padding"),frontPlot=this.get("frontPlot"),frontBBox=frontPlot.getBBox(),backPlot=this.get("backPlot"),backBBox=bboxOfBackPlot(backPlot,plotRange2BBox(this.get("plotRange"))),box=mergeBBox(frontBBox,backBBox),outter=[0-box.minY,box.maxX-this.get("width"),box.maxY-this.get("height"),0-box.minX],autoPadding=Util.toAllPadding(padding),i=0;i<autoPadding.length;i++)if("auto"===autoPadding[i]){var tmp=Math.max(0,outter[i]);autoPadding[i]=tmp+this.get("autoPaddingAppend")}return autoPadding},_proto._initCanvas=function(){var container=this.get("container"),id=this.get("id");!container&&id&&(container=id,this.set("container",id));var width=this.get("width"),height=this.get("height");if(Util.isString(container)){if(!(container=document.getElementById(container)))throw new Error("Please specify the container for the chart!");this.set("container",container)}var wrapperEl=DomUtil.createDom('<div style="position:relative;"></div>');container.appendChild(wrapperEl),this.set("wrapperEl",wrapperEl),this.get("forceFit")&&(width=DomUtil.getWidth(container,width),this.set("width",width));var renderer=this.get("renderer"),canvas=new Canvas({containerDOM:wrapperEl,width:width,height:height,pixelRatio:"svg"===renderer?1:this.get("pixelRatio"),renderer:renderer});this.set("canvas",canvas)},_proto._initPlot=function(){var self=this;self._initPlotBack();var canvas=self.get("canvas"),backPlot=canvas.addGroup({zIndex:1}),plotContainer=canvas.addGroup({zIndex:0}),frontPlot=canvas.addGroup({zIndex:3});self.set("backPlot",backPlot),self.set("middlePlot",plotContainer),self.set("frontPlot",frontPlot)},_proto._initPlotBack=function(){var self=this,canvas=self.get("canvas"),viewTheme=self.get("viewTheme"),plot=canvas.addGroup(Plot,{padding:this.get("padding"),plotBackground:Util.mix({},viewTheme.plotBackground,self.get("plotBackground")),background:Util.mix({},viewTheme.background,self.get("background"))});self.set("plot",plot),self.set("plotRange",plot.get("plotRange"))},_proto._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",Util.wrapBehavior(this,"_initForceFitEvent"))},_proto._initForceFitEvent=function(){var timer=setTimeout(Util.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",timer)},_proto._renderLegends=function(){var options=this.get("options"),legendOptions=options.legends;if(Util.isNil(legendOptions)||!1!==legendOptions){var legendController=this.get("legendController");if(legendController.options=legendOptions||{},legendController.plotRange=this.get("plotRange"),legendOptions&&legendOptions.custom)legendController.addCustomLegend();else{var geoms=this.getAllGeoms(),scales=[];Util.each(geoms,function(geom){var view=geom.get("view"),attrs=geom.getAttrsForLegend();Util.each(attrs,function(attr){var type=attr.type,scale=attr.getScale(type);if(scale.field&&"identity"!==scale.type&&!_isScaleExist(scales,scale)){scales.push(scale);var filteredValues=view.getFilteredOutValues(scale.field);legendController.addLegend(scale,attr,geom,filteredValues)}})});var yScales=this.getYScales();0===scales.length&&yScales.length>1&&legendController.addMixedLegend(yScales,geoms)}legendController.alignLegends()}},_proto._renderTooltips=function(){var options=this.get("options");if(Util.isNil(options.tooltip)||!1!==options.tooltip){var tooltipController=this.get("tooltipController");tooltipController.options=options.tooltip||{},tooltipController.renderTooltip()}},_proto.getAllGeoms=function(){var geoms=[];geoms=geoms.concat(this.get("geoms"));var views=this.get("views");return Util.each(views,function(view){geoms=geoms.concat(view.get("geoms"))}),geoms},_proto.forceFit=function(){var self=this;if(self&&!self.destroyed){var container=self.get("container"),oldWidth=self.get("width"),width=DomUtil.getWidth(container,oldWidth);if(0!==width&&width!==oldWidth){var height=self.get("height");self.changeSize(width,height)}return self}},_proto.resetPlot=function(){var plot=this.get("plot"),padding=this.get("padding");isEqualArray(padding,plot.get("padding"))||(plot.set("padding",padding),plot.repaint())},_proto.changeSize=function(width,height){var self=this;self.get("canvas").changeSize(width,height);var plot=this.get("plot");return self.set("width",width),self.set("height",height),plot.repaint(),this.set("keepPadding",!0),self.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),self},_proto.changeWidth=function(width){return this.changeSize(width,this.get("height"))},_proto.changeHeight=function(height){return this.changeSize(this.get("width"),height)},_proto.view=function(cfg){cfg=cfg||{},cfg.theme=this.get("theme"),cfg.parent=this,cfg.backPlot=this.get("backPlot"),cfg.middlePlot=this.get("middlePlot"),cfg.frontPlot=this.get("frontPlot"),cfg.canvas=this.get("canvas"),Util.isNil(cfg.animate)&&(cfg.animate=this.get("animate")),cfg.options=Util.mix({},this._getSharedOptions(),cfg.options);var view=new View(cfg);return view.set("_id","view"+this.get("views").length),this.get("views").push(view),this.emit("addview",{view:view}),view},_proto.removeView=function(view){var views=this.get("views");Util.Array.remove(views,view),view.destroy()},_proto._getSharedOptions=function(){var options=this.get("options"),sharedOptions={};return Util.each(["scales","coord","axes"],function(name){sharedOptions[name]=Util.cloneDeep(options[name])}),sharedOptions},_proto.getViewRegion=function(){var plotRange=this.get("plotRange");return{start:plotRange.bl,end:plotRange.tr}},_proto.legend=function(field,cfg){var options=this.get("options");options.legends||(options.legends={});var legends={};return!1===field?options.legends=!1:Util.isObject(field)?legends=field:Util.isString(field)?legends[field]=cfg:legends=cfg,Util.mix(options.legends,legends),this},_proto.tooltip=function(visible,cfg){var options=this.get("options");return options.tooltip||(options.tooltip={}),!1===visible?options.tooltip=!1:Util.isObject(visible)?Util.mix(options.tooltip,visible):Util.mix(options.tooltip,cfg),this},_proto.clear=function(){this.emit("beforeclear");for(var views=this.get("views");views.length>0;){views.shift().destroy()}_View.prototype.clear.call(this);var canvas=this.get("canvas");return this.resetPlot(),canvas.draw(),this.emit("afterclear"),this},_proto.clearInner=function(){var views=this.get("views");Util.each(views,function(view){view.clearInner()});var tooltipController=this.get("tooltipController");if(tooltipController&&tooltipController.clear(),!this.get("keepLegend")){var legendController=this.get("legendController");legendController&&legendController.clear()}_View.prototype.clearInner.call(this)},_proto.drawComponents=function(){_View.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},_proto.render=function(){var self=this;if(!self.get("keepPadding")&&self._isAutoPadding()){self.beforeRender(),self.drawComponents();var autoPadding=self._getAutoPadding(),plot=self.get("plot");isEqualArray(plot.get("padding"),autoPadding)||(plot.set("padding",autoPadding),plot.repaint())}var middlePlot=self.get("middlePlot");if(self.get("limitInPlot")&&!middlePlot.attr("clip")){var clip=Util.getClipByRange(self.get("plotRange"));middlePlot.attr("clip",clip)}_View.prototype.render.call(this),self._renderTooltips()},_proto.repaint=function(){this.get("keepPadding")||this.resetPlot(),_View.prototype.repaint.call(this)},_proto.changeVisible=function(visible){var wrapperEl=this.get("wrapperEl"),visibleStr=visible?"":"none";wrapperEl.style.display=visibleStr},_proto.toDataURL=function(){var chart=this,canvas=chart.get("canvas"),renderer=chart.get("renderer"),canvasDom=canvas.get("el"),dataURL="";if("svg"===renderer){var clone=canvasDom.cloneNode(!0),svgDocType=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),svgDoc=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",svgDocType);svgDoc.replaceChild(clone,svgDoc.documentElement);var svgData=(new XMLSerializer).serializeToString(svgDoc);dataURL="data:image/svg+xml;charset=utf8,"+encodeURIComponent(svgData)}else"canvas"===renderer&&(dataURL=canvasDom.toDataURL("image/png"));return dataURL},_proto.downloadImage=function(name){var chart=this,link=document.createElement("a"),renderer=chart.get("renderer"),filename=(name||"chart")+("svg"===renderer?".svg":".png");chart.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var dataURL=chart.toDataURL();if(window.Blob&&window.URL&&"svg"!==renderer){for(var arr=dataURL.split(","),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);n--;)u8arr[n]=bstr.charCodeAt(n);var blobObj=new Blob([u8arr],{type:mime});window.navigator.msSaveBlob?window.navigator.msSaveBlob(blobObj,filename):link.addEventListener("click",function(){link.download=filename,link.href=window.URL.createObjectURL(blobObj)})}else link.addEventListener("click",function(){link.download=filename,link.href=dataURL});var e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),link.dispatchEvent(e)},16)},_proto.showTooltip=function(point){var views=this.getViewsByPoint(point);if(views.length){this.get("tooltipController").showTooltip(point,views)}return this},_proto.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},_proto.getTooltipItems=function(point){var self=this,views=self.getViewsByPoint(point),rst=[];return Util.each(views,function(view){var geoms=view.get("geoms");Util.each(geoms,function(geom){var dataArray=geom.get("dataArray"),items=[];Util.each(dataArray,function(data){var tmpPoint=geom.findPoint(point,data);if(tmpPoint){var subItems=geom.getTipItems(tmpPoint);items=items.concat(subItems)}}),rst=rst.concat(items)})}),rst},_proto.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var canvas=this.get("canvas"),wrapperEl=this.get("wrapperEl");wrapperEl.parentNode.removeChild(wrapperEl),_View.prototype.destroy.call(this),canvas.destroy(),window.removeEventListener("resize",Util.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},Chart}(View);module.exports=Chart},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var EventEmitter=__webpack_require__(53),Util=__webpack_require__(0),Base=function(_EventEmitter){function Base(cfg){var _this;_this=_EventEmitter.call(this)||this;var attrs={visible:!0},defaultCfg=_this.getDefaultCfg();return _this._attrs=attrs,Util.assign(attrs,defaultCfg,cfg),_this}_inheritsLoose(Base,_EventEmitter);var _proto=Base.prototype;return _proto.getDefaultCfg=function(){return{}},_proto.get=function(name){return this._attrs[name]},_proto.set=function(name,value){this._attrs[name]=value},_proto.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},_proto.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},_proto.changeVisible=function(){},_proto.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},Base}(EventEmitter);module.exports=Base},function(module,exports,__webpack_require__){function createTmp(){var i=document.createElement("i");return i.title="Web Colour Picker",i.style.display="none",document.body.appendChild(i),i}function getValue(start,end,percent,index){return start[index]+(end[index]-start[index])*percent}function arr2rgb(arr){return"#"+toHex(arr[0])+toHex(arr[1])+toHex(arr[2])}function toHex(value){return value=Math.round(value),value=value.toString(16),1===value.length&&(value="0"+value),value}function calColor(colors,percent){(isNaN(percent)||!isNumber(percent)||percent<0)&&(percent=0),percent>1&&(percent=1);var steps=colors.length-1,step=Math.floor(steps*percent),left=steps*percent-step,start=colors[step],end=step===steps?start:colors[step+1];return arr2rgb([getValue(start,end,left,0),getValue(start,end,left,1),getValue(start,end,left,2)])}function rgb2arr(str){var arr=[];return arr.push(parseInt(str.substr(1,2),16)),arr.push(parseInt(str.substr(3,2),16)),arr.push(parseInt(str.substr(5,2),16)),arr}var isNumber=__webpack_require__(9),isString=__webpack_require__(10),each=__webpack_require__(2),RGB_REG=/rgba?\(([\s.,0-9]+)\)/,colorCache={},iEl=null,ColorUtil={toRGB:function(color){if("#"===color[0]&&7===color.length)return color;iEl||(iEl=createTmp());var rst;if(colorCache[color])rst=colorCache[color];else{iEl.style.color=color,rst=document.defaultView.getComputedStyle(iEl,"").getPropertyValue("color");rst=arr2rgb(RGB_REG.exec(rst)[1].split(/\s*,\s*/)),colorCache[color]=rst}return rst},rgb2arr:rgb2arr,gradient:function(colors){var points=[];return isString(colors)&&(colors=colors.split("-")),each(colors,function(color){-1===color.indexOf("#")&&(color=ColorUtil.toRGB(color)),points.push(rgb2arr(color))}),function(percent){return calColor(points,percent)}}};module.exports=ColorUtil},function(module,exports,__webpack_require__){var each=__webpack_require__(2),ArrayUtil={values:__webpack_require__(64)};module.exports={isAdjust:function(dimName){return this.adjustNames.indexOf(dimName)>=0},_getDimValues:function(mergeData){var self=this,valuesMap={},dims=[];if(self.xField&&self.isAdjust("x")&&dims.push(self.xField),self.yField&&self.isAdjust("y")&&dims.push(self.yField),each(dims,function(dim){var values=ArrayUtil.values(mergeData,dim);values.sort(function(v1,v2){return v1-v2}),valuesMap[dim]=values}),!self.yField&&self.isAdjust("y")){var values=[0,1];valuesMap.y=values}return valuesMap},adjustData:function(dataArray,mergeData){var self=this,valuesMap=self._getDimValues(mergeData);each(dataArray,function(data,index){each(valuesMap,function(values,dim){self.adjustDim(dim,values,data,dataArray.length,index)})})},getAdjustRange:function(dim,key,values){var pre,next,self=this,index=values.indexOf(key),length=values.length;return!self.yField&&self.isAdjust("y")?(pre=0,next=1):length>1?(pre=0===index?values[0]:values[index-1],next=index===length-1?values[length-1]:values[index+1],0!==index?pre+=(key-pre)/2:pre-=(next-key)/2,index!==length-1?next-=(next-key)/2:next+=(key-values[length-2])/2):(pre=0===key?0:key-.5,next=0===key?1:key+.5),{pre:pre,next:next}},groupData:function(data,dim){var groups={};return each(data,function(record){var value=record[dim];void 0===value&&(value=record[dim]=0),groups[value]||(groups[value]=[]),groups[value].push(record)}),groups}}},function(module,exports,__webpack_require__){var Theme={default:__webpack_require__(152),dark:__webpack_require__(304)};module.exports=Theme},function(module,exports){var _html,_tooltip,COLOR_PLATE_8=["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],COLOR_PLATE_16=["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],COLOR_PLATE_24=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],COLOR_PIE=["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],COLOR_PIE_16=["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],FONT_FAMILY='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',Theme={defaultColor:"#1890FF",plotCfg:{padding:[20,20,95,80]},fontFamily:FONT_FAMILY,defaultLegendPosition:"bottom",colors:COLOR_PLATE_8,colors_16:COLOR_PLATE_16,colors_24:COLOR_PLATE_24,colors_pie:COLOR_PIE,colors_pie_16:COLOR_PIE_16,shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:FONT_FAMILY}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:FONT_FAMILY}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:FONT_FAMILY}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:FONT_FAMILY}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:FONT_FAMILY}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},unCheckColor:"#bfbfbf"},html:(_html={},_html["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",color:"#8C8C8C"},_html["g2-legend-title"]={marginBottom:"4px"},_html["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},_html["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},_html["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},_html),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:FONT_FAMILY},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:(_tooltip={useHtml:!0,crosshairs:!1,offset:15},_tooltip["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},_tooltip["g2-tooltip-title"]={marginBottom:"4px"},_tooltip["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},_tooltip["g2-tooltip-list-item"]={marginBottom:"4px"},_tooltip["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},_tooltip["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},_tooltip),tooltipMarker:{symbol:function(x,y,r){return[["M",x,y],["m",-r,0],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,2*-r,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:"#1890FF",radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:"#1890FF",radius:3},interval:{lineWidth:0,fill:"#1890FF",fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:"#1890FF",fillOpacity:.6},polygon:{lineWidth:0,fill:"#1890FF",fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:"#1890FF",fillOpacity:0,lineWidth:2},line:{stroke:"#1890FF",lineWidth:2,fill:null},edge:{stroke:"#1890FF",lineWidth:1,fill:null},schema:{stroke:"#1890FF",lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:FONT_FAMILY,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:FONT_FAMILY}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};module.exports=Theme},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var _require=__webpack_require__(25),Group=_require.Group,Util=__webpack_require__(3),Grid=function(_Group){function Grid(){return _Group.apply(this,arguments)||this}_inheritsLoose(Grid,_Group);var _proto=Grid.prototype;return _proto.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_proto._renderUI=function(){_Group.prototype._renderUI.call(this),this._drawLines()},_proto._drawLines=function(){var self=this,lineStyle=self.get("lineStyle"),items=self.get("items");items&&items.length&&(self._precessItems(items),self._drawGridLines(items,lineStyle))},_proto._precessItems=function(items){var preItem,self=this;Util.each(items,function(item,index){preItem&&self.get("alternateColor")&&self._drawAlternativeBg(item,preItem,index),preItem=item})},_proto._drawGridLines=function(items,lineStyle){var gridLine,path,cfg,points,self=this,type=this.get("type"),itemsLength=items.length;"line"===type||"polygon"===type?Util.each(items,function(item,idx){self.get("hideFirstLine")&&0===idx||self.get("hideLastLine")&&idx===itemsLength-1||(points=item.points,path=[],"line"===type?(path.push(["M",points[0].x,points[0].y]),path.push(["L",points[points.length-1].x,points[points.length-1].y])):Util.each(points,function(point,index){0===index?path.push(["M",point.x,point.y]):path.push(["L",point.x,point.y])}),cfg=self._drawZeroLine(type,idx)?Util.mix({},self.get("zeroLineStyle"),{path:path}):Util.mix({},lineStyle,{path:path}),gridLine=self.addShape("path",{attrs:cfg}),gridLine.name="axis-grid",gridLine._id=item._id,gridLine.set("coord",self.get("coord")),self.get("appendInfo")&&gridLine.setSilent("appendInfo",self.get("appendInfo")))}):Util.each(items,function(item,idx){self.get("hideFirstLine")&&0===idx||self.get("hideLastLine")&&idx===itemsLength-1||(points=item.points,path=[],Util.each(points,function(point,index){var radius=point.radius;0===index?path.push(["M",point.x,point.y]):path.push(["A",radius,radius,0,0,point.flag,point.x,point.y])}),cfg=Util.mix({},lineStyle,{path:path}),gridLine=self.addShape("path",{attrs:cfg}),gridLine.name="axis-grid",gridLine._id=item._id,gridLine.set("coord",self.get("coord")),self.get("appendInfo")&&gridLine.setSilent("appendInfo",self.get("appendInfo")))})},_proto._drawZeroLine=function(type,idx){var self=this,tickValues=self.get("tickValues");return!("line"!==type||!tickValues||0!==tickValues[idx]||!self.get("hightLightZero"))},_proto._drawAlternativeBg=function(item,preItem,index){var attrs,oddColor,evenColor,self=this,alternateColor=self.get("alternateColor");Util.isString(alternateColor)?oddColor=alternateColor:Util.isArray(alternateColor)&&(oddColor=alternateColor[0],evenColor=alternateColor[1]),index%2==0?evenColor&&(attrs=self._getBackItem(preItem.points,item.points,evenColor)):oddColor&&(attrs=self._getBackItem(preItem.points,item.points,oddColor));var shape=self.addShape("Path",{attrs:attrs});shape.name="axis-grid-rect",shape._id=item._id&&item._id.replace("grid","grid-rect"),shape.set("coord",self.get("coord")),self.get("appendInfo")&&shape.setSilent("appendInfo",self.get("appendInfo"))},_proto._getBackItem=function(start,end,bgColor){var path=[],type=this.get("type");if("line"===type)path.push(["M",start[0].x,start[0].y]),path.push(["L",start[start.length-1].x,start[start.length-1].y]),path.push(["L",end[end.length-1].x,end[end.length-1].y]),path.push(["L",end[0].x,end[0].y]),path.push(["Z"]);else if("polygon"===type){Util.each(start,function(subItem,index){0===index?path.push(["M",subItem.x,subItem.y]):path.push(["L",subItem.x,subItem.y])});for(var i=end.length-1;i>=0;i--)path.push(["L",end[i].x,end[i].y]);path.push(["Z"])}else{var flag=start[0].flag;Util.each(start,function(subItem,index){var radius=subItem.radius;0===index?path.push(["M",subItem.x,subItem.y]):path.push(["A",radius,radius,0,0,subItem.flag,subItem.x,subItem.y])});for(var j=end.length-1;j>=0;j--){var endSubItem=end[j],endRadius=endSubItem.radius;j===end.length-1?path.push(["M",endSubItem.x,endSubItem.y]):path.push(["A",endRadius,endRadius,0,0,1===flag?0:1,endSubItem.x,endSubItem.y])}}return{fill:bgColor,path:path}},Grid}(Group);module.exports=Grid},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),DomUtil=Util.DomUtil,Component=__webpack_require__(32),positionAdjust=__webpack_require__(307),spirialAdjust=__webpack_require__(308),bboxAdjust=__webpack_require__(309),LAYOUTS={scatter:positionAdjust,map:spirialAdjust,treemap:bboxAdjust},Label=function(_Component){function Label(){return _Component.apply(this,arguments)||this}_inheritsLoose(Label,_Component);var _proto=Label.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},_proto.clear=function(){var group=this.get("group"),container=this.get("container");group&&!group.get("destroyed")&&group.clear(),container&&(container.innerHTML=""),_Component.prototype.clear.call(this)},_proto.destroy=function(){var group=this.get("group"),container=this.get("container");group.destroy||group.destroy(),container&&(container.innerHTML="")},_proto.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},_proto._dryDraw=function(){var self=this,items=self.get("items"),children=self.getLabels(),count=children.length;Util.each(items,function(item,index){if(index<count){var label=children[index];self.changeLabel(label,item)}else{var labelShape=self._addLabel(item,index);labelShape&&(labelShape._id=item._id,labelShape.set("coord",item.coord))}});for(var i=count-1;i>=items.length;i--)children[i].remove();self._adjustLabels(),!self.get("labelLine")&&self.get("config")||self.drawLines()},_proto.draw=function(){this._dryDraw(),this.get("canvas").draw()},_proto.changeLabel=function(oldLabel,newLabel){if(oldLabel)if(oldLabel.tagName){var node=this._createDom(newLabel);oldLabel.innerHTML=node.innerHTML,this._setCustomPosition(newLabel,oldLabel)}else oldLabel._id=newLabel._id,oldLabel.attr("text",newLabel.text),oldLabel.attr("x")===newLabel.x&&oldLabel.attr("y")===newLabel.y||(oldLabel.resetMatrix(),newLabel.textStyle.rotate&&(oldLabel.rotateAtStart(newLabel.textStyle.rotate),delete newLabel.textStyle.rotate),oldLabel.attr(newLabel))},_proto.show=function(){var group=this.get("group"),container=this.get("container");group&&group.show(),container&&(container.style.opacity=1)},_proto.hide=function(){var group=this.get("group"),container=this.get("container");group&&group.hide(),container&&(container.style.opacity=0)},_proto.drawLines=function(){var self=this;"boolean"==typeof self.get("labelLine")&&self.set("labelLine",{});var lineGroup=self.get("lineGroup");!lineGroup||lineGroup.get("destroyed")?(lineGroup=self.get("group").addGroup({elCls:"x-line-group"}),self.set("lineGroup",lineGroup)):lineGroup.clear(),Util.each(self.get("items"),function(label){self.lineToLabel(label,lineGroup)})},_proto.lineToLabel=function(label,lineGroup){var self=this;if(self.get("config")||label.labelLine){var lineStyle=label.labelLine||self.get("labelLine"),capture=void 0===label.capture?self.get("capture"):label.capture,path=lineStyle.path;if(path&&Util.isFunction(lineStyle.path)&&(path=lineStyle.path(label)),!path){var start=label.start||{x:label.x-label._offset.x,y:label.y-label._offset.y};path=[["M",start.x,start.y],["L",label.x,label.y]]}var stroke=label.color;stroke||(stroke=label.textStyle&&label.textStyle.fill?label.textStyle.fill:"#000");var lineShape=lineGroup.addShape("path",{attrs:Util.mix({path:path,fill:null,stroke:stroke},lineStyle),capture:capture});lineShape.name=self.get("name"),lineShape._id=label._id&&label._id.replace("glabel","glabelline"),lineShape.set("coord",self.get("coord"))}},_proto._adjustLabels=function(){var self=this,type=self.get("type"),labels=self.getLabels(),shapes=self.get("shapes"),layout=LAYOUTS[type];"default"!==type&&layout&&layout(labels,shapes)},_proto.getLabels=function(){var container=this.get("container");return container?Util.toArray(container.childNodes):this.get("group").get("children")},_proto._addLabel=function(item,index){var cfg=item;return this.get("config")&&(cfg=this._getLabelCfg(item,index)),this._createText(cfg)},_proto._getLabelCfg=function(item,index){var textStyle=this.get("textStyle")||{},formatter=this.get("formatter"),htmlTemplate=this.get("htmlTemplate");if(!Util.isObject(item)){var tmp=item;item={},item.text=tmp}return Util.isFunction(textStyle)&&(textStyle=textStyle(item.text,item,index)),formatter&&(item.text=formatter(item.text,item,index)),htmlTemplate&&(item.useHtml=!0,Util.isFunction(htmlTemplate)&&(item.text=htmlTemplate(item.text,item,index))),Util.isNil(item.text)&&(item.text=""),item.text=item.text+"",Util.mix({},item,{textStyle:textStyle},{x:item.x||0,y:item.y||0})},_proto._init=function(){if(!this.get("group")){var group=this.get("canvas").addGroup({id:"label-group"});this.set("group",group)}},_proto.initHtmlContainer=function(){var container=this.get("container");if(container)Util.isString(container)&&(container=document.getElementById(container))&&this.set("container",container);else{var containerTpl=this.get("containerTpl"),wrapper=this.get("canvas").get("el").parentNode;container=DomUtil.createDom(containerTpl),wrapper.style.position="relative",wrapper.appendChild(container),this.set("container",container)}return container},_proto._createText=function(config){var labelShape,cfg=Util.deepMix({},config),container=this.get("container"),capture=void 0===cfg.capture?this.get("capture"):cfg.capture;if(!cfg.useHtml&&!cfg.htmlTemplate){var name=this.get("name"),origin=cfg.point,group=this.get("group");delete cfg.point;var rotate=cfg.rotate;return cfg.textStyle&&(cfg.textStyle.rotate&&(rotate=cfg.textStyle.rotate,delete cfg.textStyle.rotate),cfg=Util.mix({x:cfg.x,y:cfg.y,textAlign:cfg.textAlign,text:cfg.text},cfg.textStyle)),labelShape=group.addShape("text",{attrs:cfg,capture:capture}),rotate&&(Math.abs(rotate)>2*Math.PI&&(rotate=rotate/180*Math.PI),labelShape.transform([["t",-cfg.x,-cfg.y],["r",rotate],["t",cfg.x,cfg.y]])),labelShape.setSilent("origin",origin||cfg),labelShape.name=name,this.get("appendInfo")&&labelShape.setSilent("appendInfo",this.get("appendInfo")),labelShape}container||(container=this.initHtmlContainer());var node=this._createDom(cfg);container.appendChild(node),this._setCustomPosition(cfg,node)},_proto._createDom=function(cfg){var itemTpl=this.get("itemTpl"),str=Util.substitute(itemTpl,{text:cfg.text});return DomUtil.createDom(str)},_proto._setCustomPosition=function(cfg,htmlDom){var textAlign=cfg.textAlign||"left",top=cfg.y,left=cfg.x,width=DomUtil.getOuterWidth(htmlDom);top-=DomUtil.getOuterHeight(htmlDom)/2,"center"===textAlign?left-=width/2:"right"===textAlign&&(left-=width),htmlDom.style.top=parseInt(top,10)+"px",htmlDom.style.left=parseInt(left,10)+"px"},Label}(Component);module.exports=Label},function(module,exports){var Greedy=function(){function Greedy(){this.bitmap=[]}var _proto=Greedy.prototype;return _proto.hasGap=function(bbox){for(var hasGap=!0,bitmap=this.bitmap,minX=Math.floor(bbox.minX),maxX=Math.ceil(bbox.maxX),minY=Math.floor(bbox.minY),maxY=Math.ceil(bbox.maxY)-1,i=minX;i<maxX;i++)if(bitmap[i]){if(i===minX||i===maxX-1){for(var j=minY;j<=maxY;j++)if(bitmap[i][j]){hasGap=!1;break}}else if(bitmap[i][minY]||bitmap[i][maxY]){hasGap=!1;break}}else bitmap[i]=[];return hasGap},_proto.fillGap=function(bbox){for(var bitmap=this.bitmap,minX=Math.floor(bbox.minX),maxX=Math.ceil(bbox.maxX)-1,minY=Math.floor(bbox.minY),maxY=Math.ceil(bbox.maxY)-1,i=minX;i<=maxX;i++){for(var j=minY;j<maxY;j+=8)bitmap[i]||(bitmap[i]=[]),bitmap[i][j]=!0;bitmap[i][maxY]=!0}for(var _i=minY;_i<=maxY;_i++)bitmap[minX][_i]=!0,bitmap[maxX][_i]=!0},Greedy}();module.exports=Greedy},function(module,exports,__webpack_require__){var Util=__webpack_require__(3);module.exports={getFirstScale:function(scales){var firstScale;return Util.each(scales,function(scale){if(scale)return firstScale=scale,!1}),firstScale}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function findItem(items,refer){var rst=null,value=refer instanceof Group||"legendGroup"===refer.name?refer.get("value"):refer;return Util.each(items,function(item){if(item.value===value)return rst=item,!1}),rst}function findShapeByName(group,name){return group.findBy(function(node){return node.name===name})}var Util=__webpack_require__(3),Legend=__webpack_require__(158),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,Event=Util.Event,Group=Util.Group,Category=function(_Legend){function Category(){return _Legend.apply(this,arguments)||this}_inheritsLoose(Category,_Legend);var _proto=Category.prototype;return _proto.getDefaultCfg=function(){var cfg=_Legend.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:FONT_FAMILY},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},_proto.render=function(){_Legend.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},_proto._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",Util.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",Util.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",Util.wrapBehavior(this,"_onClick"))},_proto._getLegendItem=function(target){var item=target.get("parent");return item&&"legendGroup"===item.name?item:null},_proto.activate=function(value){var _this=this,self=this,itemsGroup=self.get("itemsGroup"),children=itemsGroup.get("children"),markerItem=void 0;children.forEach(function(child){if(markerItem=findShapeByName(child,"legend-marker")){var checked=child.get("checked");_this.get("highlight")?child.get("value")===value&&checked?markerItem.attr("stroke","#333"):markerItem.attr("stroke",null):child.get("value")===value&&markerItem.attr("fillOpacity",self.get("activeOpacity"))}}),this.get("canvas").draw()},_proto.deactivate=function(){var _this2=this,self=this,itemsGroup=self.get("itemsGroup"),children=itemsGroup.get("children"),markerItem=void 0,unCheckColor=this.get("unCheckColor");children.forEach(function(child){if(markerItem=findShapeByName(child,"legend-marker"))if(_this2.get("highlight")){var oriStroke=markerItem.get("oriStroke"),checked=child.get("checked");oriStroke=oriStroke&&!checked?unCheckColor:"",markerItem.attr("stroke",oriStroke)}else markerItem.attr("fillOpacity",self.get("inactiveOpacity"))}),this.get("canvas").draw()},_proto._onMousemove=function(ev){var item=this._getLegendItem(ev.currentTarget);if(item&&item.get("checked")){var items=this.get("items"),itemhover=new Event("itemhover",ev,!0,!0);itemhover.item=findItem(items,item),itemhover.checked=item.get("checked"),itemhover.currentTarget=ev.currentTarget,this.deactivate(),this.activate(item.get("value")),this.emit("itemhover",itemhover)}else this.deactivate(),this.emit("itemunhover",ev);this.get("canvas").draw()},_proto._onMouseleave=function(ev){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",ev)},_proto._onClick=function(ev){var clickedItem=this._getLegendItem(ev.currentTarget),items=this.get("items");if(clickedItem&&!clickedItem.get("destroyed")){var checked=clickedItem.get("checked"),mode=this.get("selectedMode"),item=findItem(items,clickedItem),itemclick=new Event("itemclick",ev,!0,!0);if(itemclick.item=item,itemclick.currentTarget=clickedItem,itemclick.appendInfo=ev.currentTarget.get("appendInfo"),itemclick.checked="single"===mode||!checked,!this.get("allowAllCanceled")&&checked&&1===this.getCheckedCount())return void this.emit("clicklastitem",itemclick);var unCheckColor=this.get("unCheckColor"),checkColor=this.get("textStyle").fill,markerItem=void 0,textItem=void 0,legendItem=void 0;if("single"===mode){var itemsGroup=this.get("itemsGroup"),children=itemsGroup.get("children");Util.each(children,function(child){markerItem=findShapeByName(child,"legend-marker"),textItem=findShapeByName(child,"legend-text"),legendItem=findShapeByName(child,"legend-item"),child!==clickedItem?(markerItem.attr("fill")&&markerItem.attr("fill",unCheckColor),markerItem.attr("stroke")&&markerItem.attr("stroke",unCheckColor),textItem.attr("fill",unCheckColor),markerItem.setSilent("checked",!1),textItem.setSilent("checked",!1),legendItem.setSilent("checked",!1),child.setSilent("checked",!1)):(markerItem.attr("fill")&&item&&item.marker&&markerItem.attr("fill",item.marker.fill),markerItem.attr("stroke")&&item&&item.marker&&markerItem.attr("stroke",item.marker.stroke),textItem.attr("fill",checkColor),markerItem.setSilent("checked",!0),textItem.setSilent("checked",!0),legendItem.setSilent("checked",!0),child.setSilent("checked",!0))})}else markerItem=findShapeByName(clickedItem,"legend-marker"),textItem=findShapeByName(clickedItem,"legend-text"),legendItem=findShapeByName(clickedItem,"legend-item"),markerItem.attr("fill")&&item&&item.marker&&markerItem.attr("fill",checked?unCheckColor:item.marker.fill),markerItem.attr("stroke")&&item&&item.marker&&markerItem.attr("stroke",checked?unCheckColor:item.marker.stroke),textItem.attr("fill",checked?unCheckColor:checkColor),clickedItem.setSilent("checked",!checked),markerItem.setSilent("checked",!checked),textItem.setSilent("checked",!checked),legendItem.setSilent("checked",!checked);this.emit("itemclick",itemclick)}this.get("canvas").draw()},_proto._renderItems=function(){var _this3=this,items=this.get("items");if(this.get("reversed")&&items.reverse(),Util.each(items,function(item,index){_this3._addItem(item,index)}),this.get("highlight")){var itemsGroup=this.get("itemsGroup"),children=itemsGroup.get("children"),markerItem=void 0;children.forEach(function(child){markerItem=findShapeByName(child,"legend-marker"),markerItem.get("oriStroke")||(markerItem.attr("stroke")?markerItem.set("oriStroke",markerItem.attr("stroke")):markerItem.set("oriStroke",""))})}},_proto._formatItemValue=function(value){var formatter=this.get("formatter")||this.get("itemFormatter");return formatter&&(value=formatter.call(this,value)),value},_proto._getNextX=function(){var layout=this.get("layout"),itemGap=this.get("itemGap"),itemsGroup=this.get("itemsGroup"),itemWidth=this.get("itemWidth"),children=itemsGroup.get("children"),nextX=0;return"horizontal"===layout&&Util.each(children,function(v){nextX+=(itemWidth||v.getBBox().width)+itemGap}),nextX},_proto._getNextY=function(){var itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleShape")?this.get("titleGap"):0,layout=this.get("layout"),itemsGroup=this.get("itemsGroup"),titleShape=this.get("titleShape"),children=itemsGroup.get("children"),nextY=titleGap;return titleShape&&(nextY+=titleShape.getBBox().height),"vertical"===layout&&Util.each(children,function(v){nextY+=v.getBBox().height+itemMarginBottom}),nextY},_proto._addItem=function(item){var itemsGroup=this.get("itemsGroup"),x=this._getNextX(),y=this._getNextY(),unCheckColor=this.get("unCheckColor"),itemGroup=itemsGroup.addGroup({x:x,y:y,value:item.value,checked:item.checked});itemGroup.set("viewId",this.get("viewId"));var textStyle=this.get("textStyle"),wordSpace=this.get("_wordSpaceing"),startX=0;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius+x,y:y});item.checked||(markerAttrs.fill&&(markerAttrs.fill=unCheckColor),markerAttrs.stroke&&(markerAttrs.stroke=unCheckColor));var markerShape=itemGroup.addShape("marker",{type:"marker",attrs:markerAttrs});markerShape.attr("cursor","pointer"),markerShape.name="legend-marker",startX+=markerShape.getBBox().width+wordSpace}var textAttrs=Util.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:FONT_FAMILY},textStyle,{x:startX+x,y:y,text:this._formatItemValue(item.value)});item.checked||Util.mix(textAttrs,{fill:unCheckColor});var textShape=itemGroup.addShape("text",{attrs:textAttrs});textShape.attr("cursor","pointer"),textShape.name="legend-text",this.get("appendInfo")&&textShape.setSilent("appendInfo",this.get("appendInfo"));var bbox=itemGroup.getBBox(),itemWidth=this.get("itemWidth"),wrapperShape=itemGroup.addShape("rect",{attrs:{x:x,y:y-bbox.height/2,fill:"#fff",fillOpacity:0,width:itemWidth||bbox.width,height:bbox.height}});return wrapperShape.attr("cursor","pointer"),wrapperShape.setSilent("origin",item),wrapperShape.name="legend-item",this.get("appendInfo")&&wrapperShape.setSilent("appendInfo",this.get("appendInfo")),itemGroup.name="legendGroup",itemGroup},_proto._adjustHorizontal=function(){var itemsGroup=this.get("itemsGroup"),children=itemsGroup.get("children"),maxLength=this.get("maxLength"),itemGap=this.get("itemGap"),itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleShape")?this.get("titleGap"):0,row=0,rowLength=0,width=void 0,height=void 0,box=void 0,itemWidth=this.get("itemWidth");itemsGroup.getBBox().width>maxLength&&Util.each(children,function(child){box=child.getBBox(),width=itemWidth||box.width,height=box.height+itemMarginBottom,maxLength-rowLength<width&&(row++,rowLength=0),child.move(rowLength,row*height+titleGap),rowLength+=width+itemGap})},_proto._adjustVertical=function(){var itemsGroup=this.get("itemsGroup"),titleShape=this.get("titleShape"),children=itemsGroup.get("children"),maxLength=this.get("maxLength"),itemGap=this.get("itemGap"),itemMarginBottom=this.get("itemMarginBottom"),titleGap=this.get("titleGap"),titleHeight=titleShape?titleShape.getBBox().height+titleGap:0,itemWidth=this.get("itemWidth"),colLength=titleHeight,width=void 0,height=void 0,box=void 0,maxItemWidth=0,totalLength=0;itemsGroup.getBBox().height>maxLength&&Util.each(children,function(v){box=v.getBBox(),width=box.width,height=box.height,itemWidth?maxItemWidth=itemWidth+itemGap:width>maxItemWidth&&(maxItemWidth=width+itemGap),maxLength-colLength<height?(colLength=titleHeight,totalLength+=maxItemWidth,v.move(totalLength,titleHeight)):v.move(totalLength,colLength),colLength+=height+itemMarginBottom})},_proto._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},_proto.getWidth=function(){return _Legend.prototype.getWidth.call(this)},_proto.getHeight=function(){return _Legend.prototype.getHeight.call(this)},_proto.move=function(x,y){_Legend.prototype.move.call(this,x,y)},Category}(Legend);module.exports=Category},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Component=__webpack_require__(32),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,Legend=function(_Component){function Legend(cfg){var _this;return _this=_Component.call(this,cfg)||this,_this._init(),_this.beforeRender(),_this.render(),_this._adjustPositionOffset(),_this._bindEvents(),_this}_inheritsLoose(Legend,_Component);var _proto=Legend.prototype;return _proto.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},_proto._init=function(){var group=this.get("group"),container=this.get("container");this.set("canvas",container.get("canvas"));var position=this.get("position");group||(group=container.addGroup({x:0-position[0],y:0-position[1]})),this.set("group",group)},_proto._adjustPositionOffset=function(){var position=this.get("position"),offset=this.get("offset"),offsetX=this.get("offsetX"),offsetY=this.get("offsetY");if(!Util.isArray(offset)){offset="vertical"===this.get("layout")?[offset,0]:[0,offset]}offsetX&&(offset[0]=offsetX),offsetY&&(offset[1]=offsetY);var bbox=this.get("group").getBBox();this.move(-bbox.minX+position[0]+offset[0],-bbox.minY+position[1]+offset[1])},_proto.beforeRender=function(){var group=this.get("group"),itemsGroup=group.addGroup();this.set("itemsGroup",itemsGroup)},_proto.render=function(){this._renderTitle()},_proto._renderTitle=function(){var title=this.get("title"),titleGap=this.get("titleGap");if(titleGap=titleGap||0,title&&title.text){var group=this.get("group"),titleShape=group.addShape("text",{attrs:Util.mix({x:0,y:0-titleGap,fill:"#333",textBaseline:"middle",fontFamily:FONT_FAMILY},title)});titleShape.name="legend-title",this.get("appendInfo")&&titleShape.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",titleShape)}},_proto.getCheckedCount=function(){var itemsGroup=this.get("itemsGroup"),items=itemsGroup.get("children");return Util.filter(items,function(item){return item.get("checked")}).length},_proto.setItems=function(items){this.set("items",items),this.clear(),this.render()},_proto.addItem=function(item){this.get("items").push(item),this.clear(),this.render()},_proto.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},_proto.destroy=function(){this.get("group").destroy(),this._attrs={},this.removeAllListeners(),this.destroyed=!0},_proto.getWidth=function(){return this.get("group").getBBox().width},_proto.getHeight=function(){return this.get("group").getBBox().height},_proto.move=function(x,y){this.get("group").move(x,y)},_proto.draw=function(){this.get("canvas").draw()},Legend}(Component);module.exports=Legend},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function findNodeByClass(node,className){return node.getElementsByClassName(className)[0]}function getParentNode(node,className){var nodeClass=node.className;return Util.isNil(nodeClass)?node:(nodeClass=nodeClass.split(" "),nodeClass.indexOf(className)>-1?node:node.parentNode?node.parentNode.className===CONTAINER_CLASS?node.parentNode:getParentNode(node.parentNode,className):null)}function findItem(items,refer){var rst=null,value=refer instanceof Group?refer.get("value"):refer;return Util.each(items,function(item){if(item.value===value)return rst=item,!1}),rst}var Util=__webpack_require__(3),Category=__webpack_require__(157),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,DomUtil=Util.DomUtil,Group=Util.Group,CONTAINER_CLASS="g2-legend",LIST_CLASS="g2-legend-list",ITEM_CLASS="g2-legend-list-item",MARKER_CLASS="g2-legend-marker",CatHtml=function(_Category){function CatHtml(){return _Category.apply(this,arguments)||this}_inheritsLoose(CatHtml,_Category);var _proto=CatHtml.prototype;return _proto.getDefaultCfg=function(){var cfg=_Category.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-legend",container:null,containerTpl:'<div class="'+CONTAINER_CLASS+'"><h4 class="g2-legend-title"></h4><ul class="'+LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+ITEM_CLASS+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+MARKER_CLASS+'" style="background-color:{color};"></i><span class="g2-legend-text">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:FONT_FAMILY},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},_proto._init=function(){},_proto.beforeRender=function(){},_proto.render=function(){this._renderHTML()},_proto._bindEvents=function(){var _this=this,legendWrapper=this.get("legendWrapper"),itemListDom=findNodeByClass(legendWrapper,LIST_CLASS);this.get("hoverable")&&(itemListDom.onmousemove=function(ev){return _this._onMousemove(ev)},itemListDom.onmouseout=function(ev){return _this._onMouseleave(ev)}),this.get("clickable")&&(itemListDom.onclick=function(ev){return _this._onClick(ev)})},_proto._onMousemove=function(ev){var items=this.get("items"),target=ev.target,targetClass=target.className;if(targetClass=targetClass.split(" "),!(targetClass.indexOf(CONTAINER_CLASS)>-1||targetClass.indexOf(LIST_CLASS)>-1)){var parentDom=getParentNode(target,ITEM_CLASS),hoveredItem=findItem(items,parentDom.getAttribute("data-value"));hoveredItem?(this.deactivate(),this.activate(parentDom.getAttribute("data-value")),this.emit("itemhover",{item:hoveredItem,currentTarget:parentDom,checked:hoveredItem.checked})):hoveredItem||(this.deactivate(),this.emit("itemunhover",ev))}},_proto._onMouseleave=function(ev){this.deactivate(),this.emit("itemunhover",ev)},_proto._onClick=function(ev){var _this2=this,legendWrapper=this.get("legendWrapper"),itemListDom=findNodeByClass(legendWrapper,LIST_CLASS),unCheckedColor=this.get("unCheckColor"),items=this.get("items"),mode=this.get("selectedMode"),childNodes=itemListDom.childNodes,target=ev.target,targetClass=target.className;if(targetClass=targetClass.split(" "),!(targetClass.indexOf(CONTAINER_CLASS)>-1||targetClass.indexOf(LIST_CLASS)>-1)){var parentDom=getParentNode(target,ITEM_CLASS),textDom=findNodeByClass(parentDom,"g2-legend-text"),markerDom=findNodeByClass(parentDom,MARKER_CLASS),clickedItem=findItem(items,parentDom.getAttribute("data-value"));if(clickedItem){var domClass=parentDom.className,originColor=parentDom.getAttribute("data-color");if("single"===mode)clickedItem.checked=!0,Util.each(childNodes,function(child){if(child!==parentDom){findNodeByClass(child,MARKER_CLASS).style.backgroundColor=unCheckedColor,child.className=child.className.replace("checked","unChecked"),child.style.color=unCheckedColor;findItem(items,child.getAttribute("data-value")).checked=!1}else textDom&&(textDom.style.color=_this2.get("textStyle").fill),markerDom&&(markerDom.style.backgroundColor=originColor),parentDom.className=domClass.replace("unChecked","checked")});else{var clickedItemChecked=-1!==domClass.indexOf("checked"),count=0;if(Util.each(childNodes,function(child){-1!==child.className.indexOf("checked")&&count++}),!this.get("allowAllCanceled")&&clickedItemChecked&&1===count)return void this.emit("clicklastitem",{item:clickedItem,currentTarget:parentDom,checked:"single"===mode||clickedItem.checked});clickedItem.checked=!clickedItem.checked,clickedItemChecked?(markerDom&&(markerDom.style.backgroundColor=unCheckedColor),parentDom.className=domClass.replace("checked","unChecked"),parentDom.style.color=unCheckedColor):(markerDom&&(markerDom.style.backgroundColor=originColor),parentDom.className=domClass.replace("unChecked","checked"),parentDom.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:clickedItem,currentTarget:parentDom,checked:"single"===mode||clickedItem.checked})}}},_proto.activate=function(value){var _this3=this,self=this,items=self.get("items"),item=findItem(items,value);findNodeByClass(self.get("legendWrapper"),LIST_CLASS).childNodes.forEach(function(child){var childMarkerDom=findNodeByClass(child,MARKER_CLASS),childItem=findItem(items,child.getAttribute("data-value"));if(_this3.get("highlight")){if(childItem===item&&childItem.checked)return void(childMarkerDom.style.border="1px solid #333")}else childItem===item?childMarkerDom.style.opacity=self.get("activeOpacity"):childItem.checked&&(childMarkerDom.style.opacity=self.get("inactiveOpacity"))})},_proto.deactivate=function(){var _this4=this,self=this;findNodeByClass(self.get("legendWrapper"),LIST_CLASS).childNodes.forEach(function(child){var childMarkerDom=findNodeByClass(child,MARKER_CLASS);_this4.get("highlight")?childMarkerDom.style.border="1px solid #fff":childMarkerDom.style.opacity=self.get("inactiveOpacity")})},_proto._renderHTML=function(){var _this5=this,container=this.get("container"),title=this.get("title"),containerTpl=this.get("containerTpl"),legendWrapper=DomUtil.createDom(containerTpl),titleDom=findNodeByClass(legendWrapper,"g2-legend-title"),itemListDom=findNodeByClass(legendWrapper,LIST_CLASS),unCheckedColor=this.get("unCheckColor"),LEGEND_STYLE=Util.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:FONT_FAMILY},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(container)||"string"==typeof container&&container.constructor===String){var id=container.replace("#","");container=document.getElementById(id),container.appendChild(legendWrapper)}else{var _position=this.get("position"),rangeStyle={};rangeStyle="left"===_position||"right"===_position?{maxHeight:(this.get("maxLength")||container.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||container.offsetWidth)+"px"},DomUtil.modifyCSS(legendWrapper,Util.mix({},LEGEND_STYLE.CONTAINER_CLASS,rangeStyle,this.get(CONTAINER_CLASS))),container.appendChild(legendWrapper)}DomUtil.modifyCSS(itemListDom,Util.mix({},LEGEND_STYLE.LIST_CLASS,this.get(LIST_CLASS))),titleDom&&(title&&title.text?(titleDom.innerHTML=title.text,DomUtil.modifyCSS(titleDom,Util.mix({},LEGEND_STYLE.TITLE_CLASS,this.get("g2-legend-title"),title))):legendWrapper.removeChild(titleDom));var items=this.get("items"),itemTpl=this.get("itemTpl"),position=this.get("position"),layout=this.get("layout"),itemDisplay="right"===position||"left"===position||"vertical"===layout?"block":"inline-block",itemStyle=Util.mix({},LEGEND_STYLE.LIST_ITEM_CLASS,{display:itemDisplay},this.get(ITEM_CLASS)),markerStyle=Util.mix({},LEGEND_STYLE.MARKER_CLASS,this.get(MARKER_CLASS));if(Util.each(items,function(item,index){var domStr,checked=item.checked,value=_this5._formatItemValue(item.value),markerColor=item.marker.fill||item.marker.stroke,color=checked?markerColor:unCheckedColor;domStr=Util.isFunction(itemTpl)?itemTpl(value,color,checked,index):itemTpl;var itemDiv=Util.substitute(domStr,Util.mix({},item,{index:index,checked:checked?"checked":"unChecked",value:value,color:color,originColor:markerColor,originValue:item.value.replace(/\"/g,"&quot;")})),itemDom=DomUtil.createDom(itemDiv);itemDom.style.color=_this5.get("textStyle").fill;var markerDom=findNodeByClass(itemDom,MARKER_CLASS),textDom=findNodeByClass(itemDom,"g2-legend-text");if(DomUtil.modifyCSS(itemDom,itemStyle),markerDom&&DomUtil.modifyCSS(markerDom,markerStyle),checked||(itemDom.style.color=unCheckedColor,markerDom&&(markerDom.style.backgroundColor=unCheckedColor)),itemListDom.appendChild(itemDom),_this5.get("abridgeText")){var text=value,itemWidth=itemDom.offsetWidth,fs=_this5.get("textStyle").fontSize;isNaN(fs)&&(-1!==fs.indexOf("pt")?fs=1*parseFloat(fs.substr(0,fs.length-2))/72*96:-1!==fs.indexOf("px")&&(fs=parseFloat(fs.substr(0,fs.length-2))));var textWidth=fs*text.length,letterNum=Math.floor(itemWidth/fs);itemWidth<2*fs?text="":itemWidth<textWidth&&letterNum>1&&(text=text.substr(0,letterNum-1)+"..."),textDom.innerText=text,itemDom.addEventListener("mouseover",function(){var tipDom=findNodeByClass(legendWrapper.parentNode,"textTip");tipDom.style.display="block",tipDom.style.left=itemDom.offsetLeft+itemDom.offsetWidth+"px",tipDom.style.top=itemDom.offsetTop+15+"px",tipDom.innerText=value}),itemDom.addEventListener("mouseout",function(){findNodeByClass(legendWrapper.parentNode,"textTip").style.display="none"})}}),this.get("abridgeText")){var tipTpl=this.get("tipTpl"),tipDom=DomUtil.createDom(tipTpl),tipDomStyle=this.get("tipStyle");DomUtil.modifyCSS(tipDom,tipDomStyle),legendWrapper.parentNode.appendChild(tipDom),tipDom.addEventListener("mouseover",function(){tipDom.style.display="none"})}this.set("legendWrapper",legendWrapper)},_proto._adjustPositionOffset=function(){if(!1!==this.get("autoPosition")){var position=this.get("position"),offset=this.get("offset"),offsetX=this.get("offsetX"),offsetY=this.get("offsetY");offsetX&&(offset[0]=offsetX),offsetY&&(offset[1]=offsetY);var legendWrapper=this.get("legendWrapper");legendWrapper.style.left=position[0]+"px",legendWrapper.style.top=position[1]+"px",legendWrapper.style.marginLeft=offset[0]+"px",legendWrapper.style.marginTop=offset[1]+"px"}},_proto.getWidth=function(){return DomUtil.getOuterWidth(this.get("legendWrapper"))},_proto.getHeight=function(){return DomUtil.getOuterHeight(this.get("legendWrapper"))},_proto.move=function(x,y){/^\#/.test(this.get("container"))?_Category.prototype.move.call(this,x,y):(DomUtil.modifyCSS(this.get("legendWrapper"),{left:x+"px",top:y+"px"}),this.set("x",x),this.set("y",y))},_proto.destroy=function(){var legendWrapper=this.get("legendWrapper");legendWrapper&&legendWrapper.parentNode&&legendWrapper.parentNode.removeChild(legendWrapper)},CatHtml}(Category);module.exports=CatHtml},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Component=__webpack_require__(32),Util=__webpack_require__(3),Crosshair=function(_Component){function Crosshair(cfg){var _this;return _this=_Component.call(this,cfg)||this,_this._init_(),_this.render(),_this}_inheritsLoose(Crosshair,_Component);var _proto=Crosshair.prototype;return _proto.getDefaultCfg=function(){var cfg=_Component.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},_proto._init_=function(){var group,self=this,plot=self.get("plot");group="rect"===self.type?plot.addGroup({zIndex:0}):plot.addGroup(),this.set("container",group)},_proto._addLineShape=function(attrs,type){var container=this.get("container"),shape=container.addShape("line",{capture:!1,attrs:attrs});return this.set("crossLineShape"+type,shape),shape},_proto._renderHorizontalLine=function(canvas,plotRange){var style=Util.mix(this.get("lineStyle"),this.get("style")),attrs=Util.mix({x1:plotRange?plotRange.bl.x:canvas.get("width"),y1:0,x2:plotRange?plotRange.br.x:0,y2:0},style);this._addLineShape(attrs,"X")},_proto._renderVerticalLine=function(canvas,plotRange){var style=Util.mix(this.get("lineStyle"),this.get("style")),attrs=Util.mix({x1:0,y1:plotRange?plotRange.bl.y:canvas.get("height"),x2:0,y2:plotRange?plotRange.tl.y:0},style);this._addLineShape(attrs,"Y")},_proto._renderBackground=function(canvas,plotRange){var style=Util.mix(this.get("rectStyle"),this.get("style")),container=this.get("container"),attrs=Util.mix({x:plotRange?plotRange.tl.x:0,y:plotRange?plotRange.tl.y:canvas.get("height"),width:plotRange?plotRange.br.x-plotRange.bl.x:canvas.get("width"),height:plotRange?Math.abs(plotRange.tl.y-plotRange.bl.y):canvas.get("height")},style),shape=container.addShape("rect",{attrs:attrs,capture:!1});return this.set("crosshairsRectShape",shape),shape},_proto._updateRectShape=function(items){var offset,crosshairsRectShape=this.get("crosshairsRectShape"),isTransposed=this.get("isTransposed"),firstItem=items[0],lastItem=items[items.length-1],dim=isTransposed?"y":"x",attr=isTransposed?"height":"width",startDim=firstItem[dim];if(items.length>1&&firstItem[dim]>lastItem[dim]&&(startDim=lastItem[dim]),this.get("width"))crosshairsRectShape.attr(dim,startDim-this.get("crosshairs").width/2),crosshairsRectShape.attr(attr,this.get("width"));else if(Util.isArray(firstItem.point[dim])&&!firstItem.size){var width=firstItem.point[dim][1]-firstItem.point[dim][0];crosshairsRectShape.attr(dim,firstItem.point[dim][0]),crosshairsRectShape.attr(attr,width)}else offset=3*firstItem.size/4,crosshairsRectShape.attr(dim,startDim-offset),1===items.length?crosshairsRectShape.attr(attr,3*firstItem.size/2):crosshairsRectShape.attr(attr,Math.abs(lastItem[dim]-firstItem[dim])+2*offset)},_proto.render=function(){var canvas=this.get("canvas"),plotRange=this.get("plotRange"),isTransposed=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(canvas,plotRange);break;case"y":this._renderVerticalLine(canvas,plotRange);break;case"cross":this._renderHorizontalLine(canvas,plotRange),this._renderVerticalLine(canvas,plotRange);break;case"rect":this._renderBackground(canvas,plotRange);break;default:isTransposed?this._renderHorizontalLine(canvas,plotRange):this._renderVerticalLine(canvas,plotRange)}},_proto.show=function(){var container=this.get("container");_Component.prototype.show.call(this),container.show()},_proto.hide=function(){var container=this.get("container");_Component.prototype.hide.call(this),container.hide()},_proto.clear=function(){var container=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),_Component.prototype.clear.call(this),container.clear()},_proto.destroy=function(){var container=this.get("container");_Component.prototype.destroy.call(this),container.remove()},_proto.setPosition=function(x,y,items){var crossLineShapeX=this.get("crossLineShapeX"),crossLineShapeY=this.get("crossLineShapeY"),crosshairsRectShape=this.get("crosshairsRectShape");crossLineShapeY&&!crossLineShapeY.get("destroyed")&&crossLineShapeY.move(x,0),crossLineShapeX&&!crossLineShapeX.get("destroyed")&&crossLineShapeX.move(0,y),crosshairsRectShape&&!crosshairsRectShape.get("destroyed")&&this._updateRectShape(items)},Crosshair}(Component);module.exports=Crosshair},function(module,exports){var PositionMixin={_calcTooltipPosition:function(x,y,position,containerWidth,containerHeight,target){var rectWidth=0,rectHeight=0,gap=20;if(target){var rect=target.getBBox();rectWidth=rect.width,rectHeight=rect.height,x=rect.x,y=rect.y,gap=5}switch(position){case"inside":x=x+rectWidth/2-containerWidth/2,y=y+rectHeight/2-containerHeight/2;break;case"top":x=x+rectWidth/2-containerWidth/2,y=y-containerHeight-gap;break;case"left":x=x-containerWidth-gap,y=y+rectHeight/2-containerHeight/2;break;case"right":x=x+rectWidth+gap,y=y+rectHeight/2-containerHeight/2;break;case"bottom":default:x=x+rectWidth/2-containerWidth/2,y=y+rectHeight+gap}return[x,y]},_constraintPositionInBoundary:function(x,y,width,height,viewWidth,viewHeight){return x+width+20>viewWidth?(x-=width+20,x=x<0?0:x):x+20<0?x=20:x+=20,y+height+20>viewHeight?(y-=height+20,y=y<0?0:y):y+20<0?y=20:y+=20,[x,y]},_constraintPositionInPlot:function(x,y,width,height,plotRange,onlyHorizontal){return x+width>plotRange.tr.x&&(x-=width+40),x<plotRange.tl.x&&(x=plotRange.tl.x),onlyHorizontal||(y+height>plotRange.bl.y&&(y-=height+40),y<plotRange.tl.y&&(y=plotRange.tl.y)),[x,y]}};module.exports=PositionMixin},function(module,exports,__webpack_require__){var Util=__webpack_require__(3),MarkerGroupMixin={setMarkers:function(markerItems,markerCfg){var self=this,markerGroup=self.get("markerGroup"),frontPlot=self.get("frontPlot");markerGroup?markerGroup.clear():(markerGroup=frontPlot.addGroup({zIndex:1,capture:!1}),self.set("markerGroup",markerGroup)),Util.each(markerItems,function(item){markerGroup.addShape("marker",{color:item.color,attrs:Util.mix({fill:item.color,symbol:"circle",shadowColor:item.color},markerCfg,{x:item.x,y:item.y})})}),this.set("markerItems",markerItems)},clearMarkers:function(){var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.clear()}};module.exports=MarkerGroupMixin},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var G=__webpack_require__(25),Crosshair=__webpack_require__(160),MarkerGroupMixin=__webpack_require__(162),PositionMixin=__webpack_require__(161),Tooltip=__webpack_require__(68),Util=__webpack_require__(3),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,DomUtil=Util.DomUtil,MatrixUtil=Util.MatrixUtil,CanvasTooltip=function(_Tooltip){function CanvasTooltip(cfg){var _this;_this=_Tooltip.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),PositionMixin),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),MarkerGroupMixin);var crosshair=_this.get("crosshairs");if(crosshair){var plot="rect"===crosshair.type?_this.get("backPlot"):_this.get("frontPlot"),crosshairGroup=new Crosshair(Util.mix({plot:plot,plotRange:_this.get("plotRange"),canvas:_this.get("canvas")},_this.get("crosshairs")));crosshairGroup.hide(),_this.set("crosshairGroup",crosshairGroup)}return _this._init_(),_this.get("items")&&_this.render(),_this}_inheritsLoose(CanvasTooltip,_Tooltip);var _proto=CanvasTooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_Tooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:FONT_FAMILY,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:FONT_FAMILY,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:FONT_FAMILY,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},_proto._init_=function(){var self=this,padding=self.get("padding"),parent=self.get("frontPlot"),markerGroup=parent.addGroup({capture:!1});self.set("markerGroup",markerGroup);var container=parent.addGroup();container.hide(),self.set("container",container);var board=container.addShape("rect",{attrs:Util.mix({},self.get("boardStyle"))});self.set("board",board);var titleStyle=self.get("titleStyle");if(self.get("showTitle")){var titleShape=container.addShape("text",{attrs:Util.mix({x:padding.left,y:padding.top},titleStyle)});self.set("titleShape",titleShape),titleShape.name="tooltip-title"}var itemsGroup=container.addGroup();itemsGroup.move(padding.left,padding.top+titleStyle.lineHeight+titleStyle.padding),self.set("itemsGroup",itemsGroup)},_proto.render=function(){var self=this;self.clear();var container=self.get("container"),board=self.get("board"),showTitle=self.get("showTitle"),titleContent=self.get("titleContent"),titleShape=this.get("titleShape"),itemsGroup=this.get("itemsGroup"),items=self.get("items"),padding=self.get("padding");if(titleShape&&showTitle&&titleShape.attr("text",titleContent),itemsGroup){var itemGap=self.get("itemGap"),y=0;Util.each(items,function(item){var itemGroup=self._addItem(item);itemGroup.move(0,y),itemsGroup.add(itemGroup);var itemHeight=itemGroup.getBBox().height;y+=itemHeight+itemGap})}var bbox=container.getBBox(),width=bbox.width+padding.right,height=bbox.height+padding.bottom;board.attr("width",width),board.attr("height",height),self._alignToRight(width)},_proto.clear=function(){var titleShape=this.get("titleShape"),itemsGroup=this.get("itemsGroup"),board=this.get("board");titleShape.text="",itemsGroup.clear(),board.attr("width",0),board.attr("height",0)},_proto.show=function(){this.get("container").show();var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.show();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.show(),_Tooltip.prototype.show.call(this),this.get("canvas").draw()},_proto.hide=function(){this.get("container").hide();var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.hide();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.hide(),_Tooltip.prototype.hide.call(this),this.get("canvas").draw()},_proto.destroy=function(){var container=this.get("container"),crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.destroy();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.remove(),_Tooltip.prototype.destroy.call(this),container.remove()},_proto.setPosition=function(x,y,target){var position,container=this.get("container"),outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode),bbox=container.getBBox(),containerWidth=bbox.width,containerHeight=bbox.height,endx=x,endy=y;if(this.get("position")){var _containerWidth=bbox.width,_containerHeight=bbox.height;position=this._calcTooltipPosition(x,y,this.get("position"),_containerWidth,_containerHeight,target),x=position[0],y=position[1]}else position=this._constraintPositionInBoundary(x,y,containerWidth,containerHeight,viewWidth,viewHeight),x=position[0],y=position[1];if(this.get("inPlot")){var plotRange=this.get("plotRange");position=this._constraintPositionInPlot(x,y,containerWidth,containerHeight,plotRange,this.get("enterable")),x=position[0],y=position[1]}var markerItems=this.get("markerItems");Util.isEmpty(markerItems)||(endx=markerItems[0].x,endy=markerItems[0].y);var ulMatrix=[1,0,0,0,1,0,0,0,1],mat=MatrixUtil.transform(ulMatrix,[["t",x,y]]);container.stopAnimate(),container.animate({matrix:mat},this.get("animationDuration"));var crosshairGroup=this.get("crosshairGroup");if(crosshairGroup){var items=this.get("items");crosshairGroup.setPosition(endx,endy,items)}_Tooltip.prototype.setPosition.call(this,x,y)},_proto._addItem=function(item){var group=new G.Group,markerRadius=this.get("markerStyle").radius;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius/2,y:0});group.addShape("marker",{attrs:markerAttrs}),markerRadius=item.marker.radius}var nameStyle=this.get("nameStyle");group.addShape("text",{attrs:Util.mix({x:markerRadius+nameStyle.padding,y:0,text:item.name},nameStyle)});var valueStyle=this.get("valueStyle");return group.addShape("text",{attrs:Util.mix({x:group.getBBox().width+valueStyle.padding,y:0,text:item.value},valueStyle)}),group},_proto._alignToRight=function(width){var _this2=this,itemsGroup=this.get("itemsGroup"),groups=itemsGroup.get("children");Util.each(groups,function(g){var children=g.get("children"),valueText=children[2],w=valueText.getBBox().width,x=width-w-2*_this2.get("padding").right;valueText.attr("x",x)})},CanvasTooltip}(Tooltip);module.exports=CanvasTooltip},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Labels=__webpack_require__(65),PathUtil=__webpack_require__(22),Util=__webpack_require__(0),PolarLabels=function(_Labels){function PolarLabels(){return _Labels.apply(this,arguments)||this}_inheritsLoose(PolarLabels,_Labels);var _proto=PolarLabels.prototype;return _proto.getPointRauis=function(coord,point){return PathUtil.getPointRadius(coord,point)},_proto.getCirclePoint=function(angle,offset,point){var self=this,coord=self.get("coord"),center=coord.getCenter(),labelEmit=self._isEmitLabels(),r=self.getPointRauis(coord,point);if(0===r)return null;if(coord.isTransposed&&r>offset&&!labelEmit){angle+=2*Math.asin(offset/(2*r))}else r+=offset;return{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle),angle:angle,r:r}},_proto.getArcPoint=function(point,index){var outerPoint,self=this;return index=index||0,outerPoint=Util.isArray(point.x)||Util.isArray(point.y)?{x:Util.isArray(point.x)?point.x[index]:point.x,y:Util.isArray(point.y)?point.y[index]:point.y}:point,self.transLabelPoint(outerPoint),outerPoint},_proto.getPointAngle=function(point){var self=this,coord=self.get("coord");return PathUtil.getPointAngle(coord,point)},_proto.getMiddlePoint=function(points){var self=this,coord=self.get("coord"),count=points.length,middlePoint={x:0,y:0};return Util.each(points,function(point){middlePoint.x+=point.x,middlePoint.y+=point.y}),middlePoint.x/=count,middlePoint.y/=count,middlePoint=coord.convert(middlePoint)},_proto._isToMiddle=function(point){return point.x.length>2},_proto.getLabelPoint=function(label,point,index){var arcPoint,self=this,text=label.text[index],factor=1;self._isToMiddle(point)?arcPoint=self.getMiddlePoint(point.points):(1===label.text.length&&0===index?index=1:0===index&&(factor=-1),arcPoint=self.getArcPoint(point,index));var offset=self.getDefaultOffset(label);offset*=factor;var middleAngle=self.getPointAngle(arcPoint),labelPoint=self.getCirclePoint(middleAngle,offset,arcPoint);if(labelPoint?(labelPoint.text=text,labelPoint.angle=middleAngle,labelPoint.color=point.color):labelPoint={text:""},label.autoRotate||void 0===label.autoRotate){var rotate=labelPoint.textStyle?labelPoint.textStyle.rotate:null;rotate||(rotate=labelPoint.rotate||self.getLabelRotate(middleAngle,offset,point)),labelPoint.rotate=rotate}return labelPoint.start={x:arcPoint.x,y:arcPoint.y},labelPoint},_proto._isEmitLabels=function(){return this.get("label").labelEmit},_proto.getLabelRotate=function(angle){var rotate,self=this;return rotate=180*angle/Math.PI,rotate+=90,self._isEmitLabels()&&(rotate-=90),rotate&&(rotate>90?rotate-=180:rotate<-90&&(rotate+=180)),rotate/180*Math.PI},_proto.getLabelAlign=function(point){var align,self=this,coord=self.get("coord");if(self._isEmitLabels())align=point.angle<=Math.PI/2&&point.angle>-Math.PI/2?"left":"right";else if(coord.isTransposed){var center=coord.getCenter(),offset=self.getDefaultOffset(point);align=Math.abs(point.x-center.x)<1?"center":point.angle>Math.PI||point.angle<=0?offset>0?"left":"right":offset>0?"right":"left"}else align="center";return align},PolarLabels}(Labels);module.exports=PolarLabels},function(module,exports,__webpack_require__){module.exports={Scale:__webpack_require__(341),Coord:__webpack_require__(342),Axis:__webpack_require__(347),Guide:__webpack_require__(348),Legend:__webpack_require__(351),Tooltip:__webpack_require__(353),Event:__webpack_require__(354)}},function(module,exports,__webpack_require__){function applyMatrix(point,matrix,tag){void 0===tag&&(tag=1);var vector=[point.x,point.y,tag];return Util.vec3.transformMat3(vector,vector,matrix),{x:vector[0],y:vector[1]}}function getTitleBBox(title){var bbox=title.getBBox(),leftTop={x:bbox.minX,y:bbox.minY},rightBottom={x:bbox.maxX,y:bbox.maxY},matrix=title.attr("matrix");return leftTop=applyMatrix(leftTop,matrix),rightBottom=applyMatrix(rightBottom,matrix),{minX:leftTop.x,minY:leftTop.y,maxX:rightBottom.x,maxY:rightBottom.y}}var G=__webpack_require__(16),Util=__webpack_require__(0),mergeBBox=__webpack_require__(167);module.exports=function(backPlot,defaultBBox){var bbox=defaultBBox;return Util.each(backPlot.get("children"),function(element){if(element instanceof G.Group&&element.get("children").length||element instanceof G.Path)bbox=mergeBBox(bbox,element.getBBox());else if(element instanceof G.Text){var elementBBox=getTitleBBox(element),dx=Math.abs(elementBBox.maxX-elementBBox.minX),dy=Math.abs(elementBBox.maxY-elementBBox.minY);bbox=dx<dy?mergeBBox(bbox,Util.mix(bbox,{minX:Math.min(bbox.minX,elementBBox.minX),maxX:Math.max(bbox.maxX,elementBBox.maxX)})):mergeBBox(bbox,Util.mix(bbox,{minY:Math.min(bbox.minY,elementBBox.minY),maxY:Math.max(bbox.maxY,elementBBox.maxY)}))}}),bbox}},function(module,exports){module.exports=function(box1,box2){return{minX:Math.min(box1.minX,box2.minX),minY:Math.min(box1.minY,box2.minY),maxX:Math.max(box1.maxX,box2.maxX),maxY:Math.max(box1.maxY,box2.maxY)}}},function(module,exports){module.exports=function(plotRange){return{minX:plotRange.tl.x,minY:plotRange.tl.y,maxX:plotRange.br.x,maxY:plotRange.br.y}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function transition(name){return Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection)().transition(name)}function newId(){return++id}__webpack_exports__.a=Transition,__webpack_exports__.b=transition,__webpack_exports__.c=newId;var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__attr__=__webpack_require__(441),__WEBPACK_IMPORTED_MODULE_2__attrTween__=__webpack_require__(442),__WEBPACK_IMPORTED_MODULE_3__delay__=__webpack_require__(443),__WEBPACK_IMPORTED_MODULE_4__duration__=__webpack_require__(444),__WEBPACK_IMPORTED_MODULE_5__ease__=__webpack_require__(445),__WEBPACK_IMPORTED_MODULE_6__filter__=__webpack_require__(446),__WEBPACK_IMPORTED_MODULE_7__merge__=__webpack_require__(447),__WEBPACK_IMPORTED_MODULE_8__on__=__webpack_require__(448),__WEBPACK_IMPORTED_MODULE_9__remove__=__webpack_require__(449),__WEBPACK_IMPORTED_MODULE_10__select__=__webpack_require__(450),__WEBPACK_IMPORTED_MODULE_11__selectAll__=__webpack_require__(451),__WEBPACK_IMPORTED_MODULE_12__selection__=__webpack_require__(452),__WEBPACK_IMPORTED_MODULE_13__style__=__webpack_require__(453),__WEBPACK_IMPORTED_MODULE_14__styleTween__=__webpack_require__(454),__WEBPACK_IMPORTED_MODULE_15__text__=__webpack_require__(455),__WEBPACK_IMPORTED_MODULE_16__transition__=__webpack_require__(456),__WEBPACK_IMPORTED_MODULE_17__tween__=__webpack_require__(362),id=0,selection_prototype=__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype;Transition.prototype=transition.prototype={constructor:Transition,select:__WEBPACK_IMPORTED_MODULE_10__select__.a,selectAll:__WEBPACK_IMPORTED_MODULE_11__selectAll__.a,filter:__WEBPACK_IMPORTED_MODULE_6__filter__.a,merge:__WEBPACK_IMPORTED_MODULE_7__merge__.a,selection:__WEBPACK_IMPORTED_MODULE_12__selection__.a,transition:__WEBPACK_IMPORTED_MODULE_16__transition__.a,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:__WEBPACK_IMPORTED_MODULE_8__on__.a,attr:__WEBPACK_IMPORTED_MODULE_1__attr__.a,attrTween:__WEBPACK_IMPORTED_MODULE_2__attrTween__.a,style:__WEBPACK_IMPORTED_MODULE_13__style__.a,styleTween:__WEBPACK_IMPORTED_MODULE_14__styleTween__.a,text:__WEBPACK_IMPORTED_MODULE_15__text__.a,remove:__WEBPACK_IMPORTED_MODULE_9__remove__.a,tween:__WEBPACK_IMPORTED_MODULE_17__tween__.a,delay:__WEBPACK_IMPORTED_MODULE_3__delay__.a,duration:__WEBPACK_IMPORTED_MODULE_4__duration__.a,ease:__WEBPACK_IMPORTED_MODULE_5__ease__.a}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_timer__=__webpack_require__(58);__webpack_require__.d(__webpack_exports__,"now",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.b}),__webpack_require__.d(__webpack_exports__,"timer",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.c}),__webpack_require__.d(__webpack_exports__,"timerFlush",function(){return __WEBPACK_IMPORTED_MODULE_0__src_timer__.d});var __WEBPACK_IMPORTED_MODULE_1__src_timeout__=__webpack_require__(191);__webpack_require__.d(__webpack_exports__,"timeout",function(){return __WEBPACK_IMPORTED_MODULE_1__src_timeout__.a});var __WEBPACK_IMPORTED_MODULE_2__src_interval__=__webpack_require__(192);__webpack_require__.d(__webpack_exports__,"interval",function(){return __WEBPACK_IMPORTED_MODULE_2__src_interval__.a})},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),DomUtil=Util.DomUtil,EVENT_TYPES=["start","process","end","reset"],Interaction=function(){function Interaction(cfg,view){var me=this,defaultCfg=me.getDefaultCfg();Util.assign(me,defaultCfg,cfg),me.view=me.chart=view,me.canvas=view.get("canvas"),me._bindEvents()}var _proto=Interaction.prototype;return _proto.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},_proto._start=function(ev){var me=this;me.preStart&&me.preStart(ev),me.start(ev),me.onStart&&me.onStart(ev)},_proto._process=function(ev){var me=this;me.preProcess&&me.preProcess(ev),me.process(ev),me.onProcess&&me.onProcess(ev)},_proto._end=function(ev){var me=this;me.preEnd&&me.preEnd(ev),me.end(ev),me.onEnd&&me.onEnd(ev)},_proto._reset=function(ev){var me=this;me.preReset&&me.preReset(ev),me.reset(ev),me.onReset&&me.onReset(ev)},_proto.start=function(){},_proto.process=function(){},_proto.end=function(){},_proto.reset=function(){},_proto._bindEvents=function(){var me=this,canvas=me.canvas,canvasDOM=canvas.get("canvasDOM");me._clearEvents(),Util.each(EVENT_TYPES,function(type){var ucType=Util.upperFirst(type);me["_on"+ucType+"Listener"]=DomUtil.addEventListener(canvasDOM,me[type+"Event"],Util.wrapBehavior(me,"_"+type))})},_proto._clearEvents=function(){var me=this;Util.each(EVENT_TYPES,function(type){var listenerName="_on"+Util.upperFirst(type)+"Listener";me[listenerName]&&me[listenerName].remove()})},_proto.destroy=function(){this._clearEvents()},Interaction}();module.exports=Interaction},function(module,exports,__webpack_require__){var Scale=__webpack_require__(74),G=__webpack_require__(16),Animate=__webpack_require__(126),Chart=__webpack_require__(147),Global=__webpack_require__(7),Shape=__webpack_require__(18),Util=__webpack_require__(0),G2={version:Global.version,Animate:Animate,Chart:Chart,Global:Global,Scale:Scale,Shape:Shape,Util:Util,G:G,DomUtil:Util.DomUtil,MatrixUtil:Util.MatrixUtil,PathUtil:Util.PathUtil};G2.track=function(){},"undefined"!=typeof window&&(window.G2||(window.G2=G2)),module.exports=G2},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_linear__=__webpack_require__(193);__webpack_require__.d(__webpack_exports__,"easeLinear",function(){return __WEBPACK_IMPORTED_MODULE_0__src_linear__.a});var __WEBPACK_IMPORTED_MODULE_1__src_quad__=__webpack_require__(194);__webpack_require__.d(__webpack_exports__,"easeQuad",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.b}),__webpack_require__.d(__webpack_exports__,"easeQuadIn",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.a}),__webpack_require__.d(__webpack_exports__,"easeQuadOut",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.c}),__webpack_require__.d(__webpack_exports__,"easeQuadInOut",function(){return __WEBPACK_IMPORTED_MODULE_1__src_quad__.b});var __WEBPACK_IMPORTED_MODULE_2__src_cubic__=__webpack_require__(195);__webpack_require__.d(__webpack_exports__,"easeCubic",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.b}),__webpack_require__.d(__webpack_exports__,"easeCubicIn",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.a}),__webpack_require__.d(__webpack_exports__,"easeCubicOut",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.c}),__webpack_require__.d(__webpack_exports__,"easeCubicInOut",function(){return __WEBPACK_IMPORTED_MODULE_2__src_cubic__.b});var __WEBPACK_IMPORTED_MODULE_3__src_poly__=__webpack_require__(196);__webpack_require__.d(__webpack_exports__,"easePoly",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.b}),__webpack_require__.d(__webpack_exports__,"easePolyIn",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.a}),__webpack_require__.d(__webpack_exports__,"easePolyOut",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.c}),__webpack_require__.d(__webpack_exports__,"easePolyInOut",function(){return __WEBPACK_IMPORTED_MODULE_3__src_poly__.b});var __WEBPACK_IMPORTED_MODULE_4__src_sin__=__webpack_require__(197);__webpack_require__.d(__webpack_exports__,"easeSin",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.b}),__webpack_require__.d(__webpack_exports__,"easeSinIn",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.a}),__webpack_require__.d(__webpack_exports__,"easeSinOut",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.c}),__webpack_require__.d(__webpack_exports__,"easeSinInOut",function(){return __WEBPACK_IMPORTED_MODULE_4__src_sin__.b});var __WEBPACK_IMPORTED_MODULE_5__src_exp__=__webpack_require__(198);__webpack_require__.d(__webpack_exports__,"easeExp",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.b}),__webpack_require__.d(__webpack_exports__,"easeExpIn",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.a}),__webpack_require__.d(__webpack_exports__,"easeExpOut",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.c}),__webpack_require__.d(__webpack_exports__,"easeExpInOut",function(){return __WEBPACK_IMPORTED_MODULE_5__src_exp__.b});var __WEBPACK_IMPORTED_MODULE_6__src_circle__=__webpack_require__(199);__webpack_require__.d(__webpack_exports__,"easeCircle",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.b}),__webpack_require__.d(__webpack_exports__,"easeCircleIn",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.a}),__webpack_require__.d(__webpack_exports__,"easeCircleOut",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.c}),__webpack_require__.d(__webpack_exports__,"easeCircleInOut",function(){return __WEBPACK_IMPORTED_MODULE_6__src_circle__.b});var __WEBPACK_IMPORTED_MODULE_7__src_bounce__=__webpack_require__(200);__webpack_require__.d(__webpack_exports__,"easeBounce",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.c}),__webpack_require__.d(__webpack_exports__,"easeBounceIn",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.a}),__webpack_require__.d(__webpack_exports__,"easeBounceOut",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.c}),__webpack_require__.d(__webpack_exports__,"easeBounceInOut",function(){return __WEBPACK_IMPORTED_MODULE_7__src_bounce__.b});var __WEBPACK_IMPORTED_MODULE_8__src_back__=__webpack_require__(201);__webpack_require__.d(__webpack_exports__,"easeBack",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.b}),__webpack_require__.d(__webpack_exports__,"easeBackIn",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.a}),__webpack_require__.d(__webpack_exports__,"easeBackOut",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.c}),__webpack_require__.d(__webpack_exports__,"easeBackInOut",function(){return __WEBPACK_IMPORTED_MODULE_8__src_back__.b});var __WEBPACK_IMPORTED_MODULE_9__src_elastic__=__webpack_require__(202);__webpack_require__.d(__webpack_exports__,"easeElastic",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.c}),__webpack_require__.d(__webpack_exports__,"easeElasticIn",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.a}),__webpack_require__.d(__webpack_exports__,"easeElasticOut",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.c}),__webpack_require__.d(__webpack_exports__,"easeElasticInOut",function(){return __WEBPACK_IMPORTED_MODULE_9__src_elastic__.b})},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isNumber=__webpack_require__(9),AutoUtil=__webpack_require__(76),SNAP_COUNT_ARRAY=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],SNAP_ARRAY=[0,1,2,4,5,10];module.exports=function(info){var min=info.min,max=info.max,interval=info.interval,minTickInterval=info.minTickInterval,ticks=[],minCount=info.minCount||5,maxCount=info.maxCount||7,isFixedCount=minCount===maxCount,minLimit=isNil(info.minLimit)?-1/0:info.minLimit,maxLimit=isNil(info.maxLimit)?1/0:info.maxLimit,avgCount=(minCount+maxCount)/2,count=avgCount,snapArray=info.snapArray?info.snapArray:isFixedCount?SNAP_COUNT_ARRAY:SNAP_ARRAY;if(min===minLimit&&max===maxLimit&&isFixedCount&&(interval=(max-min)/(count-1)),isNil(min)&&(min=0),isNil(max)&&(max=0),max===min&&(0===min?max=1:min>0?min=0:max=0,max-min<5&&!interval&&max-min>=1&&(interval=1)),isNil(interval)){var temp=(max-min)/(avgCount-1);interval=AutoUtil.snapFactorTo(temp,snapArray,"ceil"),maxCount!==minCount&&(count=parseInt((max-min)/interval,10),count>maxCount&&(count=maxCount),count<minCount&&(count=minCount),interval=AutoUtil.snapFactorTo((max-min)/(count-1),snapArray,"floor"))}if(isNumber(minTickInterval)&&interval<minTickInterval&&(interval=minTickInterval),info.interval||maxCount!==minCount)max=Math.min(AutoUtil.snapMultiple(max,interval,"ceil"),maxLimit),min=Math.max(AutoUtil.snapMultiple(min,interval,"floor"),minLimit),count=Math.round((max-min)/interval),min=AutoUtil.fixedBase(min,interval),max=AutoUtil.fixedBase(max,interval);else{avgCount=parseInt(avgCount,10);var minTick,avg=(max+min)/2,avgTick=AutoUtil.snapMultiple(avg,interval,"ceil"),sideCount=Math.floor((avgCount-2)/2),maxTick=avgTick+sideCount*interval;for(minTick=avgCount%2==0?avgTick-sideCount*interval:avgTick-(sideCount+1)*interval;maxTick<max;)maxTick=AutoUtil.fixedBase(maxTick+interval,interval);for(;minTick>min;)minTick=AutoUtil.fixedBase(minTick-interval,interval);max=maxTick,min=minTick}max=Math.min(max,maxLimit),min=Math.max(min,minLimit),ticks.push(min);for(var i=1;i<count;i++){var tickValue=AutoUtil.fixedBase(interval*i+min,interval);tickValue<max&&ticks.push(tickValue)}return ticks[ticks.length-1]<max&&ticks.push(max),{min:min,max:max,interval:interval,count:count,ticks:ticks}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(17),isNumber=__webpack_require__(9),Identity=function(_Base){function Identity(){return _Base.apply(this,arguments)||this}_inheritsLoose(Identity,_Base);var _proto=Identity.prototype;return _proto._initDefaultCfg=function(){_Base.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},_proto.getText=function(){return this.value.toString()},_proto.scale=function(value){return this.value!==value&&isNumber(value)?value:this.range[0]},_proto.invert=function(){return this.value},Identity}(Base);Base.Identity=Identity,module.exports=Identity},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var fecha=__webpack_require__(79),each=__webpack_require__(2),isNil=__webpack_require__(5),isString=__webpack_require__(10),Base=__webpack_require__(17),Linear=__webpack_require__(33),timeAuto=__webpack_require__(177),TimeUtil=__webpack_require__(71),Time=function(_Linear){function Time(){return _Linear.apply(this,arguments)||this}_inheritsLoose(Time,_Linear);var _proto=Time.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},_proto.init=function(){var self=this,values=self.values;if(values&&values.length){var timeStamps=[],min=1/0,secondMin=min,max=0;each(values,function(v){var timeStamp=self._toTimeStamp(v);if(isNaN(timeStamp))throw new TypeError("Invalid Time: "+v);min>timeStamp?(secondMin=min,min=timeStamp):secondMin>timeStamp&&(secondMin=timeStamp),max<timeStamp&&(max=timeStamp),timeStamps.push(timeStamp)}),values.length>1&&(self.minTickInterval=secondMin-min),(isNil(self.min)||self._toTimeStamp(self.min)>min)&&(self.min=min),(isNil(self.max)||self._toTimeStamp(self.max)<max)&&(self.max=max)}_Linear.prototype.init.call(this)},_proto.calculateTicks=function(){var self=this,min=self.min,max=self.max,count=self.tickCount,interval=self.tickInterval;return timeAuto({min:min,max:max,minCount:count,maxCount:count,interval:interval,minInterval:self.minTickInterval}).ticks},_proto.getText=function(value){var formatter=this.formatter;return value=this.translate(value),value=formatter?formatter(value):fecha.format(value,this.mask)},_proto.scale=function(value){return isString(value)&&(value=this.translate(value)),_Linear.prototype.scale.call(this,value)},_proto.translate=function(value){return this._toTimeStamp(value)},_proto._toTimeStamp=function(value){return TimeUtil.toTimeStamp(value)},Time}(Linear);Base.Time=Time,module.exports=Time},function(module,exports,__webpack_require__){function getYear(date){return new Date(date).getFullYear()}function createYear(year){return new Date(year,0,1).getTime()}function getMonth(date){return new Date(date).getMonth()}function diffMonth(min,max){var minYear=getYear(min),maxYear=getYear(max),minMonth=getMonth(min);return 12*(maxYear-minYear)+(getMonth(max)-minMonth)%12}function creatMonth(year,month){return new Date(year,month,1).getTime()}function diffDay(min,max){return Math.ceil((max-min)/DAY_MS)}function diffHour(min,max){return Math.ceil((max-min)/HOUR_MS)}function diffMinus(min,max){return Math.ceil((max-min)/6e4)}var AutoUtil=__webpack_require__(76),isNil=__webpack_require__(5),SNAP_ARRAY=[1,2,4,6,8,12],HOUR_MS=36e5,DAY_MS=864e5;module.exports=function(info){var count,minInterval=info.minInterval,ticks=[],min=info.min,max=info.max,interval=info.interval;if(max===min&&(max=min+DAY_MS),isNil(interval)){var innerTime=max-min,dms=DAY_MS,yms=365*dms;interval=parseInt(innerTime/(info.maxCount||6),10),minInterval&&minInterval>interval&&(interval=minInterval);var yfactor=interval/yms,minYear=getYear(min);if(yfactor>.51){for(var year=Math.ceil(yfactor),maxYear=getYear(max),i=minYear;i<=maxYear+year;i+=year)ticks.push(createYear(i));interval=null}else if(yfactor>.0834){for(var month=Math.ceil(yfactor/.0834),mmMoth=getMonth(min),dMonths=diffMonth(min,max),_i=0;_i<=dMonths+month;_i+=month)ticks.push(creatMonth(minYear,_i+mmMoth));interval=null}else if(interval>.5*dms){var date=new Date(min),_year=date.getFullYear(),_month=date.getMonth(min),mday=date.getDate(),day=Math.ceil(interval/dms),ddays=diffDay(min,max);interval=day*dms;for(var _i2=0;_i2<ddays+day;_i2+=day)ticks.push(new Date(_year,_month,mday+_i2).getTime())}else if(interval>HOUR_MS){var _date=new Date(min),_year2=_date.getFullYear(),_month2=_date.getMonth(min),_day=_date.getDate(),hour=_date.getHours(),hours=AutoUtil.snapTo(SNAP_ARRAY,Math.ceil(interval/HOUR_MS)),dHours=diffHour(min,max);interval=hours*HOUR_MS;for(var _i3=0;_i3<=dHours+hours;_i3+=hours)ticks.push(new Date(_year2,_month2,_day,hour+_i3).getTime())}else if(interval>6e4){var dMinus=diffMinus(min,max),minutes=Math.ceil(interval/6e4);interval=6e4*minutes;for(var _i4=0;_i4<=dMinus+minutes;_i4+=minutes)ticks.push(min+6e4*_i4)}else{interval<1e3&&(interval=1e3),min=1e3*Math.floor(min/1e3);var dSeconds=Math.ceil((max-min)/1e3),seconds=Math.ceil(interval/1e3);interval=1e3*seconds;for(var _i5=0;_i5<dSeconds+seconds;_i5+=seconds)ticks.push(min+1e3*_i5)}}if(!ticks.length){min=1e3*Math.floor(min/1e3),max=1e3*Math.ceil(max/1e3),count=(max-min)/interval;for(var _i6=0;_i6<=count;_i6++)ticks.push(AutoUtil.fixedBase(interval*_i6+min,interval))}return{max:max,min:min,interval:interval,ticks:ticks,count:ticks.length}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(17),Category=__webpack_require__(77),fecha=__webpack_require__(79),catAuto=__webpack_require__(78),TimeUtil=__webpack_require__(71),each=__webpack_require__(2),isNumber=__webpack_require__(9),isObject=__webpack_require__(24),isString=__webpack_require__(10),TimeCategory=function(_Category){function TimeCategory(){return _Category.apply(this,arguments)||this}_inheritsLoose(TimeCategory,_Category);var _proto=TimeCategory.prototype;return _proto._initDefaultCfg=function(){_Category.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},_proto.init=function(){var self=this,values=this.values;each(values,function(v,i){values[i]=self._toTimeStamp(v)}),this.sortable&&values.sort(function(v1,v2){return v1-v2}),self.ticks||(self.ticks=this.calculateTicks())},_proto.calculateTicks=function(){var ticks,self=this,count=self.tickCount;if(count){ticks=catAuto({maxCount:count,data:self.values,isRounding:self.isRounding}).ticks}else ticks=self.values;return ticks},_proto.translate=function(value){value=this._toTimeStamp(value);var index=this.values.indexOf(value);return-1===index&&(index=isNumber(value)&&value<this.values.length?value:NaN),index},_proto.scale=function(value){var percent,rangeMin=this.rangeMin(),rangeMax=this.rangeMax(),index=this.translate(value);return percent=1===this.values.length||isNaN(index)?index:index>-1?index/(this.values.length-1):0,rangeMin+percent*(rangeMax-rangeMin)},_proto.getText=function(value){var result="",index=this.translate(value);result=index>-1?this.values[index]:value;var formatter=this.formatter;return result=parseInt(result,10),result=formatter?formatter(result):fecha.format(result,this.mask)},_proto.getTicks=function(){var self=this,ticks=this.ticks,rst=[];return each(ticks,function(tick){var obj;obj=isObject(tick)?tick:{text:isString(tick)?tick:self.getText(tick),value:self.scale(tick),tickValue:tick},rst.push(obj)}),rst},_proto._toTimeStamp=function(value){return TimeUtil.toTimeStamp(value)},TimeCategory}(Category);Base.TimeCat=TimeCategory,module.exports=TimeCategory},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function log(a,b){return 1===a?1:Math.log(b)/Math.log(a)}var each=__webpack_require__(2),Base=__webpack_require__(17),Linear=__webpack_require__(33),Log=function(_Linear){function Log(){return _Linear.apply(this,arguments)||this}_inheritsLoose(Log,_Linear);var _proto=Log.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},_proto.calculateTicks=function(){var minTick,self=this,base=self.base;if(self.min<0)throw new Error("The minimum value must be greater than zero!");var maxTick=log(base,self.max);if(self.min>0)minTick=Math.floor(log(base,self.min));else{var values=self.values,positiveMin=self.max;each(values,function(value){value>0&&value<positiveMin&&(positiveMin=value)}),positiveMin===self.max&&(positiveMin=self.max/base),positiveMin>1&&(positiveMin=1),minTick=Math.floor(log(base,positiveMin)),self._minTick=minTick,self.positiveMin=positiveMin}for(var count=maxTick-minTick,tickCount=self.tickCount,avg=Math.ceil(count/tickCount),ticks=[],i=minTick;i<maxTick+avg;i+=avg)ticks.push(Math.pow(base,i));return 0===self.min&&ticks.unshift(0),ticks},_proto._getScalePercent=function(value){var max=this.max,min=this.min;if(max===min)return 0;if(value<=0)return 0;var base=this.base,positiveMin=this.positiveMin;positiveMin&&(min=1*positiveMin/base);return value<positiveMin?value/positiveMin/(log(base,max)-log(base,min)):(log(base,value)-log(base,min))/(log(base,max)-log(base,min))},_proto.scale=function(value){var percent=this._getScalePercent(value),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var min,base=this.base,max=log(base,this.max),rangeMin=this.rangeMin(),range=this.rangeMax()-rangeMin,positiveMin=this.positiveMin;if(positiveMin){if(0===value)return 0;min=log(base,positiveMin/base);var appendPercent=1/(max-min)*range;if(value<appendPercent)return value/appendPercent*positiveMin}else min=log(base,this.min);var percent=(value-rangeMin)/range,tmp=percent*(max-min)+min;return Math.pow(base,tmp)},Log}(Linear);Base.Log=Log,module.exports=Log},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function calBase(a,b){var e=Math.E;return Math.pow(e,Math.log(b)/a)}var Base=__webpack_require__(17),Linear=__webpack_require__(33),Pow=function(_Linear){function Pow(){return _Linear.apply(this,arguments)||this}_inheritsLoose(Pow,_Linear);var _proto=Pow.prototype;return _proto._initDefaultCfg=function(){_Linear.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},_proto.calculateTicks=function(){var min,self=this,exponent=self.exponent,max=Math.ceil(calBase(exponent,self.max));if((min=self.min>=0?Math.floor(calBase(exponent,self.min)):0)>max){var tmp=max;max=min,min=tmp}for(var count=max-min,tickCount=self.tickCount,avg=Math.ceil(count/tickCount),ticks=[],i=min;i<max+avg;i+=avg)ticks.push(Math.pow(i,exponent));return ticks},_proto._getScalePercent=function(value){var max=this.max,min=this.min;if(max===min)return 0;var exponent=this.exponent;return(calBase(exponent,value)-calBase(exponent,min))/(calBase(exponent,max)-calBase(exponent,min))},_proto.scale=function(value){var percent=this._getScalePercent(value),rangeMin=this.rangeMin();return rangeMin+percent*(this.rangeMax()-rangeMin)},_proto.invert=function(value){var percent=(value-this.rangeMin())/(this.rangeMax()-this.rangeMin()),exponent=this.exponent,max=calBase(exponent,this.max),min=calBase(exponent,this.min),tmp=percent*(max-min)+min;return Math.pow(tmp,exponent)},Pow}(Linear);Base.Pow=Pow,module.exports=Pow},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Event=__webpack_require__(100),Group=__webpack_require__(101),Timeline=__webpack_require__(190),renderers=__webpack_require__(215),Canvas=function Canvas(cfg){Canvas.superclass.constructor.call(this,cfg)};Canvas.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},Util.extend(Canvas,Group),Util.augment(Canvas,{init:function(){Canvas.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(element,event){if(element){if(!Util.isEmpty(element._getEvents()))return element;var parent=element.get("parent");if(parent&&!event.propagationStopped)return this.getEmitter(parent,event)}},_getEventObj:function(type,e,point,target){var event=new Event(type,e,!0,!0);return event.x=point.x,event.y=point.y,event.clientX=e.clientX,event.clientY=e.clientY,event.currentTarget=target,event.target=target,event},_triggerEvent:function(type,e){var emitObj,point=this.getPointByClient(e.clientX,e.clientY),shape=this.getShape(point.x,point.y,e),el=this.get("el");if("mousemove"===type){var preShape=this.get("preShape");if(preShape&&preShape!==shape){var mouseleave=this._getEventObj("mouseleave",e,point,preShape);emitObj=this.getEmitter(preShape,e),emitObj&&emitObj.emit("mouseleave",mouseleave),el.style.cursor="default"}if(shape){var mousemove=this._getEventObj("mousemove",e,point,shape);if(emitObj=this.getEmitter(shape,e),emitObj&&emitObj.emit("mousemove",mousemove),preShape!==shape){var mouseenter=this._getEventObj("mouseenter",e,point,shape);emitObj&&emitObj.emit("mouseenter",mouseenter,e)}}else{var canvasmousemove=this._getEventObj("mousemove",e,point,this);this.emit("mousemove",canvasmousemove)}this.set("preShape",shape)}else{var event=this._getEventObj(type,e,point,shape||this);emitObj=this.getEmitter(shape,e),emitObj&&emitObj!==this&&emitObj.emit(type,event),this.emit(type,event)}shape&&!shape.get("destroyed")&&(el.style.cursor=shape.attr("cursor")||"default")},_registEvents:function(){var self=this,el=self.get("el"),events=["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"];Util.each(events,function(event){el.addEventListener(event,function(e){self._triggerEvent(event,e)},!1)}),el.addEventListener("touchstart",function(e){Util.isEmpty(e.touches)||self._triggerEvent("touchstart",e.touches[0])},!1),el.addEventListener("touchmove",function(e){Util.isEmpty(e.touches)||self._triggerEvent("touchmove",e.touches[0])},!1),el.addEventListener("touchend",function(e){Util.isEmpty(e.changedTouches)||self._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var pixelRatio=this.get("pixelRatio");this.scale(pixelRatio,pixelRatio)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",Util.getRatio());var renderer=renderers[this.get("renderer")||"canvas"];this._cfg.renderer=renderer,this._cfg.canvas=this;var timeline=new Timeline(this);this._cfg.timeline=timeline},_setContainer:function(){var containerId=this.get("containerId"),containerDOM=this.get("containerDOM");containerDOM||(containerDOM=document.getElementById(containerId),this.set("containerDOM",containerDOM)),Util.modifyCSS(containerDOM,{position:"relative"})},_initPainter:function(){var containerDOM=this.get("containerDOM"),painter=new this._cfg.renderer.painter(containerDOM);this._cfg.painter=painter,this._cfg.canvasDOM=this._cfg.el=painter.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var canvasDOM=this.get("canvasDOM"),widthCanvas=this.get("widthCanvas"),heightCanvas=this.get("heightCanvas"),widthStyle=this.get("widthStyle"),heightStyle=this.get("heightStyle");canvasDOM.style.width=widthStyle,canvasDOM.style.height=heightStyle,canvasDOM.setAttribute("width",widthCanvas),canvasDOM.setAttribute("height",heightCanvas)},getWidth:function(){var pixelRatio=this.get("pixelRatio");return this.get("width")*pixelRatio},getHeight:function(){var pixelRatio=this.get("pixelRatio");return this.get("height")*pixelRatio},changeSize:function(width,height){var pixelRatio=this.get("pixelRatio"),widthCanvas=width*pixelRatio,heightCanvas=height*pixelRatio;this.set("widthCanvas",widthCanvas),this.set("heightCanvas",heightCanvas),this.set("widthStyle",width+"px"),this.set("heightStyle",height+"px"),this.set("width",width),this.set("height",height),this._resize()},getPointByClient:function(clientX,clientY){var el=this.get("el"),pixelRatio=this.get("pixelRatio")||1,bbox=el.getBoundingClientRect();return{x:(clientX-bbox.left)*pixelRatio,y:(clientY-bbox.top)*pixelRatio}},getClientByPoint:function(x,y){var el=this.get("el"),bbox=el.getBoundingClientRect(),pixelRatio=this.get("pixelRatio")||1;return{clientX:x/pixelRatio+bbox.left,clientY:y/pixelRatio+bbox.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(x,y,e){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,x,y,e):Canvas.superclass.getShape.call(this,x,y)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var cfg=this._cfg,containerDOM=cfg.containerDOM,canvasDOM=cfg.canvasDOM;canvasDOM&&containerDOM&&containerDOM.removeChild(canvasDOM),cfg.timeline.stop(),Canvas.superclass.destroy.call(this)}}),module.exports=Canvas},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[1]=0,out[2]=0,out[3]=0,out[5]=0,out[6]=0,out[7]=0),out[0]=1,out[4]=1,out[8]=1,out}function fromMat4(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[4],out[4]=a[5],out[5]=a[6],out[6]=a[8],out[7]=a[9],out[8]=a[10],out}function clone(a){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out[3]=a[3],out[4]=a[4],out[5]=a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromValues(m00,m01,m02,m10,m11,m12,m20,m21,m22){var out=new glMatrix.ARRAY_TYPE(9);return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function set(out,m00,m01,m02,m10,m11,m12,m20,m21,m22){return out[0]=m00,out[1]=m01,out[2]=m02,out[3]=m10,out[4]=m11,out[5]=m12,out[6]=m20,out[7]=m21,out[8]=m22,out}function identity(out){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function transpose(out,a){if(out===a){var a01=a[1],a02=a[2],a12=a[5];out[1]=a[3],out[2]=a[6],out[3]=a01,out[5]=a[7],out[6]=a02,out[7]=a12}else out[0]=a[0],out[1]=a[3],out[2]=a[6],out[3]=a[1],out[4]=a[4],out[5]=a[7],out[6]=a[2],out[7]=a[5],out[8]=a[8];return out}function invert(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b01=a22*a11-a12*a21,b11=-a22*a10+a12*a20,b21=a21*a10-a11*a20,det=a00*b01+a01*b11+a02*b21;return det?(det=1/det,out[0]=b01*det,out[1]=(-a22*a01+a02*a21)*det,out[2]=(a12*a01-a02*a11)*det,out[3]=b11*det,out[4]=(a22*a00-a02*a20)*det,out[5]=(-a12*a00+a02*a10)*det,out[6]=b21*det,out[7]=(-a21*a00+a01*a20)*det,out[8]=(a11*a00-a01*a10)*det,out):null}function adjoint(out,a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return out[0]=a11*a22-a12*a21,out[1]=a02*a21-a01*a22,out[2]=a01*a12-a02*a11,out[3]=a12*a20-a10*a22,out[4]=a00*a22-a02*a20,out[5]=a02*a10-a00*a12,out[6]=a10*a21-a11*a20,out[7]=a01*a20-a00*a21,out[8]=a00*a11-a01*a10,out}function determinant(a){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8];return a00*(a22*a11-a12*a21)+a01*(-a22*a10+a12*a20)+a02*(a21*a10-a11*a20)}function multiply(out,a,b){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],b00=b[0],b01=b[1],b02=b[2],b10=b[3],b11=b[4],b12=b[5],b20=b[6],b21=b[7],b22=b[8];return out[0]=b00*a00+b01*a10+b02*a20,out[1]=b00*a01+b01*a11+b02*a21,out[2]=b00*a02+b01*a12+b02*a22,out[3]=b10*a00+b11*a10+b12*a20,out[4]=b10*a01+b11*a11+b12*a21,out[5]=b10*a02+b11*a12+b12*a22,out[6]=b20*a00+b21*a10+b22*a20,out[7]=b20*a01+b21*a11+b22*a21,out[8]=b20*a02+b21*a12+b22*a22,out}function translate(out,a,v){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],x=v[0],y=v[1];return out[0]=a00,out[1]=a01,out[2]=a02,out[3]=a10,out[4]=a11,out[5]=a12,out[6]=x*a00+y*a10+a20,out[7]=x*a01+y*a11+a21,out[8]=x*a02+y*a12+a22,out}function rotate(out,a,rad){var a00=a[0],a01=a[1],a02=a[2],a10=a[3],a11=a[4],a12=a[5],a20=a[6],a21=a[7],a22=a[8],s=Math.sin(rad),c=Math.cos(rad);return out[0]=c*a00+s*a10,out[1]=c*a01+s*a11,out[2]=c*a02+s*a12,out[3]=c*a10-s*a00,out[4]=c*a11-s*a01,out[5]=c*a12-s*a02,out[6]=a20,out[7]=a21,out[8]=a22,out}function scale(out,a,v){var x=v[0],y=v[1];return out[0]=x*a[0],out[1]=x*a[1],out[2]=x*a[2],out[3]=y*a[3],out[4]=y*a[4],out[5]=y*a[5],out[6]=a[6],out[7]=a[7],out[8]=a[8],out}function fromTranslation(out,v){return out[0]=1,out[1]=0,out[2]=0,out[3]=0,out[4]=1,out[5]=0,out[6]=v[0],out[7]=v[1],out[8]=1,out}function fromRotation(out,rad){var s=Math.sin(rad),c=Math.cos(rad);return out[0]=c,out[1]=s,out[2]=0,out[3]=-s,out[4]=c,out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromScaling(out,v){return out[0]=v[0],out[1]=0,out[2]=0,out[3]=0,out[4]=v[1],out[5]=0,out[6]=0,out[7]=0,out[8]=1,out}function fromMat2d(out,a){return out[0]=a[0],out[1]=a[1],out[2]=0,out[3]=a[2],out[4]=a[3],out[5]=0,out[6]=a[4],out[7]=a[5],out[8]=1,out}function fromQuat(out,q){var x=q[0],y=q[1],z=q[2],w=q[3],x2=x+x,y2=y+y,z2=z+z,xx=x*x2,yx=y*x2,yy=y*y2,zx=z*x2,zy=z*y2,zz=z*z2,wx=w*x2,wy=w*y2,wz=w*z2;return out[0]=1-yy-zz,out[3]=yx-wz,out[6]=zx+wy,out[1]=yx+wz,out[4]=1-xx-zz,out[7]=zy-wx,out[2]=zx-wy,out[5]=zy+wx,out[8]=1-xx-yy,out}function normalFromMat4(out,a){var a00=a[0],a01=a[1],a02=a[2],a03=a[3],a10=a[4],a11=a[5],a12=a[6],a13=a[7],a20=a[8],a21=a[9],a22=a[10],a23=a[11],a30=a[12],a31=a[13],a32=a[14],a33=a[15],b00=a00*a11-a01*a10,b01=a00*a12-a02*a10,b02=a00*a13-a03*a10,b03=a01*a12-a02*a11,b04=a01*a13-a03*a11,b05=a02*a13-a03*a12,b06=a20*a31-a21*a30,b07=a20*a32-a22*a30,b08=a20*a33-a23*a30,b09=a21*a32-a22*a31,b10=a21*a33-a23*a31,b11=a22*a33-a23*a32,det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;return det?(det=1/det,out[0]=(a11*b11-a12*b10+a13*b09)*det,out[1]=(a12*b08-a10*b11-a13*b07)*det,out[2]=(a10*b10-a11*b08+a13*b06)*det,out[3]=(a02*b10-a01*b11-a03*b09)*det,out[4]=(a00*b11-a02*b08+a03*b07)*det,out[5]=(a01*b08-a00*b10-a03*b06)*det,out[6]=(a31*b05-a32*b04+a33*b03)*det,out[7]=(a32*b02-a30*b05-a33*b01)*det,out[8]=(a30*b04-a31*b02+a33*b00)*det,out):null}function projection(out,width,height){return out[0]=2/width,out[1]=0,out[2]=0,out[3]=0,out[4]=-2/height,out[5]=0,out[6]=-1,out[7]=1,out[8]=1,out}function str(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"}function frob(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out[3]=a[3]+b[3],out[4]=a[4]+b[4],out[5]=a[5]+b[5],out[6]=a[6]+b[6],out[7]=a[7]+b[7],out[8]=a[8]+b[8],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out[3]=a[3]-b[3],out[4]=a[4]-b[4],out[5]=a[5]-b[5],out[6]=a[6]-b[6],out[7]=a[7]-b[7],out[8]=a[8]-b[8],out}function multiplyScalar(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out[3]=a[3]*b,out[4]=a[4]*b,out[5]=a[5]*b,out[6]=a[6]*b,out[7]=a[7]*b,out[8]=a[8]*b,out}function multiplyScalarAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out[3]=a[3]+b[3]*scale,out[4]=a[4]+b[4]*scale,out[5]=a[5]+b[5]*scale,out[6]=a[6]+b[6]*scale,out[7]=a[7]+b[7]*scale,out[8]=a[8]+b[8]*scale,out}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],a3=a[3],a4=a[4],a5=a[5],a6=a[6],a7=a[7],a8=a[8],b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))&&Math.abs(a3-b3)<=glMatrix.EPSILON*Math.max(1,Math.abs(a3),Math.abs(b3))&&Math.abs(a4-b4)<=glMatrix.EPSILON*Math.max(1,Math.abs(a4),Math.abs(b4))&&Math.abs(a5-b5)<=glMatrix.EPSILON*Math.max(1,Math.abs(a5),Math.abs(b5))&&Math.abs(a6-b6)<=glMatrix.EPSILON*Math.max(1,Math.abs(a6),Math.abs(b6))&&Math.abs(a7-b7)<=glMatrix.EPSILON*Math.max(1,Math.abs(a7),Math.abs(b7))&&Math.abs(a8-b8)<=glMatrix.EPSILON*Math.max(1,Math.abs(a8),Math.abs(b8))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sub=exports.mul=void 0,exports.create=create,exports.fromMat4=fromMat4,exports.clone=clone,exports.copy=copy,exports.fromValues=fromValues,exports.set=set,exports.identity=identity,exports.transpose=transpose,exports.invert=invert,exports.adjoint=adjoint,exports.determinant=determinant,exports.multiply=multiply,exports.translate=translate,exports.rotate=rotate,exports.scale=scale,exports.fromTranslation=fromTranslation,exports.fromRotation=fromRotation,exports.fromScaling=fromScaling,exports.fromMat2d=fromMat2d,exports.fromQuat=fromQuat,exports.normalFromMat4=normalFromMat4,exports.projection=projection,exports.str=str,exports.frob=frob,exports.add=add,exports.subtract=subtract,exports.multiplyScalar=multiplyScalar,exports.multiplyScalarAndAdd=multiplyScalarAndAdd,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(52),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.mul=multiply,exports.sub=subtract},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(2);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0),out}function clone(a){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=a[0],out[1]=a[1],out}function fromValues(x,y){var out=new glMatrix.ARRAY_TYPE(2);return out[0]=x,out[1]=y,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out}function set(out,x,y){return out[0]=x,out[1]=y,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return Math.sqrt(x*x+y*y)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1];return x*x+y*y}function length(a){var x=a[0],y=a[1];return Math.sqrt(x*x+y*y)}function squaredLength(a){var x=a[0],y=a[1];return x*x+y*y}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out}function normalize(out,a){var x=a[0],y=a[1],len=x*x+y*y;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]}function cross(out,a,b){var z=a[0]*b[1]-a[1]*b[0];return out[0]=out[1]=0,out[2]=z,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI;return out[0]=Math.cos(r)*scale,out[1]=Math.sin(r)*scale,out}function transformMat2(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y,out[1]=m[1]*x+m[3]*y,out}function transformMat2d(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[2]*y+m[4],out[1]=m[1]*x+m[3]*y+m[5],out}function transformMat3(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[3]*y+m[6],out[1]=m[1]*x+m[4]*y+m[7],out}function transformMat4(out,a,m){var x=a[0],y=a[1];return out[0]=m[0]*x+m[4]*y+m[12],out[1]=m[1]*x+m[5]*y+m[13],out}function rotate(out,a,b,c){var p0=a[0]-b[0],p1=a[1]-b[1],sinC=Math.sin(c),cosC=Math.cos(c);return out[0]=p0*cosC-p1*sinC+b[0],out[1]=p0*sinC+p1*cosC+b[1],out}function angle(a,b){var x1=a[0],y1=a[1],x2=b[0],y2=b[1],len1=x1*x1+y1*y1;len1>0&&(len1=1/Math.sqrt(len1));var len2=x2*x2+y2*y2;len2>0&&(len2=1/Math.sqrt(len2));var cosine=(x1*x2+y1*y2)*len1*len2;return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec2("+a[0]+", "+a[1]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]}function equals(a,b){var a0=a[0],a1=a[1],b0=b[0],b1=b[1];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=exports.len=void 0,exports.create=create,exports.clone=clone,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.length=length,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.random=random,exports.transformMat2=transformMat2,exports.transformMat2d=transformMat2d,exports.transformMat3=transformMat3,exports.transformMat4=transformMat4,exports.rotate=rotate,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(52),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.len=length,exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=2),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1];return a}}()},function(module,exports,__webpack_require__){"use strict";function create(){var out=new glMatrix.ARRAY_TYPE(3);return glMatrix.ARRAY_TYPE!=Float32Array&&(out[0]=0,out[1]=0,out[2]=0),out}function clone(a){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function length(a){var x=a[0],y=a[1],z=a[2];return Math.sqrt(x*x+y*y+z*z)}function fromValues(x,y,z){var out=new glMatrix.ARRAY_TYPE(3);return out[0]=x,out[1]=y,out[2]=z,out}function copy(out,a){return out[0]=a[0],out[1]=a[1],out[2]=a[2],out}function set(out,x,y,z){return out[0]=x,out[1]=y,out[2]=z,out}function add(out,a,b){return out[0]=a[0]+b[0],out[1]=a[1]+b[1],out[2]=a[2]+b[2],out}function subtract(out,a,b){return out[0]=a[0]-b[0],out[1]=a[1]-b[1],out[2]=a[2]-b[2],out}function multiply(out,a,b){return out[0]=a[0]*b[0],out[1]=a[1]*b[1],out[2]=a[2]*b[2],out}function divide(out,a,b){return out[0]=a[0]/b[0],out[1]=a[1]/b[1],out[2]=a[2]/b[2],out}function ceil(out,a){return out[0]=Math.ceil(a[0]),out[1]=Math.ceil(a[1]),out[2]=Math.ceil(a[2]),out}function floor(out,a){return out[0]=Math.floor(a[0]),out[1]=Math.floor(a[1]),out[2]=Math.floor(a[2]),out}function min(out,a,b){return out[0]=Math.min(a[0],b[0]),out[1]=Math.min(a[1],b[1]),out[2]=Math.min(a[2],b[2]),out}function max(out,a,b){return out[0]=Math.max(a[0],b[0]),out[1]=Math.max(a[1],b[1]),out[2]=Math.max(a[2],b[2]),out}function round(out,a){return out[0]=Math.round(a[0]),out[1]=Math.round(a[1]),out[2]=Math.round(a[2]),out}function scale(out,a,b){return out[0]=a[0]*b,out[1]=a[1]*b,out[2]=a[2]*b,out}function scaleAndAdd(out,a,b,scale){return out[0]=a[0]+b[0]*scale,out[1]=a[1]+b[1]*scale,out[2]=a[2]+b[2]*scale,out}function distance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return Math.sqrt(x*x+y*y+z*z)}function squaredDistance(a,b){var x=b[0]-a[0],y=b[1]-a[1],z=b[2]-a[2];return x*x+y*y+z*z}function squaredLength(a){var x=a[0],y=a[1],z=a[2];return x*x+y*y+z*z}function negate(out,a){return out[0]=-a[0],out[1]=-a[1],out[2]=-a[2],out}function inverse(out,a){return out[0]=1/a[0],out[1]=1/a[1],out[2]=1/a[2],out}function normalize(out,a){var x=a[0],y=a[1],z=a[2],len=x*x+y*y+z*z;return len>0&&(len=1/Math.sqrt(len),out[0]=a[0]*len,out[1]=a[1]*len,out[2]=a[2]*len),out}function dot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cross(out,a,b){var ax=a[0],ay=a[1],az=a[2],bx=b[0],by=b[1],bz=b[2];return out[0]=ay*bz-az*by,out[1]=az*bx-ax*bz,out[2]=ax*by-ay*bx,out}function lerp(out,a,b,t){var ax=a[0],ay=a[1],az=a[2];return out[0]=ax+t*(b[0]-ax),out[1]=ay+t*(b[1]-ay),out[2]=az+t*(b[2]-az),out}function hermite(out,a,b,c,d,t){var factorTimes2=t*t,factor1=factorTimes2*(2*t-3)+1,factor2=factorTimes2*(t-2)+t,factor3=factorTimes2*(t-1),factor4=factorTimes2*(3-2*t);return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function bezier(out,a,b,c,d,t){var inverseFactor=1-t,inverseFactorTimesTwo=inverseFactor*inverseFactor,factorTimes2=t*t,factor1=inverseFactorTimesTwo*inverseFactor,factor2=3*t*inverseFactorTimesTwo,factor3=3*factorTimes2*inverseFactor,factor4=factorTimes2*t;return out[0]=a[0]*factor1+b[0]*factor2+c[0]*factor3+d[0]*factor4,out[1]=a[1]*factor1+b[1]*factor2+c[1]*factor3+d[1]*factor4,out[2]=a[2]*factor1+b[2]*factor2+c[2]*factor3+d[2]*factor4,out}function random(out,scale){scale=scale||1;var r=2*glMatrix.RANDOM()*Math.PI,z=2*glMatrix.RANDOM()-1,zScale=Math.sqrt(1-z*z)*scale;return out[0]=Math.cos(r)*zScale,out[1]=Math.sin(r)*zScale,out[2]=z*scale,out}function transformMat4(out,a,m){var x=a[0],y=a[1],z=a[2],w=m[3]*x+m[7]*y+m[11]*z+m[15];return w=w||1,out[0]=(m[0]*x+m[4]*y+m[8]*z+m[12])/w,out[1]=(m[1]*x+m[5]*y+m[9]*z+m[13])/w,out[2]=(m[2]*x+m[6]*y+m[10]*z+m[14])/w,out}function transformMat3(out,a,m){var x=a[0],y=a[1],z=a[2];return out[0]=x*m[0]+y*m[3]+z*m[6],out[1]=x*m[1]+y*m[4]+z*m[7],out[2]=x*m[2]+y*m[5]+z*m[8],out}function transformQuat(out,a,q){var qx=q[0],qy=q[1],qz=q[2],qw=q[3],x=a[0],y=a[1],z=a[2],uvx=qy*z-qz*y,uvy=qz*x-qx*z,uvz=qx*y-qy*x,uuvx=qy*uvz-qz*uvy,uuvy=qz*uvx-qx*uvz,uuvz=qx*uvy-qy*uvx,w2=2*qw;return uvx*=w2,uvy*=w2,uvz*=w2,uuvx*=2,uuvy*=2,uuvz*=2,out[0]=x+uvx+uuvx,out[1]=y+uvy+uuvy,out[2]=z+uvz+uuvz,out}function rotateX(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0],r[1]=p[1]*Math.cos(c)-p[2]*Math.sin(c),r[2]=p[1]*Math.sin(c)+p[2]*Math.cos(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateY(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[2]*Math.sin(c)+p[0]*Math.cos(c),r[1]=p[1],r[2]=p[2]*Math.cos(c)-p[0]*Math.sin(c),out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function rotateZ(out,a,b,c){var p=[],r=[];return p[0]=a[0]-b[0],p[1]=a[1]-b[1],p[2]=a[2]-b[2],r[0]=p[0]*Math.cos(c)-p[1]*Math.sin(c),r[1]=p[0]*Math.sin(c)+p[1]*Math.cos(c),r[2]=p[2],out[0]=r[0]+b[0],out[1]=r[1]+b[1],out[2]=r[2]+b[2],out}function angle(a,b){var tempA=fromValues(a[0],a[1],a[2]),tempB=fromValues(b[0],b[1],b[2]);normalize(tempA,tempA),normalize(tempB,tempB);var cosine=dot(tempA,tempB);return cosine>1?0:cosine<-1?Math.PI:Math.acos(cosine)}function str(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"}function exactEquals(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]}function equals(a,b){var a0=a[0],a1=a[1],a2=a[2],b0=b[0],b1=b[1],b2=b[2];return Math.abs(a0-b0)<=glMatrix.EPSILON*Math.max(1,Math.abs(a0),Math.abs(b0))&&Math.abs(a1-b1)<=glMatrix.EPSILON*Math.max(1,Math.abs(a1),Math.abs(b1))&&Math.abs(a2-b2)<=glMatrix.EPSILON*Math.max(1,Math.abs(a2),Math.abs(b2))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=exports.sqrLen=exports.len=exports.sqrDist=exports.dist=exports.div=exports.mul=exports.sub=void 0,exports.create=create,exports.clone=clone,exports.length=length,exports.fromValues=fromValues,exports.copy=copy,exports.set=set,exports.add=add,exports.subtract=subtract,exports.multiply=multiply,exports.divide=divide,exports.ceil=ceil,exports.floor=floor,exports.min=min,exports.max=max,exports.round=round,exports.scale=scale,exports.scaleAndAdd=scaleAndAdd,exports.distance=distance,exports.squaredDistance=squaredDistance,exports.squaredLength=squaredLength,exports.negate=negate,exports.inverse=inverse,exports.normalize=normalize,exports.dot=dot,exports.cross=cross,exports.lerp=lerp,exports.hermite=hermite,exports.bezier=bezier,exports.random=random,exports.transformMat4=transformMat4,exports.transformMat3=transformMat3,exports.transformQuat=transformQuat,exports.rotateX=rotateX,exports.rotateY=rotateY,exports.rotateZ=rotateZ,exports.angle=angle,exports.str=str,exports.exactEquals=exactEquals,exports.equals=equals;var _common=__webpack_require__(52),glMatrix=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_common);exports.sub=subtract,exports.mul=multiply,exports.div=divide,exports.dist=distance,exports.sqrDist=squaredDistance,exports.len=length,exports.sqrLen=squaredLength,exports.forEach=function(){var vec=create();return function(a,stride,offset,count,fn,arg){var i=void 0,l=void 0;for(stride||(stride=3),offset||(offset=0),l=count?Math.min(count*stride+offset,a.length):a.length,i=offset;i<l;i+=stride)vec[0]=a[i],vec[1]=a[i+1],vec[2]=a[i+2],fn(vec,vec,arg),a[i]=vec[0],a[i+1]=vec[1],a[i+2]=vec[2];return a}}()},function(module,exports,__webpack_require__){var Util=__webpack_require__(1);module.exports={canFill:!1,canStroke:!1,initAttrs:function(attrs){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(Util.assign(this.getDefaultAttrs(),attrs)),this},getDefaultAttrs:function(){return{}},attr:function(name,value){var self=this;if(0===arguments.length)return self._attrs;if(Util.isObject(name)){for(var k in name)this._setAttr(k,name[k]);return self.clearBBox(),this._cfg.hasUpdate=!0,self}return 2===arguments.length?(this._setAttr(name,value),self.clearBBox(),this._cfg.hasUpdate=!0,self):self._attrs[name]},_setAttr:function(name,value){var self=this,attrs=this._attrs;return attrs[name]=value,"fill"===name||"stroke"===name?void(attrs[name+"Style"]=value):"opacity"===name?void(attrs.globalAlpha=value):"clip"===name&&value?void self._setClip(value):"path"===name&&self._afterSetAttrPath?void self._afterSetAttrPath(value):"transform"===name?void self.transform(value):void("rotate"===name&&self.rotateAtStart(value))},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(item){item._cfg.renderer=this._cfg.renderer,item._cfg.canvas=this._cfg.canvas,item._cfg.parent=this._cfg.parent,item.hasFill=function(){return!0}}}},function(module,exports,__webpack_require__){function isUnchanged(m){return 1===m[0]&&0===m[1]&&0===m[3]&&1===m[4]&&0===m[6]&&0===m[7]}function isScale(m){return 0===m[1]&&0===m[3]&&0===m[6]&&0===m[7]}function multiple(m1,m2){isUnchanged(m2)||(isScale(m2)?(m1[0]*=m2[0],m1[4]*=m2[4]):Util.mat3.multiply(m1,m1,m2))}var Util=__webpack_require__(1);module.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(tx,ty){var matrix=this._attrs.matrix;return Util.mat3.translate(matrix,matrix,[tx,ty]),this.clearTotalMatrix(),this.attr("matrix",matrix),this},rotate:function(radian){var matrix=this._attrs.matrix;return Util.mat3.rotate(matrix,matrix,radian),this.clearTotalMatrix(),this.attr("matrix",matrix),this},scale:function(s1,s2){var matrix=this._attrs.matrix;return Util.mat3.scale(matrix,matrix,[s1,s2]),this.clearTotalMatrix(),this.attr("matrix",matrix),this},rotateAtStart:function(rotate){var x=this._attrs.x||this._cfg.attrs.x,y=this._attrs.y||this._cfg.attrs.y;return Math.abs(rotate)>2*Math.PI&&(rotate=rotate/180*Math.PI),this.transform([["t",-x,-y],["r",rotate],["t",x,y]])},move:function(x,y){var cx=this.get("x")||0,cy=this.get("y")||0;return this.translate(x-cx,y-cy),this.set("x",x),this.set("y",y),this},transform:function(ts){var self=this,matrix=this._attrs.matrix;return Util.each(ts,function(t){switch(t[0]){case"t":self.translate(t[1],t[2]);break;case"s":self.scale(t[1],t[2]);break;case"r":self.rotate(t[1]);break;case"m":self.attr("matrix",Util.mat3.multiply([],matrix,t[1])),self.clearTotalMatrix()}}),self},setTransform:function(ts){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(ts)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(m){return this.attr("matrix",m),this.clearTotalMatrix(),this},apply:function(v,root){var m;return m=root?this._getMatrixByRoot(root):this.attr("matrix"),Util.vec3.transformMat3(v,v,m),this},_getMatrixByRoot:function(root){var self=this;root=root||self;for(var parent=self,parents=[];parent!==root;)parents.unshift(parent),parent=parent.get("parent");parents.unshift(parent);var m=[1,0,0,0,1,0,0,0,1];return Util.each(parents,function(child){Util.mat3.multiply(m,child.attr("matrix"),m)}),m},getTotalMatrix:function(){var m=this._cfg.totalMatrix;if(!m){m=[1,0,0,0,1,0,0,0,1];var parent=this._cfg.parent;if(parent){multiple(m,parent.getTotalMatrix())}multiple(m,this.attr("matrix")),this._cfg.totalMatrix=m}return m},clearTotalMatrix:function(){},invert:function(v){var m=this.getTotalMatrix();if(isScale(m))v[0]/=m[0],v[1]/=m[4];else{var inm=Util.mat3.invert([],m);inm&&Util.vec3.transformMat3(v,v,inm)}return this},resetTransform:function(context){var mo=this.attr("matrix");isUnchanged(mo)||context.transform(mo[0],mo[1],mo[3],mo[4],mo[6],mo[7])}}},function(module,exports,__webpack_require__){function getFromAttrs(toAttrs,shape){var rst={},attrs=shape._attrs;for(var k in toAttrs.attrs)rst[k]=attrs[k];return rst}function getFormatProps(props,shape){var rst={matrix:null,attrs:{}},attrs=shape._attrs;for(var k in props)if("transform"===k)rst.matrix=Util.transform(shape.getMatrix(),props[k]);else if("rotate"===k)rst.matrix=Util.transform(shape.getMatrix(),[["r",props[k]]]);else if("matrix"===k)rst.matrix=props[k];else{if(colorRalaredProps[k]&&/^[r,R,L,l]{1}[\s]*\(/.test(props[k]))continue;ReservedProps[k]||attrs[k]===props[k]||(rst.attrs[k]=props[k])}return rst}function checkExistedAttrs(animators,animator){var delay=animator.delay,hasOwnProperty=Object.prototype.hasOwnProperty;return Util.each(animator.toAttrs,function(v,k){Util.each(animators,function(animator){delay<animator.startTime+animator.duration&&hasOwnProperty.call(animator.toAttrs,k)&&(delete animator.toAttrs[k],delete animator.fromAttrs[k])})}),animator.toMatrix&&Util.each(animators,function(animator){delay<animator.startTime+animator.duration&&animator.toMatrix&&delete animator.toMatrix}),animators}var Util=__webpack_require__(1),ReservedProps={delay:"delay",rotate:"rotate"},colorRalaredProps={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};module.exports={animate:function(toProps,duration,easing,callback,delay){void 0===delay&&(delay=0);var self=this;self.set("animating",!0);var timeline=self.get("timeline");timeline||(timeline=self.get("canvas").get("timeline"),self.setSilent("timeline",timeline));var animators=self.get("animators")||[];timeline._timer||timeline.initTimer(),Util.isNumber(callback)&&(delay=callback,callback=null),Util.isFunction(easing)?(callback=easing,easing="easeLinear"):easing=easing||"easeLinear";var formatProps=getFormatProps(toProps,self),animator={fromAttrs:getFromAttrs(formatProps,self),toAttrs:formatProps.attrs,fromMatrix:Util.clone(self.getMatrix()),toMatrix:formatProps.matrix,duration:duration,easing:easing,callback:callback,delay:delay,startTime:timeline.getTime(),id:Util.uniqueId()};animators.length>0?animators=checkExistedAttrs(animators,animator):timeline.addAnimator(self),animators.push(animator),self.setSilent("animators",animators),self.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var _this=this,animators=this.get("animators");Util.each(animators,function(animator){_this.attr(animator.toAttrs),animator.toMatrix&&_this.attr("matrix",animator.toMatrix),animator.callback&&animator.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var self=this,timeline=self.get("timeline");return self.setSilent("pause",{isPaused:!0,pauseTime:timeline.getTime()}),self},resumeAnimate:function(){var self=this,timeline=self.get("timeline"),current=timeline.getTime(),animators=self.get("animators"),pauseTime=self.get("pause").pauseTime;return Util.each(animators,function(animator){animator.startTime=animator.startTime+(current-pauseTime),animator._paused=!1,animator._pauseTime=null}),self.setSilent("pause",{isPaused:!1}),self.setSilent("animators",animators),self}}},function(module,exports,__webpack_require__){var Shape=__webpack_require__(6);Shape.Arc=__webpack_require__(105),Shape.Circle=__webpack_require__(106),Shape.Dom=__webpack_require__(107),Shape.Ellipse=__webpack_require__(108),Shape.Fan=__webpack_require__(109),Shape.Image=__webpack_require__(110),Shape.Line=__webpack_require__(111),Shape.Marker=__webpack_require__(56),Shape.Path=__webpack_require__(112),Shape.Polygon=__webpack_require__(113),Shape.Polyline=__webpack_require__(114),Shape.Rect=__webpack_require__(115),Shape.Text=__webpack_require__(116),module.exports=Shape},function(module,exports,__webpack_require__){function isPointInPathByContext(x,y,ctx){return ctx.createPath(context),context.isPointInPath(x,y)}var Util=__webpack_require__(1),Inside=__webpack_require__(54),mathUtl={arc:__webpack_require__(37),ellipse:__webpack_require__(104),line:__webpack_require__(36)},canvas=Util.createDom('<canvas width="500" height="500"></canvas>'),context=canvas.getContext("2d"),arc=function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,lineWidth=this.getHitLineWidth();return!!this.hasStroke()&&Inside.arcline(cx,cy,r,startAngle,endAngle,clockwise,lineWidth,x,y)},circle=function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.r,lineWidth=this.getHitLineWidth(),fill=this.hasFill(),stroke=this.hasStroke();return fill&&stroke?Inside.circle(cx,cy,r,x,y)||Inside.arcline(cx,cy,r,0,2*Math.PI,!1,lineWidth,x,y):fill?Inside.circle(cx,cy,r,x,y):!!stroke&&Inside.arcline(cx,cy,r,0,2*Math.PI,!1,lineWidth,x,y)},ellipse=function(x,y){var attrs=this._attrs,fill=this.hasFill(),stroke=this.hasStroke(),cx=attrs.x,cy=attrs.y,rx=attrs.rx,ry=attrs.ry,lineWidth=this.getHitLineWidth(),r=rx>ry?rx:ry,scaleX=rx>ry?1:rx/ry,scaleY=rx>ry?ry/rx:1,p=[x,y,1],m=[1,0,0,0,1,0,0,0,1];Util.mat3.scale(m,m,[scaleX,scaleY]),Util.mat3.translate(m,m,[cx,cy]);var inm=Util.mat3.invert([],m);return Util.vec3.transformMat3(p,p,inm),fill&&stroke?Inside.circle(0,0,r,p[0],p[1])||Inside.arcline(0,0,r,0,2*Math.PI,!1,lineWidth,p[0],p[1]):fill?Inside.circle(0,0,r,p[0],p[1]):!!stroke&&Inside.arcline(0,0,r,0,2*Math.PI,!1,lineWidth,p[0],p[1])},fan=function(x,y){function _isPointInFill(){var angle1=mathUtl.arc.nearAngle(angle,startAngle,endAngle,clockwise);if(Util.isNumberEqual(angle,angle1)){var ls=Util.vec2.squaredLength(subv);if(rs*rs<=ls&&ls<=re*re)return!0}return!1}function _isPointInStroke(){var lineWidth=self.getHitLineWidth(),ssp={x:Math.cos(startAngle)*rs+cx,y:Math.sin(startAngle)*rs+cy},sep={x:Math.cos(startAngle)*re+cx,y:Math.sin(startAngle)*re+cy},esp={x:Math.cos(endAngle)*rs+cx,y:Math.sin(endAngle)*rs+cy},eep={x:Math.cos(endAngle)*re+cx,y:Math.sin(endAngle)*re+cy};return!!Inside.line(ssp.x,ssp.y,sep.x,sep.y,lineWidth,x,y)||(!!Inside.line(esp.x,esp.y,eep.x,eep.y,lineWidth,x,y)||(!!Inside.arcline(cx,cy,rs,startAngle,endAngle,clockwise,lineWidth,x,y)||!!Inside.arcline(cx,cy,re,startAngle,endAngle,clockwise,lineWidth,x,y)))}var self=this,fill=self.hasFill(),stroke=self.hasStroke(),attrs=self._attrs,cx=attrs.x,cy=attrs.y,rs=attrs.rs,re=attrs.re,startAngle=attrs.startAngle,endAngle=attrs.endAngle,clockwise=attrs.clockwise,v1=[1,0],subv=[x-cx,y-cy],angle=Util.vec2.angleTo(v1,subv);return fill&&stroke?_isPointInFill()||_isPointInStroke():fill?_isPointInFill():!!stroke&&_isPointInStroke()},image=function(x,y){var attrs=this._attrs;if(this.get("toDraw")||!attrs.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===attrs.img||this._setAttrImg();var rx=attrs.x,ry=attrs.y,width=attrs.width,height=attrs.height;return Inside.rect(rx,ry,width,height,x,y)},line=function(x,y){var attrs=this._attrs,x1=attrs.x1,y1=attrs.y1,x2=attrs.x2,y2=attrs.y2,lineWidth=this.getHitLineWidth();return!!this.hasStroke()&&Inside.line(x1,y1,x2,y2,lineWidth,x,y)},path=function(x,y){function _isPointInStroke(){if(!Util.isEmpty(segments)){for(var lineWidth=self.getHitLineWidth(),i=0,l=segments.length;i<l;i++)if(segments[i].isInside(x,y,lineWidth))return!0;return!1}}var self=this,segments=self.get("segments"),fill=self.hasFill(),stroke=self.hasStroke();return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},polygon=function(x,y){function _isPointInStroke(){var attrs=self._attrs,points=attrs.points;if(points.length<2)return!1;var lineWidth=self.getHitLineWidth(),outPoints=points.slice(0);return points.length>=3&&outPoints.push(points[0]),Inside.polyline(outPoints,lineWidth,x,y)}var self=this,fill=self.hasFill(),stroke=self.hasStroke();return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},marker=function(x,y){var attrs=this._attrs,cx=attrs.x,cy=attrs.y,r=attrs.radius||attrs.r,lineWidth=this.getHitLineWidth();return Inside.circle(cx,cy,r+lineWidth/2,x,y)},polyline=function(x,y){var self=this,attrs=self._attrs;if(self.hasStroke()){var points=attrs.points;if(points.length<2)return!1;var lineWidth=attrs.lineWidth;return Inside.polyline(points,lineWidth,x,y)}return!1},rect=function(x,y){function _isPointInStroke(){var attrs=self._attrs,rx=attrs.x,ry=attrs.y,width=attrs.width,height=attrs.height,radius=attrs.radius,lineWidth=self.getHitLineWidth();if(0===radius){var halfWidth=lineWidth/2;return Inside.line(rx-halfWidth,ry,rx+width+halfWidth,ry,lineWidth,x,y)||Inside.line(rx+width,ry-halfWidth,rx+width,ry+height+halfWidth,lineWidth,x,y)||Inside.line(rx+width+halfWidth,ry+height,rx-halfWidth,ry+height,lineWidth,x,y)||Inside.line(rx,ry+height+halfWidth,rx,ry-halfWidth,lineWidth,x,y)}return Inside.line(rx+radius,ry,rx+width-radius,ry,lineWidth,x,y)||Inside.line(rx+width,ry+radius,rx+width,ry+height-radius,lineWidth,x,y)||Inside.line(rx+width-radius,ry+height,rx+radius,ry+height,lineWidth,x,y)||Inside.line(rx,ry+height-radius,rx,ry+radius,lineWidth,x,y)||Inside.arcline(rx+width-radius,ry+radius,radius,1.5*Math.PI,2*Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+width-radius,ry+height-radius,radius,0,.5*Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+radius,ry+height-radius,radius,.5*Math.PI,Math.PI,!1,lineWidth,x,y)||Inside.arcline(rx+radius,ry+radius,radius,Math.PI,1.5*Math.PI,!1,lineWidth,x,y)}var self=this,fill=self.hasFill(),stroke=self.hasStroke();return fill&&stroke?isPointInPathByContext(x,y,self)||_isPointInStroke():fill?isPointInPathByContext(x,y,self):!!stroke&&_isPointInStroke()},text=function(x,y){var self=this,box=self.getBBox();if(self.hasFill()||self.hasStroke())return Inside.box(box.minX,box.maxX,box.minY,box.maxY,x,y)},dom=function(x,y){if(!this._cfg.el)return!1;var box=this._cfg.el.getBBox();return Inside.box(box.x,box.x+box.width,box.y,box.y+box.height,x,y)},shapes={arc:arc,circle:circle,dom:dom,ellipse:ellipse,fan:fan,image:image,line:line,path:path,marker:marker,polygon:polygon,polyline:polyline,rect:rect,text:text};module.exports={isPointInPath:function(x,y){var shape=shapes[this.type];return!!shape&&shape.call(this,x,y)}}},function(module,exports,__webpack_require__){function _update(self,animator,ratio){var cProps={},toAttrs=animator.toAttrs,fromAttrs=animator.fromAttrs,toMatrix=animator.toMatrix;if(!self.get("destroyed")){var interf;for(var k in toAttrs)if(!Util.isEqual(fromAttrs[k],toAttrs[k]))if("path"===k){var toPath=toAttrs[k],fromPath=fromAttrs[k];toPath.length>fromPath.length?(toPath=PathUtil.parsePathString(toAttrs[k]),fromPath=PathUtil.parsePathString(fromAttrs[k]),fromPath=PathUtil.fillPathByDiff(fromPath,toPath),fromPath=PathUtil.formatPath(fromPath,toPath),animator.fromAttrs.path=fromPath,animator.toAttrs.path=toPath):animator.pathFormatted||(toPath=PathUtil.parsePathString(toAttrs[k]),fromPath=PathUtil.parsePathString(fromAttrs[k]),fromPath=PathUtil.formatPath(fromPath,toPath),animator.fromAttrs.path=fromPath,animator.toAttrs.path=toPath,animator.pathFormatted=!0),cProps[k]=[];for(var i=0;i<toPath.length;i++){for(var toPathPoint=toPath[i],fromPathPoint=fromPath[i],cPathPoint=[],j=0;j<toPathPoint.length;j++)Util.isNumber(toPathPoint[j])&&fromPathPoint&&Util.isNumber(fromPathPoint[j])?(interf=interpolate(fromPathPoint[j],toPathPoint[j]),cPathPoint.push(interf(ratio))):cPathPoint.push(toPathPoint[j]);cProps[k].push(cPathPoint)}}else interf=interpolate(fromAttrs[k],toAttrs[k]),cProps[k]=interf(ratio);if(toMatrix){var mf=interpolateArray(animator.fromMatrix,toMatrix),cM=mf(ratio);self.setMatrix(cM)}self.attr(cProps)}}function update(shape,animator,elapsed){var startTime=animator.startTime;if(elapsed<startTime+animator.delay||animator.isPaused)return!1;var ratio,duration=animator.duration,easing=animator.easing;if(elapsed=elapsed-startTime-animator.delay,animator.toAttrs.repeat)ratio=elapsed%duration/duration,ratio=d3Ease[easing](ratio);else{if(!((ratio=elapsed/duration)<1))return shape.attr(animator.toAttrs),animator.toMatrix&&shape.setMatrix(animator.toMatrix),!0;ratio=d3Ease[easing](ratio)}return _update(shape,animator,ratio),!1}var Util=__webpack_require__(1),PathUtil=__webpack_require__(57),d3Timer=__webpack_require__(170),d3Ease=__webpack_require__(173),_require=__webpack_require__(117),interpolate=_require.interpolate,interpolateArray=_require.interpolateArray,Timeline=function(canvas){this._animators=[],this._current=0,this._timer=null,this.canvas=canvas};Util.augment(Timeline,{initTimer:function(){var shape,animators,animator,_this=this,self=this,isFinished=!1;self._timer=d3Timer.timer(function(elapsed){if(self._current=elapsed,_this._animators.length>0){for(var i=_this._animators.length-1;i>=0;i--)if(shape=_this._animators[i],shape.get("destroyed"))self.removeAnimator(i);else{if(!shape.get("pause").isPaused){animators=shape.get("animators");for(var j=animators.length-1;j>=0;j--)animator=animators[j],(isFinished=update(shape,animator,elapsed))&&(animators.splice(j,1),isFinished=!1,animator.callback&&animator.callback())}0===animators.length&&self.removeAnimator(i)}_this.canvas.draw()}})},addAnimator:function(shape){this._animators.push(shape)},removeAnimator:function(index){this._animators.splice(index,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(animator){animator.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),module.exports=Timeline},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__timer__=__webpack_require__(58);__webpack_exports__.a=function(callback,delay,time){var t=new __WEBPACK_IMPORTED_MODULE_0__timer__.a;return delay=null==delay?0:+delay,t.restart(function(elapsed){t.stop(),callback(elapsed+delay)},delay,time),t}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__timer__=__webpack_require__(58);__webpack_exports__.a=function(callback,delay,time){var t=new __WEBPACK_IMPORTED_MODULE_0__timer__.a,total=delay;return null==delay?(t.restart(callback,delay,time),t):(delay=+delay,time=null==time?Object(__WEBPACK_IMPORTED_MODULE_0__timer__.b)():+time,t.restart(function tick(elapsed){elapsed+=total,t.restart(tick,total+=delay,time),callback(elapsed)},delay,time),t)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function linear(t){return+t}__webpack_exports__.a=linear},function(module,__webpack_exports__,__webpack_require__){"use strict";function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}__webpack_exports__.a=quadIn,__webpack_exports__.c=quadOut,__webpack_exports__.b=quadInOut},function(module,__webpack_exports__,__webpack_require__){"use strict";function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}__webpack_exports__.a=cubicIn,__webpack_exports__.c=cubicOut,__webpack_exports__.b=cubicInOut},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return polyIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return polyOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return polyInOut});var polyIn=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),polyOut=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),polyInOut=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3)},function(module,__webpack_exports__,__webpack_require__){"use strict";function sinIn(t){return 1-Math.cos(t*halfPi)}function sinOut(t){return Math.sin(t*halfPi)}function sinInOut(t){return(1-Math.cos(pi*t))/2}__webpack_exports__.a=sinIn,__webpack_exports__.c=sinOut,__webpack_exports__.b=sinInOut;var pi=Math.PI,halfPi=pi/2},function(module,__webpack_exports__,__webpack_require__){"use strict";function expIn(t){return Math.pow(2,10*t-10)}function expOut(t){return 1-Math.pow(2,-10*t)}function expInOut(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}__webpack_exports__.a=expIn,__webpack_exports__.c=expOut,__webpack_exports__.b=expInOut},function(module,__webpack_exports__,__webpack_require__){"use strict";function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}__webpack_exports__.a=circleIn,__webpack_exports__.c=circleOut,__webpack_exports__.b=circleInOut},function(module,__webpack_exports__,__webpack_require__){"use strict";function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}__webpack_exports__.a=bounceIn,__webpack_exports__.c=bounceOut,__webpack_exports__.b=bounceInOut;var b1=4/11,b2=6/11,b3=8/11,b4=.75,b5=9/11,b6=10/11,b7=.9375,b8=21/22,b9=63/64,b0=1/b1/b1},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return backIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return backOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return backInOut});var backIn=function custom(s){function backIn(t){return t*t*((s+1)*t-s)}return s=+s,backIn.overshoot=custom,backIn}(1.70158),backOut=function custom(s){function backOut(t){return--t*t*((s+1)*t+s)+1}return s=+s,backOut.overshoot=custom,backOut}(1.70158),backInOut=function custom(s){function backInOut(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,backInOut.overshoot=custom,backInOut}(1.70158)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return elasticIn}),__webpack_require__.d(__webpack_exports__,"c",function(){return elasticOut}),__webpack_require__.d(__webpack_exports__,"b",function(){return elasticInOut});var tau=2*Math.PI,elasticIn=function custom(a,p){function elasticIn(t){return a*Math.pow(2,10*--t)*Math.sin((s-t)/p)}var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);return elasticIn.amplitude=function(a){return custom(a,p*tau)},elasticIn.period=function(p){return custom(a,p)},elasticIn}(1,.3),elasticOut=function custom(a,p){function elasticOut(t){return 1-a*Math.pow(2,-10*(t=+t))*Math.sin((t+s)/p)}var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);return elasticOut.amplitude=function(a){return custom(a,p*tau)},elasticOut.period=function(p){return custom(a,p)},elasticOut}(1,.3),elasticInOut=function custom(a,p){function elasticInOut(t){return((t=2*t-1)<0?a*Math.pow(2,10*t)*Math.sin((s-t)/p):2-a*Math.pow(2,-10*t)*Math.sin((s+t)/p))/2}var s=Math.asin(1/(a=Math.max(1,a)))*(p/=tau);return elasticInOut.amplitude=function(a){return custom(a,p*tau)},elasticInOut.period=function(p){return custom(a,p)},elasticInOut}(1,.3)},function(module,__webpack_exports__,__webpack_require__){"use strict";function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl){var h=o.h*__WEBPACK_IMPORTED_MODULE_2__math__.a;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var b=rgb2xyz(o.r),a=rgb2xyz(o.g),l=rgb2xyz(o.b),x=xyz2lab((.4124564*b+.3575761*a+.1804375*l)/Xn),y=xyz2lab((.2126729*b+.7151522*a+.072175*l)/Yn);return new Lab(116*y-16,500*(x-y),200*(y-xyz2lab((.0193339*b+.119192*a+.9503041*l)/Zn)),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function xyz2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2xyz(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);o instanceof Lab||(o=labConvert(o));var h=Math.atan2(o.b,o.a)*__WEBPACK_IMPORTED_MODULE_2__math__.b;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}__webpack_exports__.a=lab,__webpack_exports__.b=hcl;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(118),Xn=.95047,Yn=1,Zn=1.08883,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Lab,lab,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return y=Yn*lab2xyz(y),x=Xn*lab2xyz(x),z=Zn*lab2xyz(z),new __WEBPACK_IMPORTED_MODULE_1__color__.b(xyz2rgb(3.2404542*x-1.5371385*y-.4985314*z),xyz2rgb(-.969266*x+1.8760108*y+.041556*z),xyz2rgb(.0556434*x-.2040259*y+1.0572252*z),this.opacity)}})),Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Hcl,hcl,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return labConvert(this).rgb()}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof __WEBPACK_IMPORTED_MODULE_1__color__.b||(o=Object(__WEBPACK_IMPORTED_MODULE_1__color__.h)(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*__WEBPACK_IMPORTED_MODULE_2__math__.b-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}function cubehelix(h,s,l,opacity){return 1===arguments.length?cubehelixConvert(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}__webpack_exports__.a=cubehelix;var __WEBPACK_IMPORTED_MODULE_0__define__=__webpack_require__(61),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(60),__WEBPACK_IMPORTED_MODULE_2__math__=__webpack_require__(118),A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;Object(__WEBPACK_IMPORTED_MODULE_0__define__.a)(Cubehelix,cubehelix,Object(__WEBPACK_IMPORTED_MODULE_0__define__.b)(__WEBPACK_IMPORTED_MODULE_1__color__.a,{brighter:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.c:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.c,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?__WEBPACK_IMPORTED_MODULE_1__color__.d:Math.pow(__WEBPACK_IMPORTED_MODULE_1__color__.d,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*__WEBPACK_IMPORTED_MODULE_2__math__.a,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new __WEBPACK_IMPORTED_MODULE_1__color__.b(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(a,b){return a=+a,b-=a,function(t){return Math.round(a+b*t)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(xa,xb)},{i:i-2,x:Object(__WEBPACK_IMPORTED_MODULE_0__number__.a)(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),translate(a.translateX,a.translateY,b.translateX,b.translateY,s,q),rotate(a.rotate,b.rotate,s,q),skewX(a.skewX,b.skewX,s,q),scale(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}__webpack_require__.d(__webpack_exports__,"a",function(){return interpolateTransformCss}),__webpack_require__.d(__webpack_exports__,"b",function(){return interpolateTransformSvg});var __WEBPACK_IMPORTED_MODULE_0__number__=__webpack_require__(40),__WEBPACK_IMPORTED_MODULE_1__parse__=__webpack_require__(207),interpolateTransformCss=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.a,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(__WEBPACK_IMPORTED_MODULE_1__parse__.b,", ",")",")")},function(module,__webpack_exports__,__webpack_require__){"use strict";function parseCss(value){return"none"===value?__WEBPACK_IMPORTED_MODULE_0__decompose__.b:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),value=value.slice(7,-1).split(","),Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(+value[0],+value[1],+value[2],+value[3],+value[4],+value[5]))}function parseSvg(value){return null==value?__WEBPACK_IMPORTED_MODULE_0__decompose__.b:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?(value=value.matrix,Object(__WEBPACK_IMPORTED_MODULE_0__decompose__.a)(value.a,value.b,value.c,value.d,value.e,value.f)):__WEBPACK_IMPORTED_MODULE_0__decompose__.b)}__webpack_exports__.a=parseCss,__webpack_exports__.b=parseSvg;var cssNode,cssRoot,cssView,svgNode,__WEBPACK_IMPORTED_MODULE_0__decompose__=__webpack_require__(208)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return identity});var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};__webpack_exports__.a=function(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX:scaleX,scaleY:scaleY}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function cosh(x){return((x=Math.exp(x))+1/x)/2}function sinh(x){return((x=Math.exp(x))-1/x)/2}function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}var rho=Math.SQRT2;__webpack_exports__.a=function(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+4*d2)/(2*w0*2*d1),b1=(w1*w1-w0*w0-4*d2)/(2*w1*2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(2*d1)*(coshr0*tanh(rho*s+r0)-sinh(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i}},function(module,__webpack_exports__,__webpack_require__){"use strict";function hsl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.d)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.d)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_require__.d(__webpack_exports__,"b",function(){return hslLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);__webpack_exports__.a=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hslLong=hsl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";function lab(start,end){var l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.e)(start)).l,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.e)(end)).l),a=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.a,end.a),b=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.b,end.b),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}}__webpack_exports__.a=lab;var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28)},function(module,__webpack_exports__,__webpack_require__){"use strict";function hcl(hue){return function(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.c)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.c)(end)).h),c=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.c,end.c),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}__webpack_require__.d(__webpack_exports__,"b",function(){return hclLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);__webpack_exports__.a=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.c);var hclLong=hcl(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.b)(start)).h,(end=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.b)(end)).h),s=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.s,end.s),l=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.l,end.l),opacity=Object(__WEBPACK_IMPORTED_MODULE_1__color__.a)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}__webpack_require__.d(__webpack_exports__,"a",function(){return cubehelixLong});var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1__color__=__webpack_require__(28);__webpack_exports__.b=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.c);var cubehelixLong=cubehelix(__WEBPACK_IMPORTED_MODULE_1__color__.a)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}},function(module,exports,__webpack_require__){module.exports={canvas:__webpack_require__(216),svg:__webpack_require__(219)}},function(module,exports,__webpack_require__){module.exports={painter:__webpack_require__(217)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),renderUtil=__webpack_require__(218),SHAPE_ATTRS=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],Painter=function(){function Painter(dom){if(!dom)return null;var canvasId=Util.uniqueId("canvas_"),canvasDom=Util.createDom('<canvas id="'+canvasId+'"></canvas>');return dom.appendChild(canvasDom),this.type="canvas",this.canvas=canvasDom,this.context=canvasDom.getContext("2d"),this.toDraw=!1,this}var _proto=Painter.prototype;return _proto.beforeDraw=function(){var el=this.canvas;this.context&&this.context.clearRect(0,0,el.width,el.height)},_proto.draw=function(model){function drawInner(){self.animateHandler=Util.requestAnimationFrame(function(){self.animateHandler=void 0,self.toDraw&&drawInner()}),self.beforeDraw();try{self._drawGroup(model)}catch(ev){self.toDraw=!1}self.toDraw=!1}var self=this;self.animateHandler?self.toDraw=!0:drawInner()},_proto.drawSync=function(model){this.beforeDraw(),this._drawGroup(model)},_proto._drawGroup=function(group){if(!group._cfg.removed&&!group._cfg.destroyed&&group._cfg.visible){var self=this,children=group._cfg.children,child=null;this.setContext(group);for(var i=0;i<children.length;i++)child=children[i],children[i].isGroup?self._drawGroup(child):self._drawShape(child);this.restoreContext(group)}},_proto._drawShape=function(shape){shape._cfg.removed||shape._cfg.destroyed||!shape._cfg.visible||(this.setContext(shape),shape.drawInner(this.context),this.restoreContext(shape),shape._cfg.attrs=shape._attrs,shape._cfg.hasUpdate=!1)},_proto.setContext=function(shape){var context=this.context,clip=shape._attrs.clip;context.save(),clip&&(clip.resetTransform(context),clip.createPath(context),context.clip()),this.resetContext(shape),shape.resetTransform(context)},_proto.restoreContext=function(){this.context.restore()},_proto.resetContext=function(shape){var context=this.context,elAttrs=shape._attrs;if(!shape.isGroup)for(var k in elAttrs)if(SHAPE_ATTRS.indexOf(k)>-1){var v=elAttrs[k];"fillStyle"===k&&(v=renderUtil.parseStyle(v,shape,context)),"strokeStyle"===k&&(v=renderUtil.parseStyle(v,shape,context)),"lineDash"===k&&context.setLineDash?Util.isArray(v)?context.setLineDash(v):Util.isString(v)&&context.setLineDash(v.split(" ")):context[k]=v}},Painter}();module.exports=Painter},function(module,exports,__webpack_require__){function addStop(steps,gradient){var arr=steps.match(regexColorStop);Util.each(arr,function(item){item=item.split(":"),gradient.addColorStop(item[0],item[1])})}function parseLineGradient(color,self,context){var start,end,arr=regexLG.exec(color),angle=Util.mod(Util.toRadian(parseFloat(arr[1])),2*Math.PI),steps=arr[2],box=self.getBBox();angle>=0&&angle<.5*Math.PI?(start={x:box.minX,y:box.minY},end={x:box.maxX,y:box.maxY}):.5*Math.PI<=angle&&angle<Math.PI?(start={x:box.maxX,y:box.minY},end={x:box.minX,y:box.maxY}):Math.PI<=angle&&angle<1.5*Math.PI?(start={x:box.maxX,y:box.maxY},end={x:box.minX,y:box.minY}):(start={x:box.minX,y:box.maxY},end={x:box.maxX,y:box.minY});var tanTheta=Math.tan(angle),tanTheta2=tanTheta*tanTheta,x=(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.x,y=tanTheta*(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.y,gradient=context.createLinearGradient(start.x,start.y,x,y);return addStop(steps,gradient),gradient}function parseRadialGradient(color,self,context){var arr=regexRG.exec(color),fx=parseFloat(arr[1]),fy=parseFloat(arr[2]),fr=parseFloat(arr[3]),steps=arr[4];if(0===fr){var colors=steps.match(regexColorStop);return colors[colors.length-1].split(":")[1]}var box=self.getBBox(),width=box.maxX-box.minX,height=box.maxY-box.minY,r=Math.sqrt(width*width+height*height)/2,gradient=context.createRadialGradient(box.minX+width*fx,box.minY+height*fy,fr*r,box.minX+width/2,box.minY+height/2,r);return addStop(steps,gradient),gradient}function parsePattern(color,self,context){function onload(){pattern=context.createPattern(img,repeat),self.setSilent("pattern",pattern),self.setSilent("patternSource",color)}if(self.get("patternSource")&&self.get("patternSource")===color)return self.get("pattern");var pattern,img,arr=regexPR.exec(color),repeat=arr[1],source=arr[2];switch(repeat){case"a":repeat="repeat";break;case"x":repeat="repeat-x";break;case"y":repeat="repeat-y";break;case"n":repeat="no-repeat";break;default:repeat="no-repeat"}return img=new Image,source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?onload():(img.onload=onload,img.src=img.src),pattern}var Util=__webpack_require__(1),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi,regexLG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,regexRG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,regexPR=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,regexColorStop=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,numColorCache={};module.exports={parsePath:function(path){return path=path||[],Util.isArray(path)?path:Util.isString(path)?(path=path.match(regexTags),Util.each(path,function(item,index){if(item=item.match(regexDot),item[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}Util.each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0},parseStyle:function(color,self,context){if(Util.isString(color)){if("("===color[1]||"("===color[2]){if("l"===color[0])return parseLineGradient(color,self,context);if("r"===color[0])return parseRadialGradient(color,self,context);if("p"===color[0])return parsePattern(color,self,context)}return color}},numberToColor:function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;color="#"+str,numColorCache[num]=color}return color}}},function(module,exports,__webpack_require__){module.exports={painter:__webpack_require__(220),getShape:__webpack_require__(227)}},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),_require=__webpack_require__(27),parseRadius=_require.parseRadius,Marker=__webpack_require__(56),Defs=__webpack_require__(221),SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},BASELINE_MAP={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ANCHOR_MAP={left:"left",start:"left",center:"middle",right:"end",end:"end"},Painter=function(){function Painter(dom){if(!dom)return null;var svgId=Util.uniqueId("canvas_"),canvasDom=Util.createDom('<svg id="'+svgId+'"></svg>');return dom.appendChild(canvasDom),this.type="svg",this.canvas=canvasDom,this.context=new Defs(canvasDom),this.toDraw=!1,this}var _proto=Painter.prototype;return _proto.draw=function(model){function drawInner(){self.animateHandler=Util.requestAnimationFrame(function(){self.animateHandler=void 0,self.toDraw&&drawInner()});try{model.resetMatrix(),self._drawGroup(model,!1)}catch(ev){self.toDraw=!1}self.toDraw=!1}var self=this;self.animateHandler?self.toDraw=!0:drawInner()},_proto.drawSync=function(model){this._drawChildren(model,!1)},_proto._drawGroup=function(model,redraw){var cfg=model._cfg;cfg.removed||cfg.destroyed||(!cfg.el&&cfg.attrs&&(redraw=!0),cfg.tobeRemoved&&(Util.each(cfg.tobeRemoved,function(item){item.parentNode&&item.parentNode.removeChild(item)}),cfg.tobeRemoved=[]),this._drawShape(model,redraw),cfg.children&&cfg.children.length>0&&this._drawChildren(model,redraw))},_proto._drawChildren=function(parent,redraw){var shape,self=this,children=parent._cfg.children;if(children){if(parent._cfg.el&&!redraw){var childLen=parent._cfg.el.childNodes.length+1;0!==childLen&&childLen!==children.length&&(redraw=!0)}for(var i=0;i<children.length;i++)shape=children[i],shape.isGroup?self._drawGroup(shape,redraw):self._drawShape(shape,redraw)}},_proto._drawShape=function(model,redraw){var self=this,attrs=model._attrs,cfg=model._cfg,el=cfg.el;return cfg.removed||cfg.destroyed?void(el&&el.parentNode.removeChild(cfg.el)):(redraw&&el&&(el.parentNode&&el.parentNode.removeChild(el),el=null),!el&&cfg.parent&&(self._createDom(model),self._updateShape(model)),el=cfg.el,!1===cfg.visible?void el.setAttribute("visibility","hidden"):(cfg.visible&&el.hasAttribute("visibility")&&el.removeAttribute("visibility"),cfg.hasUpdate&&self._updateShape(model),void(attrs.clip&&attrs.clip._cfg.hasUpdate&&self._updateShape(attrs.clip))))},_proto._updateShape=function(model){var self=this,attrs=model._attrs,formerAttrs=model._cfg.attrs;if(formerAttrs){if(model._cfg.el||self._createDom(model),"clip"in attrs&&this._setClip(model,attrs.clip),("shadowOffsetX"in attrs||"shadowOffsetY"in attrs||"shadowBlur"in attrs||"shadowColor"in attrs)&&this._setShadow(model),"text"===model.type)return void self._updateText(model);"fan"===model.type&&self._updateFan(model),"marker"===model.type&&model._cfg.el.setAttribute("d",self._assembleMarker(attrs)),"rect"===model.type&&model._cfg.el.setAttribute("d",self._assembleRect(attrs));for(var key in attrs)attrs[key]!==formerAttrs[key]&&self._setAttribute(model,key,attrs[key]);model._cfg.attrs=Util.deepMix({},model._attrs),model._cfg.hasUpdate=!1}},_proto._setAttribute=function(model,name,value){var type=model.type,attrs=model._attrs,el=model._cfg.el,defs=this.context;if("marker"!==type&&"rect"!==type||!~["x","y","radius","r"].indexOf(name)){if(~["circle","ellipse"].indexOf(type)&&~["x","y"].indexOf(name))return void el.setAttribute("c"+name,parseInt(value,10));if("polygon"===type&&"points"===name)return value&&0!==value.length||(value=""),Util.isArray(value)&&(value=value.map(function(point){return point[0]+","+point[1]}),value=value.join(" ")),void el.setAttribute("points",value);if("path"===name&&Util.isArray(value))return void el.setAttribute("d",this._formatPath(value));if("img"===name)return void this._setImage(model,value);if("transform"===name)return value?void this._setTransform(model):void el.removeAttribute("transform");if("rotate"===name)return value?void this._setTransform(model):void el.removeAttribute("transform");if("matrix"===name)return void this._setTransform(model);if("fillStyle"===name||"strokeStyle"===name)return void this._setColor(model,name,value);if("clip"!==name)if(~name.indexOf("Arrow"))if(name=SVG_ATTR_MAP[name],value){var id=null;id="boolean"==typeof value?defs.getDefaultArrow(attrs,name):defs.addArrow(attrs,name),el.setAttribute(name,"url(#"+id+")"),model._cfg[name]=id}else model._cfg[name]=null,el.removeAttribute(name);else"html"===name&&("string"==typeof value?el.innerHTML=value:(el.innerHTML="",el.appendChild(value))),SVG_ATTR_MAP[name]&&el.setAttribute(SVG_ATTR_MAP[name],value)}},_proto._createDom=function(model){var type=SHAPE_TO_TAGS[model.type],attrs=model._attrs;if(!type)throw new Error("the type"+model.type+"is not supported by svg");var shape=document.createElementNS("http://www.w3.org/2000/svg",type);return model._cfg.el=shape,model._cfg.parent&&model._cfg.parent.get("el").appendChild(shape),model._cfg.attrs={},"text"===model.type?(shape.setAttribute("paint-order","stroke"),shape.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(attrs.stroke||attrs.strokeStyle||shape.setAttribute("stroke","none"),attrs.fill||attrs.fillStyle||shape.setAttribute("fill","none")),shape},_proto._assembleMarker=function(attrs){var r=attrs.r;if(void 0===attrs.r&&(r=attrs.radius),isNaN(Number(attrs.x))||isNaN(Number(attrs.y))||isNaN(Number(r)))return"";var d="";return d="function"==typeof attrs.symbol?attrs.symbol(attrs.x,attrs.y,r):Marker.Symbols[attrs.symbol||"circle"](attrs.x,attrs.y,r),Util.isArray(d)&&(d=d.map(function(path){return path.join(" ")}).join("")),d},_proto._assembleRect=function(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height,radius=attrs.radius;if(!radius)return"M "+x+","+y+" l "+w+",0 l 0,"+h+" l"+-w+" 0 z";var r=parseRadius(radius);return Util.isArray(radius)?1===radius.length?r.r1=r.r2=r.r3=r.r4=radius[0]:2===radius.length?(r.r1=r.r3=radius[0],r.r2=r.r4=radius[1]):3===radius.length?(r.r1=radius[0],r.r2=r.r4=radius[1],r.r3=radius[2]):(r.r1=radius[0],r.r2=radius[1],r.r3=radius[2],r.r4=radius[3]):r.r1=r.r2=r.r3=r.r4=radius,[["M "+(x+r.r1)+","+y],["l "+(w-r.r1-r.r2)+",0"],["a "+r.r2+","+r.r2+",0,0,1,"+r.r2+","+r.r2],["l 0,"+(h-r.r2-r.r3)],["a "+r.r3+","+r.r3+",0,0,1,"+-r.r3+","+r.r3],["l "+(r.r3+r.r4-w)+",0"],["a "+r.r4+","+r.r4+",0,0,1,"+-r.r4+","+-r.r4],["l 0,"+(r.r4+r.r1-h)],["a "+r.r1+","+r.r1+",0,0,1,"+r.r1+","+-r.r1],["z"]].join(" ")},_proto._formatPath=function(value){return value=value.map(function(path){return path.join(" ")}).join(""),~value.indexOf("NaN")?"":value},_proto._setTransform=function(model){for(var matrix=model._attrs.matrix,el=model._cfg.el,transform=[],i=0;i<9;i+=3)transform.push(matrix[i]+","+matrix[i+1]);transform=transform.join(","),-1===transform.indexOf("NaN")&&el.setAttribute("transform","matrix("+transform+")")},_proto._setImage=function(model,img){var attrs=model._attrs,el=model._cfg.el;if(Util.isString(img))el.setAttribute("href",img);else if(img instanceof Image)attrs.width||(el.setAttribute("width",img.width),model._attrs.width=img.width),attrs.height||(el.setAttribute("height",img.height),model._attrs.height=img.height),el.setAttribute("href",img.src);else if(img instanceof HTMLElement&&Util.isString(img.nodeName)&&"CANVAS"===img.nodeName.toUpperCase())el.setAttribute("href",img.toDataURL());else if(img instanceof ImageData){var canvas=document.createElement("canvas");canvas.setAttribute("width",img.width),canvas.setAttribute("height",img.height),canvas.getContext("2d").putImageData(img,0,0),attrs.width||(el.setAttribute("width",img.width),model._attrs.width=img.width),attrs.height||(el.setAttribute("height",img.height),model._attrs.height=img.height),el.setAttribute("href",canvas.toDataURL())}},_proto._updateFan=function(model){function getPoint(angle,radius,center){return{x:radius*Math.cos(angle)+center.x,y:radius*Math.sin(angle)+center.y}}var attrs=model._attrs,cfg=model._cfg,center={x:attrs.x,y:attrs.y},d=[],startAngle=attrs.startAngle,endAngle=attrs.endAngle;Util.isNumberEqual(endAngle-startAngle,2*Math.PI)&&(endAngle-=1e-5);var outerStart=getPoint(startAngle,attrs.re,center),outerEnd=getPoint(endAngle,attrs.re,center),fa=endAngle>startAngle?1:0,fs=Math.abs(endAngle-startAngle)>Math.PI?1:0,rs=attrs.rs,re=attrs.re,innerStart=getPoint(startAngle,attrs.rs,center),innerEnd=getPoint(endAngle,attrs.rs,center);attrs.rs>0?(d.push("M "+outerEnd.x+","+outerEnd.y),d.push("L "+innerEnd.x+","+innerEnd.y),d.push("A "+rs+","+rs+",0,"+fs+","+(1===fa?0:1)+","+innerStart.x+","+innerStart.y),d.push("L "+outerStart.x+" "+outerStart.y)):(d.push("M "+center.x+","+center.y),d.push("L "+outerStart.x+","+outerStart.y)),d.push("A "+re+","+re+",0,"+fs+","+fa+","+outerEnd.x+","+outerEnd.y),attrs.rs>0?d.push("L "+innerEnd.x+","+innerEnd.y):d.push("Z"),cfg.el.setAttribute("d",d.join(" "))},_proto._updateText=function(model){var self=this,attrs=model._attrs,formerAttrs=model._cfg.attrs,el=model._cfg.el;this._setFont(model);for(var attr in attrs)if(attrs[attr]!==formerAttrs[attr]){if("text"===attr){self._setText(model,""+attrs[attr]);continue}if("fillStyle"===attr||"strokeStyle"===attr){this._setColor(model,attr,attrs[attr]);continue}if("matrix"===attr){this._setTransform(model);continue}SVG_ATTR_MAP[attr]&&el.setAttribute(SVG_ATTR_MAP[attr],attrs[attr])}model._cfg.attrs=Object.assign({},model._attrs),model._cfg.hasUpdate=!1},_proto._setFont=function(model){var el=model.get("el"),attrs=model._attrs,fontSize=attrs.fontSize;el.setAttribute("alignment-baseline",BASELINE_MAP[attrs.textBaseline]||"baseline"),el.setAttribute("text-anchor",ANCHOR_MAP[attrs.textAlign]||"left"),fontSize&&+fontSize<12&&(attrs.matrix=[1,0,0,0,1,0,0,0,1],model.transform([["t",-attrs.x,-attrs.y],["s",+fontSize/12,+fontSize/12],["t",attrs.x,attrs.y]]))},_proto._setText=function(model,text){var el=model._cfg.el,baseline=model._attrs.textBaseline||"bottom";if(text)if(~text.indexOf("\n")){var x=model._attrs.x,textArr=text.split("\n"),textLen=textArr.length-1,arr="";Util.each(textArr,function(segment,i){0===i?"alphabetic"===baseline?arr+='<tspan x="'+x+'" dy="'+-textLen+'em">'+segment+"</tspan>":"top"===baseline?arr+='<tspan x="'+x+'" dy="0.9em">'+segment+"</tspan>":"middle"===baseline?arr+='<tspan x="'+x+'" dy="'+-(textLen-1)/2+'em">'+segment+"</tspan>":"bottom"===baseline?arr+='<tspan x="'+x+'" dy="-'+(textLen+.3)+'em">'+segment+"</tspan>":"hanging"===baseline&&(arr+='<tspan x="'+x+'" dy="'+(-(textLen-1)-.3)+'em">'+segment+"</tspan>"):arr+='<tspan x="'+x+'" dy="1em">'+segment+"</tspan>"}),el.innerHTML=arr}else el.innerHTML=text;else el.innerHTML=""},_proto._setClip=function(model,value){var el=model._cfg.el;if(!value)return void el.removeAttribute("clip-path");if(el.hasAttribute("clip-path"))value._cfg.hasUpdate&&this._updateShape(value);else{this._createDom(value),this._updateShape(value);var id=this.context.addClip(value);el.setAttribute("clip-path","url(#"+id+")")}},_proto._setColor=function(model,name,value){var el=model._cfg.el,defs=this.context;if(!value)return void el.setAttribute(SVG_ATTR_MAP[name],"none");if(value=value.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(value)){var id=defs.find("gradient",value);id||(id=defs.addGradient(value)),el.setAttribute(SVG_ATTR_MAP[name],"url(#"+id+")")}else if(/^[p,P]{1}[\s]*\(/.test(value)){var _id=defs.find("pattern",value);_id||(_id=defs.addPattern(value)),el.setAttribute(SVG_ATTR_MAP[name],"url(#"+_id+")")}else el.setAttribute(SVG_ATTR_MAP[name],value)},_proto._setShadow=function(model){var el=model._cfg.el,attrs=model._attrs,cfg={dx:attrs.shadowOffsetX,dy:attrs.shadowOffsetY,blur:attrs.shadowBlur,color:attrs.shadowColor};if(cfg.dx||cfg.dy||cfg.blur||cfg.color){var id=this.context.find("filter",cfg);id||(id=this.context.addShadow(cfg,this)),el.setAttribute("filter","url(#"+id+")")}else el.removeAttribute("filter")},Painter}();module.exports=Painter},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Gradient=__webpack_require__(222),Shadow=__webpack_require__(223),Arrow=__webpack_require__(224),Clip=__webpack_require__(225),Pattern=__webpack_require__(226),Defs=function(){function Defs(canvas){var el=document.createElementNS("http://www.w3.org/2000/svg","defs"),id=Util.uniqueId("defs_");el.id=id,canvas.appendChild(el),this.children=[],this.defaultArrow={},this.el=el,this.canvas=canvas}var _proto=Defs.prototype;return _proto.find=function(type,attr){for(var children=this.children,result=null,i=0;i<children.length;i++)if(children[i].match(type,attr)){result=children[i].id;break}return result},_proto.findById=function(id){for(var children=this.children,flag=null,i=0;i<children.length;i++)if(children[i].id===id){flag=children[i];break}return flag},_proto.add=function(item){this.children.push(item),item.canvas=this.canvas,item.parent=this},_proto.getDefaultArrow=function(attrs,name){var stroke=attrs.stroke||attrs.strokeStyle;if(this.defaultArrow[stroke])return this.defaultArrow[stroke].id;var arrow=new Arrow(attrs,name);return this.defaultArrow[stroke]=arrow,this.el.appendChild(arrow.el),arrow.id},_proto.addGradient=function(cfg){var gradient=new Gradient(cfg);return this.el.appendChild(gradient.el),this.add(gradient),gradient.id},_proto.addArrow=function(attrs,name){var arrow=new Arrow(attrs,name);return this.el.appendChild(arrow.el),arrow.id},_proto.addShadow=function(cfg){var shadow=new Shadow(cfg);return this.el.appendChild(shadow.el),this.add(shadow),shadow.id},_proto.addPattern=function(cfg){var pattern=new Pattern(cfg);return this.el.appendChild(pattern.el),this.add(pattern),pattern.id},_proto.addClip=function(cfg){var clip=new Clip(cfg);return this.el.appendChild(clip.el),this.add(clip),clip.id},Defs}();module.exports=Defs},function(module,exports,__webpack_require__){function addStop(steps){var arr=steps.match(regexColorStop);if(!arr)return"";var stops="";return arr.sort(function(a,b){return a=a.split(":"),b=b.split(":"),Number(a[0])-Number(b[0])}),Util.each(arr,function(item){item=item.split(":"),stops+='<stop offset="'+item[0]+'" stop-color="'+item[1]+'"></stop>'}),stops}function parseLineGradient(color,el){var start,end,arr=regexLG.exec(color),angle=Util.mod(Util.toRadian(parseFloat(arr[1])),2*Math.PI),steps=arr[2];angle>=0&&angle<.5*Math.PI?(start={x:0,y:0},end={x:1,y:1}):.5*Math.PI<=angle&&angle<Math.PI?(start={x:1,y:0},end={x:0,y:1}):Math.PI<=angle&&angle<1.5*Math.PI?(start={x:1,y:1},end={x:0,y:0}):(start={x:0,y:1},end={x:1,y:0});var tanTheta=Math.tan(angle),tanTheta2=tanTheta*tanTheta,x=(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.x,y=tanTheta*(end.x-start.x+tanTheta*(end.y-start.y))/(tanTheta2+1)+start.y;el.setAttribute("x1",start.x),el.setAttribute("y1",start.y),el.setAttribute("x2",x),el.setAttribute("y2",y),el.innerHTML=addStop(steps)}function parseRadialGradient(color,self){var arr=regexRG.exec(color),cx=parseFloat(arr[1]),cy=parseFloat(arr[2]),r=parseFloat(arr[3]),steps=arr[4];self.setAttribute("cx",cx),self.setAttribute("cy",cy),self.setAttribute("r",r),self.innerHTML=addStop(steps)}var Util=__webpack_require__(1),regexLG=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,regexRG=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,regexColorStop=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Gradient=function(){function Gradient(cfg){var el=null,id=Util.uniqueId("gradient_");return"l"===cfg.toLowerCase()[0]?(el=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),parseLineGradient(cfg,el)):(el=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),parseRadialGradient(cfg,el)),el.setAttribute("id",id),this.el=el,this.id=id,this.cfg=cfg,this}return Gradient.prototype.match=function(type,attr){return this.cfg===attr},Gradient}();module.exports=Gradient},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),ATTR_MAP={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},SHADOW_DIMENSION={x:"-40%",y:"-40%",width:"200%",height:"200%"},Shadow=function(){function Shadow(cfg){this.type="filter";var el=document.createElementNS("http://www.w3.org/2000/svg","filter");return Util.each(SHADOW_DIMENSION,function(v,k){el.setAttribute(k,v)}),this.el=el,this.id=Util.uniqueId("filter_"),this.el.id=this.id,this.cfg=cfg,this._parseShadow(cfg,el),this}var _proto=Shadow.prototype;return _proto.match=function(type,cfg){if(this.type!==type)return!1;var flag=!0,config=this.cfg;return Util.each(Object.keys(config),function(attr){if(config[attr]!==cfg[attr])return flag=!1,!1}),flag},_proto.update=function(name,value){var config=this.cfg;return config[ATTR_MAP[name]]=value,this._parseShadow(config,this.el),this},_proto._parseShadow=function(config,el){var child='<feDropShadow \n      dx="'+(config.dx||0)+'" \n      dy="'+(config.dy||0)+'" \n      stdDeviation="'+(config.blur?config.blur/10:0)+'"\n      flood-color="'+(config.color?config.color:"#000")+'"\n      flood-opacity="'+(config.opacity?config.opacity:1)+'"\n      />';el.innerHTML=child},Shadow}();module.exports=Shadow},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Arrow=function(){function Arrow(attrs,type){var el=document.createElementNS("http://www.w3.org/2000/svg","marker"),id=Util.uniqueId("marker_");el.setAttribute("id",id);var shape=document.createElementNS("http://www.w3.org/2000/svg","path");return shape.setAttribute("stroke","none"),shape.setAttribute("fill",attrs.stroke||"#000"),el.appendChild(shape),el.setAttribute("overflow","visible"),el.setAttribute("orient","auto-start-reverse"),this.el=el,this.child=shape,this.id=id,this.cfg=attrs["marker-start"===type?"startArrow":"endArrow"],this.stroke=attrs.stroke||"#000",!0===this.cfg?this._setDefaultPath(type,shape):this._setMarker(attrs.lineWidth,shape),this}var _proto=Arrow.prototype;return _proto.match=function(){return!1},_proto._setDefaultPath=function(type,el){var parent=this.el;el.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),parent.setAttribute("refX",3),parent.setAttribute("refY",3)},_proto._setMarker=function(r,el){var parent=this.el,path=this.cfg.path,d=this.cfg.d;Util.isArray(path)&&(path=path.map(function(segment){return segment.join(" ")}).join("")),el.setAttribute("d",path),parent.appendChild(el),d&&parent.setAttribute("refX",d/r)},_proto.update=function(fill){var child=this.child;child.attr?child.attr("fill",fill):child.setAttribute("fill",fill)},Arrow}();module.exports=Arrow},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),Clip=function(){function Clip(cfg){this.type="clip";var el=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=el,this.id=Util.uniqueId("clip_"),el.id=this.id;var shapeEl=cfg._cfg.el;return el.appendChild(shapeEl.cloneNode(!0)),this.cfg=cfg,this}var _proto=Clip.prototype;return _proto.match=function(){return!1},_proto.remove=function(){var el=this.el;el.parentNode.removeChild(el)},Clip}();module.exports=Clip},function(module,exports,__webpack_require__){var Util=__webpack_require__(1),regexPR=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Pattern=function(){function Pattern(cfg){function onload(){el.setAttribute("width",img.width),el.setAttribute("height",img.height)}var el=document.createElementNS("http://www.w3.org/2000/svg","pattern");el.setAttribute("patternUnits","userSpaceOnUse");var child=document.createElementNS("http://www.w3.org/2000/svg","image");el.appendChild(child);var id=Util.uniqueId("pattern_");el.id=id,this.el=el,this.id=id,this.cfg=cfg;var arr=regexPR.exec(cfg),source=arr[2];child.setAttribute("href",source);var img=new Image;return source.match(/^data:/i)||(img.crossOrigin="Anonymous"),img.src=source,img.complete?onload():(img.onload=onload,img.src=img.src),this}return Pattern.prototype.match=function(type,attr){return this.cfg===attr},Pattern}();module.exports=Pattern},function(module,exports){var TAG_MAP={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};module.exports=function(x,y,e){var target=e.target||e.srcElement;if(!TAG_MAP[target.tagName]){for(var parent=target.parentNode;parent&&!TAG_MAP[parent.tagName];)parent=parent.parentNode;target=parent}return this._cfg.el===target?this:this.find(function(item){return item._cfg&&item._cfg.el===target})}},function(module,exports,__webpack_require__){module.exports={addEventListener:__webpack_require__(229),createDom:__webpack_require__(94),getBoundingClientRect:__webpack_require__(230),getHeight:__webpack_require__(231),getOuterHeight:__webpack_require__(232),getOuterWidth:__webpack_require__(233),getRatio:__webpack_require__(234),getStyle:__webpack_require__(235),getWidth:__webpack_require__(236),modifyCSS:__webpack_require__(95),requestAnimationFrame:__webpack_require__(96)}},function(module,exports){module.exports=function(target,eventType,callback){if(target){if(target.addEventListener)return target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}};if(target.attachEvent)return target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}}}},function(module,exports){module.exports=function(node,defaultValue){if(node&&node.getBoundingClientRect){var rect=node.getBoundingClientRect(),top=document.documentElement.clientTop,left=document.documentElement.clientLeft;return{top:rect.top-top,bottom:rect.bottom-top,left:rect.left-left,right:rect.right-left}}return defaultValue||null}},function(module,exports){module.exports=function(el,defaultValue){var height=this.getStyle(el,"height",defaultValue);return"auto"===height&&(height=el.offsetHeight),parseFloat(height)}},function(module,exports){module.exports=function(el,defaultValue){var height=this.getHeight(el,defaultValue),bTop=parseFloat(this.getStyle(el,"borderTopWidth"))||0,pTop=parseFloat(this.getStyle(el,"paddingTop"))||0,pBottom=parseFloat(this.getStyle(el,"paddingBottom"))||0;return height+bTop+(parseFloat(this.getStyle(el,"borderBottomWidth"))||0)+pTop+pBottom}},function(module,exports){module.exports=function(el,defaultValue){var width=this.getWidth(el,defaultValue),bLeft=parseFloat(this.getStyle(el,"borderLeftWidth"))||0,pLeft=parseFloat(this.getStyle(el,"paddingLeft"))||0,pRight=parseFloat(this.getStyle(el,"paddingRight"))||0;return width+bLeft+(parseFloat(this.getStyle(el,"borderRightWidth"))||0)+pLeft+pRight}},function(module,exports){module.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5);module.exports=function(dom,name,defaultValue){try{return window.getComputedStyle?window.getComputedStyle(dom,null)[name]:dom.currentStyle[name]}catch(e){return isNil(defaultValue)?null:defaultValue}}},function(module,exports){module.exports=function(el,defaultValue){var width=this.getStyle(el,"width",defaultValue);return"auto"===width&&(width=el.offsetWidth),parseFloat(width)}},function(module,exports,__webpack_require__){module.exports={contains:__webpack_require__(41),difference:__webpack_require__(238),find:__webpack_require__(239),firstValue:__webpack_require__(240),flatten:__webpack_require__(241),flattenDeep:__webpack_require__(242),getRange:__webpack_require__(243),merge:__webpack_require__(42),pull:__webpack_require__(90),pullAt:__webpack_require__(130),reduce:__webpack_require__(244),remove:__webpack_require__(245),sortBy:__webpack_require__(246),union:__webpack_require__(247),uniq:__webpack_require__(131),valuesOfKey:__webpack_require__(64)}},function(module,exports,__webpack_require__){var filter=__webpack_require__(63),contains=__webpack_require__(41),difference=function(arr){var values=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return filter(arr,function(value){return!contains(values,value)})};module.exports=difference},function(module,exports,__webpack_require__){function find(arr,predicate){var _predicate=void 0;if(isFunction(predicate)&&(_predicate=predicate),isPlainObject(predicate)&&(_predicate=function(a){return isMatch(a,predicate)}),_predicate)for(var i=0;i<arr.length;i+=1)if(_predicate(arr[i]))return arr[i];return null}var isFunction=__webpack_require__(11),isPlainObject=__webpack_require__(26),isMatch=__webpack_require__(128);module.exports=find},function(module,exports,__webpack_require__){var isNil=__webpack_require__(5),isArray=__webpack_require__(4),firstValue=function(data,name){for(var rst=null,i=0;i<data.length;i++){var obj=data[i],value=obj[name];if(!isNil(value)){rst=isArray(value)?value[0]:value;break}}return rst};module.exports=firstValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),each=__webpack_require__(2),flatten=function(arr){if(!isArray(arr))return arr;var result=[];return each(arr,function(item){isArray(item)?each(item,function(subItem){result.push(subItem)}):result.push(item)}),result};module.exports=flatten},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),flattenDeep=function flattenDeep(arr){var result=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(isArray(arr))for(var i=0;i<arr.length;i+=1)flattenDeep(arr[i],result);else result.push(arr);return result};module.exports=flattenDeep},function(module,exports,__webpack_require__){var filter=__webpack_require__(63),isArray=__webpack_require__(4),getRange=function(values){if(values=filter(values,function(v){return!isNaN(v)}),!values.length)return{min:0,max:0};if(isArray(values[0])){for(var tmp=[],i=0;i<values.length;i++)tmp=tmp.concat(values[i]);values=tmp}var max=Math.max.apply(null,values);return{min:Math.min.apply(null,values),max:max}};module.exports=getRange},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isPlainObject=__webpack_require__(26),each=__webpack_require__(2),reduce=function(arr,fn,init){if(!isArray(arr)&&!isPlainObject(arr))return arr;var result=init;return each(arr,function(data,i){result=fn(result,data,i)}),result};module.exports=reduce},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),pullAt=__webpack_require__(130),remove=function(arr,predicate){var result=[];if(!isArrayLike(arr))return result;for(var i=-1,indexes=[],length=arr.length;++i<length;){var value=arr[i];predicate(value,i,arr)&&(result.push(value),indexes.push(i))}return pullAt(arr,indexes),result};module.exports=remove},function(module,exports,__webpack_require__){function sortBy(arr,key){var comparer=void 0;if(isFunction(key))comparer=function(a,b){return key(a)-key(b)};else{var keys=[];isString(key)?keys.push(key):isArray(key)&&(keys=key),comparer=function(a,b){for(var i=0;i<keys.length;i+=1){var prop=keys[i];if(a[prop]>b[prop])return 1;if(a[prop]<b[prop])return-1}return 0}}return arr.sort(comparer),arr}var isString=__webpack_require__(10),isFunction=__webpack_require__(11),isArray=__webpack_require__(4);module.exports=sortBy},function(module,exports,__webpack_require__){var each=__webpack_require__(2),toArray=__webpack_require__(34),uniq=__webpack_require__(131),union=function(){var result=[],sources=toArray(arguments);return each(sources,function(arr){result=result.concat(arr)}),uniq(result)};module.exports=union},function(module,exports,__webpack_require__){module.exports={getWrapBehavior:__webpack_require__(249),wrapBehavior:__webpack_require__(250)}},function(module,exports){function getWrapBehavior(obj,action){return obj["_wrap_"+action]}module.exports=getWrapBehavior},function(module,exports){function wrapBehavior(obj,action){if(obj["_wrap_"+action])return obj["_wrap_"+action];var method=function(e){obj[action](e)};return obj["_wrap_"+action]=method,method}module.exports=wrapBehavior},function(module,exports,__webpack_require__){var number2color=__webpack_require__(252);module.exports={number2color:number2color,numberToColor:number2color,parsePath:__webpack_require__(253),parseRadius:__webpack_require__(254)}},function(module,exports){var numColorCache={};module.exports=function(num){var color=numColorCache[num];if(!color){for(var str=num.toString(16),i=str.length;i<6;i++)str="0"+str;color="#"+str,numColorCache[num]=color}return color}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isString=__webpack_require__(10),each=__webpack_require__(2),regexTags=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,regexDot=/[^\s\,]+/gi;module.exports=function(path){return path=path||[],isArray(path)?path:isString(path)?(path=path.match(regexTags),each(path,function(item,index){if(item=item.match(regexDot),item[0].length>1){var tag=item[0].charAt(0);item.splice(1,0,item[0].substr(1)),item[0]=tag}each(item,function(sub,i){isNaN(sub)||(item[i]=+sub)}),path[index]=item}),path):void 0}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4);module.exports=function(radius){var r1=0,r2=0,r3=0,r4=0;return isArray(radius)?1===radius.length?r1=r2=r3=r4=radius[0]:2===radius.length?(r1=r3=radius[0],r2=r4=radius[1]):3===radius.length?(r1=radius[0],r2=r4=radius[1],r3=radius[2]):(r1=radius[0],r2=radius[1],r3=radius[2],r4=radius[3]):r1=r2=r3=r4=radius,{r1:r1,r2:r2,r3:r3,r4:r4}}},function(module,exports,__webpack_require__){var isNumberEqual=__webpack_require__(35);module.exports={clamp:__webpack_require__(50),fixedBase:__webpack_require__(256),isDecimal:__webpack_require__(257),isEven:__webpack_require__(258),isInteger:__webpack_require__(259),isNegative:__webpack_require__(260),isNumberEqual:isNumberEqual,isOdd:__webpack_require__(261),isPositive:__webpack_require__(262),maxBy:__webpack_require__(132),minBy:__webpack_require__(263),mod:__webpack_require__(93),snapEqual:isNumberEqual,toDegree:__webpack_require__(92),toInt:__webpack_require__(133),toInteger:__webpack_require__(133),toRadian:__webpack_require__(91)}},function(module,exports){var fixedBase=function(v,base){var str=base.toString(),index=str.indexOf(".");if(-1===index)return Math.round(v);var length=str.substr(index+1).length;return length>20&&(length=20),parseFloat(v.toFixed(length))};module.exports=fixedBase},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isDecimal=function(num){return isNumber(num)&&num%1!=0};module.exports=isDecimal},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isEven=function(num){return isNumber(num)&&num%2==0};module.exports=isEven},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isInteger=Number.isInteger?Number.isInteger:function(num){return isNumber(num)&&num%1==0};module.exports=isInteger},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isNagative=function(num){return isNumber(num)&&num<0};module.exports=isNagative},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isOdd=function(num){return isNumber(num)&&num%2!=0};module.exports=isOdd},function(module,exports,__webpack_require__){var isNumber=__webpack_require__(9),isPositive=function(num){return isNumber(num)&&num>0};module.exports=isPositive},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),isFunction=__webpack_require__(11),each=__webpack_require__(2),minBy=function(arr,fn){if(isArray(arr)){var min=arr[0],minData=void 0;minData=isFunction(fn)?fn(arr[0]):arr[0][fn];var data=void 0;return each(arr,function(val){(data=isFunction(fn)?fn(val):val[fn])<minData&&(min=val,minData=data)}),min}};module.exports=minBy},function(module,exports,__webpack_require__){module.exports={forIn:__webpack_require__(265),has:__webpack_require__(134),hasKey:__webpack_require__(266),hasValue:__webpack_require__(267),keys:__webpack_require__(129),isMatch:__webpack_require__(128),values:__webpack_require__(135)}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(134)},function(module,exports,__webpack_require__){var contains=__webpack_require__(41),values=__webpack_require__(135);module.exports=function(obj,value){return contains(values(obj),value)}},function(module,exports,__webpack_require__){var pathIntersection=__webpack_require__(269),path2absolute=__webpack_require__(139),path2curve=__webpack_require__(138),catmullRom2Bezier=__webpack_require__(141);module.exports={catmullRom2Bezier:catmullRom2Bezier,catmullRomToBezier:catmullRom2Bezier,fillPath:__webpack_require__(270),fillPathByDiff:__webpack_require__(271),formatPath:__webpack_require__(273),intersection:pathIntersection,pathIntersection:pathIntersection,parsePathArray:__webpack_require__(137),parsePathString:__webpack_require__(140),pathToAbsolute:path2absolute,path2absolute:path2absolute,pathTocurve:path2curve,path2curve:path2curve,rectPath:__webpack_require__(136)}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(4),rectPath=__webpack_require__(136),pathTocurve=__webpack_require__(138),base3=function(t,p1,p2,p3,p4){return t*(t*(-3*p1+9*p2-9*p3+3*p4)+6*p1-12*p2+6*p3)-3*p1+3*p2},bezlen=function(x1,y1,x2,y2,x3,y3,x4,y4,z){null===z&&(z=1),z=z>1?1:z<0?0:z;for(var z2=z/2,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0,i=0;i<12;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*Math.sqrt(comb)}return z2*sum},curveDim=function(x0,y0,x1,y1,x2,y2,x3,y3){for(var tvalues=[],bounds=[[],[]],a=void 0,b=void 0,c=void 0,t=void 0,i=0;i<2;++i)if(0===i?(b=6*x0-12*x1+6*x2,a=-3*x0+9*x1-9*x2+3*x3,c=3*x1-3*x0):(b=6*y0-12*y1+6*y2,a=-3*y0+9*y1-9*y2+3*y3,c=3*y1-3*y0),Math.abs(a)<1e-12){if(Math.abs(b)<1e-12)continue;(t=-c/b)>0&&t<1&&tvalues.push(t)}else{var b2ac=b*b-4*c*a,sqrtb2ac=Math.sqrt(b2ac);if(!(b2ac<0)){var t1=(-b+sqrtb2ac)/(2*a);t1>0&&t1<1&&tvalues.push(t1);var t2=(-b-sqrtb2ac)/(2*a);t2>0&&t2<1&&tvalues.push(t2)}}for(var j=tvalues.length,jlen=j,mt=void 0;j--;)t=tvalues[j],mt=1-t,bounds[0][j]=mt*mt*mt*x0+3*mt*mt*t*x1+3*mt*t*t*x2+t*t*t*x3,bounds[1][j]=mt*mt*mt*y0+3*mt*mt*t*y1+3*mt*t*t*y2+t*t*t*y3;return bounds[0][jlen]=x0,bounds[1][jlen]=y0,bounds[0][jlen+1]=x3,bounds[1][jlen+1]=y3,bounds[0].length=bounds[1].length=jlen+2,{min:{x:Math.min.apply(0,bounds[0]),y:Math.min.apply(0,bounds[1])},max:{x:Math.max.apply(0,bounds[0]),y:Math.max.apply(0,bounds[1])}}},intersect=function(x1,y1,x2,y2,x3,y3,x4,y4){if(!(Math.max(x1,x2)<Math.min(x3,x4)||Math.min(x1,x2)>Math.max(x3,x4)||Math.max(y1,y2)<Math.min(y3,y4)||Math.min(y1,y2)>Math.max(y3,y4))){var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(denominator){var px=nx/denominator,py=ny/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(!(px2<+Math.min(x1,x2).toFixed(2)||px2>+Math.max(x1,x2).toFixed(2)||px2<+Math.min(x3,x4).toFixed(2)||px2>+Math.max(x3,x4).toFixed(2)||py2<+Math.min(y1,y2).toFixed(2)||py2>+Math.max(y1,y2).toFixed(2)||py2<+Math.min(y3,y4).toFixed(2)||py2>+Math.max(y3,y4).toFixed(2)))return{x:px,y:py}}}},isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x+bbox.width&&y>=bbox.y&&y<=bbox.y+bbox.height},box=function(x,y,width,height){return null===x&&(x=y=width=height=0),null===y&&(y=x.y,width=x.width,height=x.height,x=x.x),{x:x,y:y,width:width,w:width,height:height,h:height,x2:x+width,y2:y+height,cx:x+width/2,cy:y+height/2,r1:Math.min(width,height)/2,r2:Math.max(width,height)/2,r0:Math.sqrt(width*width+height*height)/2,path:rectPath(x,y,width,height),vb:[x,y,width,height].join(" ")}},isBBoxIntersect=function(bbox1,bbox2){return bbox1=box(bbox1),bbox2=box(bbox2),isPointInsideBBox(bbox2,bbox1.x,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y)||isPointInsideBBox(bbox2,bbox1.x,bbox1.y2)||isPointInsideBBox(bbox2,bbox1.x2,bbox1.y2)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y)||isPointInsideBBox(bbox1,bbox2.x,bbox2.y2)||isPointInsideBBox(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y)},bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){isArray(p1x)||(p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y]);var bbox=curveDim.apply(null,p1x);return box(bbox.min.x,bbox.min.y,bbox.max.x-bbox.min.x,bbox.max.y-bbox.min.y)},findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=Math.pow(t1,3),t12=Math.pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+3*t12*t*c1x+3*t1*t*t*c2x+t3*p2x,y=t13*p1y+3*t12*t*c1y+3*t1*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y);return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:t1*p1x+t*c1x,y:t1*p1y+t*c1y},end:{x:t1*c2x+t*p2x,y:t1*c2y+t*p2y},alpha:90-180*Math.atan2(mx-nx,my-ny)/Math.PI}},interHelper=function(bez1,bez2,justCount){var bbox1=bezierBBox(bez1),bbox2=bezierBBox(bez2);if(!isBBoxIntersect(bbox1,bbox2))return justCount?0:[];for(var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=~~(l1/8),n2=~~(l2/8),dots1=[],dots2=[],xy={},res=justCount?0:[],i=0;i<n1+1;i++){var d=findDotsAtSegment.apply(0,bez1.concat(i/n1));dots1.push({x:d.x,y:d.y,t:i/n1})}for(var _i=0;_i<n2+1;_i++){var _d=findDotsAtSegment.apply(0,bez2.concat(_i/n2));dots2.push({x:_d.x,y:_d.y,t:_i/n2})}for(var _i2=0;_i2<n1;_i2++)for(var j=0;j<n2;j++){var di=dots1[_i2],di1=dots1[_i2+1],dj=dots2[j],dj1=dots2[j+1],ci=Math.abs(di1.x-di.x)<.001?"y":"x",cj=Math.abs(dj1.x-dj.x)<.001?"y":"x",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]===is.y.toFixed(4))continue;xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+Math.abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+Math.abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);t1>=0&&t1<=1&&t2>=0&&t2<=1&&(justCount?res++:res.push({x:is.x,y:is.y,t1:t1,t2:t2}))}}return res},interPathHelper=function(path1,path2,justCount){path1=pathTocurve(path1),path2=pathTocurve(path2);for(var x1=void 0,y1=void 0,x2=void 0,y2=void 0,x1m=void 0,y1m=void 0,x2m=void 0,y2m=void 0,bez1=void 0,bez2=void 0,res=justCount?0:[],i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if("M"===pi[0])x1=x1m=pi[1],y1=y1m=pi[2];else{"C"===pi[0]?(bez1=[x1,y1].concat(pi.slice(1)),x1=bez1[6],y1=bez1[7]):(bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m],x1=x1m,y1=y1m);for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if("M"===pj[0])x2=x2m=pj[1],y2=y2m=pj[2];else{"C"===pj[0]?(bez2=[x2,y2].concat(pj.slice(1)),x2=bez2[6],y2=bez2[7]):(bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m],x2=x2m,y2=y2m);var intr=interHelper(bez1,bez2,justCount);if(justCount)res+=intr;else{for(var k=0,kk=intr.length;k<kk;k++)intr[k].segment1=i,intr[k].segment2=j,intr[k].bez1=bez1,intr[k].bez2=bez2;res=res.concat(intr)}}}}}return res};module.exports=function(path1,path2){return interPathHelper(path1,path2)}},function(module,exports){function decasteljau(points,t){function recurse(points,t){if(1===points.length)left.push(points[0]),right.push(points[0]);else{for(var middlePoints=[],i=0;i<points.length-1;i++)0===i&&left.push(points[0]),i===points.length-2&&right.push(points[i+1]),middlePoints[i]=[(1-t)*points[i][0]+t*points[i+1][0],(1-t)*points[i][1]+t*points[i+1][1]];recurse(middlePoints,t)}}var left=[],right=[];return points.length&&recurse(points,t),{left:left,right:right.reverse()}}function splitCurve(start,end,count){var points=[[start[1],start[2]]];count=count||2;var segments=[];"A"===end[0]?(points.push(end[6]),points.push(end[7])):"C"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]]),points.push([end[5],end[6]])):"S"===end[0]||"Q"===end[0]?(points.push([end[1],end[2]]),points.push([end[3],end[4]])):points.push([end[1],end[2]]);for(var leftSegments=points,t=1/count,i=0;i<count-1;i++){var rt=t/(1-t*i),split=decasteljau(leftSegments,rt);segments.push(split.left),leftSegments=split.right}return segments.push(leftSegments),segments.map(function(segment){var cmd=[];return 4===segment.length&&(cmd.push("C"),cmd=cmd.concat(segment[2])),segment.length>=3&&(3===segment.length&&cmd.push("Q"),cmd=cmd.concat(segment[1])),2===segment.length&&cmd.push("L"),cmd=cmd.concat(segment[segment.length-1])})}function splitSegment(start,end,count){if(1===count)return[[].concat(start)];var segments=[];if("L"===end[0]||"C"===end[0]||"Q"===end[0])segments=segments.concat(splitCurve(start,end,count));else{var temp=[].concat(start);"M"===temp[0]&&(temp[0]="L");for(var i=0;i<=count-1;i++)segments.push(temp)}return segments}module.exports=function(source,target){if(1===source.length)return source;var sourceLen=source.length-1,targetLen=target.length-1,ratio=sourceLen/targetLen,segmentsToFill=[];if(1===source.length&&"M"===source[0][0]){for(var i=0;i<targetLen-sourceLen;i++)source.push(source[0]);return source}for(var _i=0;_i<targetLen;_i++){var index=Math.floor(ratio*_i);segmentsToFill[index]=(segmentsToFill[index]||0)+1}var filled=segmentsToFill.reduce(function(filled,count,i){return i===sourceLen?filled.concat(source[sourceLen]):filled.concat(splitSegment(source[i],source[i+1],count))},[]);return filled.unshift(source[0]),"Z"!==target[targetLen]&&"z"!==target[targetLen]||filled.push("Z"),filled}},function(module,exports,__webpack_require__){function getMinDiff(del,add,modify){var type=null,min=modify;return add<min&&(min=add,type="add"),del<min&&(min=del,type="del"),{type:type,min:min}}var isEqual=__webpack_require__(272),levenshteinDistance=function(source,target){var sourceLen=source.length,targetLen=target.length,sourceSegment=void 0,targetSegment=void 0,temp=0;if(0===sourceLen||0===targetLen)return null;for(var dist=[],i=0;i<=sourceLen;i++)dist[i]=[],dist[i][0]={min:i};for(var j=0;j<=targetLen;j++)dist[0][j]={min:j};for(var _i=1;_i<=sourceLen;_i++){sourceSegment=source[_i-1];for(var _j=1;_j<=targetLen;_j++){targetSegment=target[_j-1],temp=isEqual(sourceSegment,targetSegment)?0:1;var del=dist[_i-1][_j].min+1,add=dist[_i][_j-1].min+1,modify=dist[_i-1][_j-1].min+temp;dist[_i][_j]=getMinDiff(del,add,modify)}}return dist};module.exports=function(source,target){var diffMatrix=levenshteinDistance(source,target),sourceLen=source.length,targetLen=target.length,changes=[],index=1,minPos=1;if(diffMatrix[sourceLen][targetLen]!==sourceLen){for(var i=1;i<=sourceLen;i++){var min=diffMatrix[i][i].min;minPos=i;for(var j=index;j<=targetLen;j++)diffMatrix[i][j].min<min&&(min=diffMatrix[i][j].min,minPos=j);index=minPos,diffMatrix[i][index].type&&changes.push({index:i-1,type:diffMatrix[i][index].type})}for(var _i2=changes.length-1;_i2>=0;_i2--)index=changes[_i2].index,"add"===changes[_i2].type?source.splice(index,0,[].concat(source[index])):source.splice(index,1)}if((sourceLen=source.length)<targetLen)for(var _i3=0;_i3<targetLen-sourceLen;_i3++)"z"===source[sourceLen-1][0]||"Z"===source[sourceLen-1][0]?source.splice(sourceLen-2,0,source[sourceLen-2]):source.push(source[sourceLen-1]);return source}},function(module,exports,__webpack_require__){var each=__webpack_require__(2);module.exports=function(obj1,obj2){if(obj1.length!==obj2.length)return!1;var result=!0;return each(obj1,function(item,i){if(item!==obj2[i])return result=!1,!1}),result}},function(module,exports){function _getSegmentPoints(segment){var points=[];switch(segment[0]){case"M":case"L":points.push([segment[1],segment[2]]);break;case"A":points.push([segment[6],segment[7]]);break;case"Q":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"T":points.push([segment[1],segment[2]]);break;case"C":points.push([segment[5],segment[6]]),points.push([segment[1],segment[2]]),points.push([segment[3],segment[4]]);break;case"S":points.push([segment[3],segment[4]]),points.push([segment[1],segment[2]]);break;case"H":case"V":points.push([segment[1],segment[1]])}return points}function _splitPoints(points,former,count){for(var result=[].concat(points),index=void 0,t=1/(count+1),formerEnd=_getSegmentPoints(former)[0],i=1;i<=count;i++)t*=i,index=Math.floor(points.length*t),0===index?result.unshift([formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]):result.splice(index,0,[formerEnd[0]*t+points[index][0]*(1-t),formerEnd[1]*t+points[index][1]*(1-t)]);return result}module.exports=function(fromPath,toPath){if(fromPath.length<=1)return fromPath;for(var points=void 0,i=0;i<toPath.length;i++)if(fromPath[i][0]!==toPath[i][0])switch(points=_getSegmentPoints(fromPath[i]),toPath[i][0]){case"M":fromPath[i]=["M"].concat(points[0]);break;case"L":fromPath[i]=["L"].concat(points[0]);break;case"A":fromPath[i]=[].concat(toPath[i]),fromPath[i][6]=points[0][0],fromPath[i][7]=points[0][1];break;case"Q":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["Q"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"T":fromPath[i]=["T"].concat(points[0]);break;case"C":if(points.length<3){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],2)}fromPath[i]=["C"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;case"S":if(points.length<2){if(!(i>0)){fromPath[i]=toPath[i];break}points=_splitPoints(points,fromPath[i-1],1)}fromPath[i]=["S"].concat(points.reduce(function(arr,i){return arr.concat(i)},[]));break;default:fromPath[i]=toPath[i]}return fromPath}},function(module,exports,__webpack_require__){var strUtil={lc:__webpack_require__(275),lowerCase:__webpack_require__(142),lowerFirst:__webpack_require__(75),substitute:__webpack_require__(276),uc:__webpack_require__(277),upperCase:__webpack_require__(143),upperFirst:__webpack_require__(87)};module.exports=strUtil},function(module,exports,__webpack_require__){module.exports=__webpack_require__(142)},function(module,exports){var substitute=function(str,o){return str&&o?str.replace(/\\?\{([^{}]+)\}/g,function(match,name){return"\\"===match.charAt(0)?match.slice(1):void 0===o[name]?"":o[name]}):str};module.exports=substitute},function(module,exports,__webpack_require__){module.exports=__webpack_require__(143)},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),checkType={getType:__webpack_require__(84),isArray:__webpack_require__(4),isArrayLike:__webpack_require__(13),isBoolean:__webpack_require__(82),isFunction:__webpack_require__(11),isNil:__webpack_require__(5),isNull:__webpack_require__(279),isNumber:__webpack_require__(9),isObject:__webpack_require__(24),isObjectLike:__webpack_require__(48),isPlainObject:__webpack_require__(26),isPrototype:__webpack_require__(85),isType:isType,isUndefined:__webpack_require__(280),isString:__webpack_require__(10),isRegExp:__webpack_require__(281),isDate:__webpack_require__(80),isArguments:__webpack_require__(282),isError:__webpack_require__(283)};module.exports=checkType},function(module,exports){var isNull=function(value){return null===value};module.exports=isNull},function(module,exports){var isUndefined=function(value){return void 0===value};module.exports=isUndefined},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isRegExp=function(str){return isType(str,"RegExp")};module.exports=isRegExp},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isArguments=function(value){return isType(value,"Arguments")};module.exports=isArguments},function(module,exports,__webpack_require__){var isType=__webpack_require__(12),isError=function(value){return isType(value,"Error")};module.exports=isError},function(module,exports){function debounce(func,wait,immediate){var timeout=void 0;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}module.exports=debounce},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(13),indexOf=function(arr,obj){if(!isArrayLike(arr))return-1;var m=Array.prototype.indexOf;if(m)return m.call(arr,obj);for(var index=-1,i=0;i<arr.length;i++)if(arr[i]===obj){index=i;break}return index};module.exports=indexOf},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(11),isEqual=__webpack_require__(49),isEqualWith=function(value,other,fn){return isFunction(fn)?!!fn(value,other):isEqual(value,other)};module.exports=isEqualWith},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isArrayLike=__webpack_require__(13),map=function(arr,func){if(!isArrayLike(arr))return arr;var result=[];return each(arr,function(value,index){result.push(func(value,index))}),result};module.exports=map},function(module,exports,__webpack_require__){var each=__webpack_require__(2),isPlaineObject=__webpack_require__(26),hasOwnProperty=Object.prototype.hasOwnProperty,pick=function(object,keys){if(null===object||!isPlaineObject(object))return{};var result={};return each(keys,function(key){hasOwnProperty.call(object,key)&&(result[key]=object[key])}),result};module.exports=pick},function(module,exports){function throttle(func,wait,options){var timeout=void 0,context=void 0,args=void 0,result=void 0,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:Date.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)},throttled=function(){var now=Date.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result};return throttled.cancel=function(){clearTimeout(timeout),previous=0,timeout=context=args=null},throttled}module.exports=throttle},function(module,exports,__webpack_require__){function getClip(coord){var startAngle,endAngle,center,radius,clip,start=coord.start,end=coord.end,width=coord.getWidth(),height=coord.getHeight();return coord.isPolar?(radius=coord.getRadius(),center=coord.getCenter(),startAngle=coord.startAngle,endAngle=coord.endAngle,clip=new G.Fan({attrs:{x:center.x,y:center.y,rs:0,re:radius+200,startAngle:startAngle,endAngle:startAngle}}),clip.endState={endAngle:endAngle}):(clip=new G.Rect({attrs:{x:start.x-200,y:end.y-200,width:coord.isTransposed?width+400:0,height:coord.isTransposed?0:height+400}}),coord.isTransposed?clip.endState={height:height+400}:clip.endState={width:width+400}),clip.isClip=!0,clip}function getPointsBox(points){if(Util.isEmpty(points))return null;var minX=points[0].x,maxX=points[0].x,minY=points[0].y,maxY=points[0].y;return Util.each(points,function(point){minX=minX>point.x?point.x:minX,maxX=maxX<point.x?point.x:maxX,minY=minY>point.y?point.y:minY,maxY=maxY<point.y?point.y:maxY}),{minX:minX,maxX:maxX,minY:minY,maxY:maxY,centerX:(minX+maxX)/2,centerY:(minY+maxY)/2}}function getAngle(shape,coord){var endAngle,startAngle,points=shape.points||shape.get("origin").points,box=getPointsBox(points),coordStartAngle=coord.startAngle,coordEndAngle=coord.endAngle,diffAngle=coordEndAngle-coordStartAngle;return coord.isTransposed?(endAngle=box.maxY*diffAngle,startAngle=box.minY*diffAngle):(endAngle=box.maxX*diffAngle,startAngle=box.minX*diffAngle),endAngle+=coordStartAngle,startAngle+=coordStartAngle,{startAngle:startAngle,endAngle:endAngle}}function getAnimateParam(animateCfg,index,id){var result={};return animateCfg.delay&&(result.delay=Util.isFunction(animateCfg.delay)?animateCfg.delay(index,id):animateCfg.delay),result.easing=Util.isFunction(animateCfg.easing)?animateCfg.easing(index,id):animateCfg.easing,result.duration=Util.isFunction(animateCfg.duration)?animateCfg.duration(index,id):animateCfg.duration,result.callback=animateCfg.callback,result}function scaleInY(shape,animateCfg){var y,id=shape._id,index=shape.get("index"),box=shape.getBBox(),points=shape.get("origin").points,x=(box.minX+box.maxX)/2;y=points[0].y-points[1].y<=0?box.maxY:box.minY;var v=[x,y,1];shape.apply(v),shape.attr("transform",[["t",-x,-y],["s",1,.01],["t",x,y]]);var endState={transform:[["t",-x,-y],["s",1,100],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function scaleInX(shape,animateCfg){var x,id=shape._id,index=shape.get("index"),box=shape.getBBox(),points=shape.get("origin").points,y=(box.minY+box.maxY)/2;x=points[0].y-points[1].y>0?box.maxX:box.minX;var v=[x,y,1];shape.apply(v),shape.attr({transform:[["t",-x,-y],["s",.01,1],["t",x,y]]});var endState={transform:[["t",-x,-y],["s",100,1],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function lineWidthOut(shape,animateCfg){var endState={lineWidth:0,opacity:0},id=shape._id,index=shape.get("index"),animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}function zoomIn(shape,animateCfg,coord){var x,y,id=shape._id,index=shape.get("index");if(coord.isPolar&&"point"!==shape.name)x=coord.getCenter().x,y=coord.getCenter().y;else{var box=shape.getBBox();x=(box.minX+box.maxX)/2,y=(box.minY+box.maxY)/2}var v=[x,y,1];shape.apply(v),shape.attr({transform:[["t",-x,-y],["s",.01,.01],["t",x,y]]});var endState={transform:[["t",-x,-y],["s",100,100],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function zoomOut(shape,animateCfg,coord){var x,y,id=shape._id,index=shape.get("index");if(coord.isPolar&&"point"!==shape.name)x=coord.getCenter().x,y=coord.getCenter().y;else{var box=shape.getBBox();x=(box.minX+box.maxX)/2,y=(box.minY+box.maxY)/2}var v=[x,y,1];shape.apply(v);var endState={transform:[["t",-x,-y],["s",.01,.01],["t",x,y]]},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}function pathIn(shape,animateCfg){if("path"===shape.get("type")){var id=shape._id,index=shape.get("index"),path=PathUtil.pathToAbsolute(shape.attr("path"));shape.attr("path",[path[0]]);var endState={path:path},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}}function pathOut(shape,animateCfg){if("path"===shape.get("type")){var id=shape._id,index=shape.get("index"),path=PathUtil.pathToAbsolute(shape.attr("path")),endState={path:[path[0]]},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}}function clipIn(shape,animateCfg,coord,startAngle,endAngle){var endState,clip=getClip(coord),canvas=shape.get("canvas"),id=shape._id,index=shape.get("index");startAngle?(clip.attr("startAngle",startAngle),clip.attr("endAngle",startAngle),endState={endAngle:endAngle}):endState=clip.endState,clip.set("canvas",canvas),shape.attr("clip",clip),shape.setSilent("animating",!0);var animateParam=getAnimateParam(animateCfg,index,id,endState);clip.animate(endState,animateParam.duration,animateParam.easing,function(){shape&&!shape.get("destroyed")&&(shape.attr("clip",null),shape.setSilent("cacheShape",null),shape.setSilent("animating",!1),clip.remove())},animateParam.delay)}function fadeIn(shape,animateCfg){var id=shape._id,index=shape.get("index"),fillOpacity=Util.isNil(shape.attr("fillOpacity"))?1:shape.attr("fillOpacity"),strokeOpacity=Util.isNil(shape.attr("strokeOpacity"))?1:shape.attr("strokeOpacity");shape.attr("fillOpacity",0),shape.attr("strokeOpacity",0);var endState={fillOpacity:fillOpacity,strokeOpacity:strokeOpacity},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,animateParam.callback,animateParam.delay)}function fadeOut(shape,animateCfg){var id=shape._id,index=shape.get("index"),endState={fillOpacity:0,strokeOpacity:0},animateParam=getAnimateParam(animateCfg,index,id,endState);shape.animate(endState,animateParam.duration,animateParam.easing,function(){shape.remove()},animateParam.delay)}function fanIn(shape,animateCfg,coord){var angle=getAngle(shape,coord),endAngle=angle.endAngle;clipIn(shape,animateCfg,coord,angle.startAngle,endAngle)}var Util=__webpack_require__(0),G=__webpack_require__(16),PathUtil=Util.PathUtil;module.exports={enter:{clipIn:clipIn,zoomIn:zoomIn,pathIn:pathIn,scaleInY:scaleInY,scaleInX:scaleInX,fanIn:fanIn,fadeIn:fadeIn},leave:{lineWidthOut:lineWidthOut,zoomOut:zoomOut,pathOut:pathOut,fadeOut:fadeOut},appear:{clipIn:clipIn,zoomIn:zoomIn,pathIn:pathIn,scaleInY:scaleInY,scaleInX:scaleInX,fanIn:fanIn,fadeIn:fadeIn},update:{fadeIn:fadeIn,fanIn:fanIn}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function isFullCircle(coord){var startAngle=coord.startAngle,endAngle=coord.endAngle;return!(!Util.isNil(startAngle)&&!Util.isNil(endAngle)&&endAngle-startAngle<2*Math.PI)}function isBetween(value,start,end){var tmp=(value-start)/(end-start);return tmp>=0&&tmp<=1}function isPointInCoord(coord,point){var result=!1;if(coord){if("theta"===coord.type){var start=coord.start,end=coord.end;result=isBetween(point.x,start.x,end.x)&&isBetween(point.y,start.y,end.y)}else{var invertPoint=coord.invert(point);result=invertPoint.x>=0&&invertPoint.y>=0&&invertPoint.x<=1&&invertPoint.y<=1}}return result}var Base=__webpack_require__(148),Geom=__webpack_require__(20),Util=__webpack_require__(0),Controller=__webpack_require__(165),Global=__webpack_require__(7),Theme=__webpack_require__(151),Animate=__webpack_require__(355),ViewGeoms={};Util.each(Geom,function(geomConstructor,className){var methodName=Util.lowerFirst(className);ViewGeoms[methodName]=function(cfg){var geom=new geomConstructor(cfg);return this.addGeom(geom),geom}});var View=function(_Base){function View(cfg){var _this;_this=_Base.call(this,cfg)||this;var self=_assertThisInitialized(_assertThisInitialized(_this));return self._setTheme(),Util.each(Geom,function(GeomConstructor,className){var methodName=Util.lowerFirst(className);self[methodName]=function(cfg){void 0===cfg&&(cfg={}),cfg.viewTheme=self.get("viewTheme");var geom=new GeomConstructor(cfg);return self.addGeom(geom),geom}}),self.init(),_this}_inheritsLoose(View,_Base);var _proto=View.prototype;return _proto.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:Global.animate,visible:!0}},_proto._setTheme=function(){var self=this,theme=self.get("theme"),viewTheme={},newTheme={};Util.isObject(theme)?newTheme=theme:-1!==Util.indexOf(Object.keys(Theme),theme)&&(newTheme=Theme[theme]),Util.deepMix(viewTheme,Global,newTheme),self.set("viewTheme",viewTheme)},_proto.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},_proto._initOptions=function(){var self=this,options=Util.mix({},self.get("options"));options.scales||(options.scales={}),options.coord||(options.coord={}),!1===options.animate&&this.set("animate",!1),(!1===options.tooltip||Util.isNull(options.tooltip))&&this.set("tooltipEnable",!1),options.geoms&&options.geoms.length&&Util.each(options.geoms,function(geomOption){self._createGeom(geomOption)});var scaleController=self.get("scaleController");scaleController&&(scaleController.defs=options.scales);var coordController=self.get("coordController");coordController&&coordController.reset(options.coord),this.set("options",options)},_proto._createGeom=function(cfg){var geom,type=cfg.type;this[type]&&(geom=this[type](),Util.each(cfg,function(v,k){if(geom[k])if(Util.isObject(v)&&v.field)if("label"===v)geom[k](v.field,v.callback,v.cfg);else{var _cfg;Util.each(v,function(value,key){"field"!==key&&(_cfg=value)}),geom[k](v.field,_cfg)}else geom[k](v)}))},_proto._initControllers=function(){var self=this,options=self.get("options"),viewTheme=self.get("viewTheme"),canvas=self.get("canvas"),scaleController=new Controller.Scale({viewTheme:viewTheme,defs:options.scales}),coordController=new Controller.Coord(options.coord);this.set("scaleController",scaleController),this.set("coordController",coordController);var axisController=new Controller.Axis({canvas:canvas,viewTheme:viewTheme});this.set("axisController",axisController);var guideController=new Controller.Guide({viewTheme:viewTheme,options:options.guides||[]});this.set("guideController",guideController)},_proto._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},_proto._initGeoms=function(){for(var geoms=this.get("geoms"),filteredData=this.get("filteredData"),coord=this.get("coord"),viewId=this.get("_id"),i=0;i<geoms.length;i++){var geom=geoms[i];geom.set("data",filteredData),geom.set("coord",coord),geom.set("_id",viewId+"-geom"+i),geom.set("keyFields",this.get("keyFields")),geom.init()}},_proto._clearGeoms=function(){for(var self=this,geoms=self.get("geoms"),i=0;i<geoms.length;i++){geoms[i].clear()}},_proto._removeGeoms=function(){for(var self=this,geoms=self.get("geoms");geoms.length>0;){geoms.shift().destroy()}},_proto._drawGeoms=function(){this.emit("beforedrawgeoms");for(var geoms=this.get("geoms"),coord=this.get("coord"),i=0;i<geoms.length;i++){var geom=geoms[i];geom.setCoord(coord),geom.paint()}this.emit("afterdrawgeoms")},_proto.isShapeInView=function(shape){var id=this.get("_id"),shapeId=shape._id;if(shapeId)return shapeId.split("-")[0]===id;for(var parent=shape;parent;){if(parent.get("viewId")===id)return!0;parent=parent.get("parent")}return!1},_proto.getViewRegion=function(){var start,end,self=this,parent=self.get("parent");if(parent){var region=parent.getViewRegion(),viewRegion=self._getViewRegion(region.start,region.end);start=viewRegion.start,end=viewRegion.end}else start=self.get("start"),end=self.get("end");return{start:start,end:end}},_proto._getViewRegion=function(plotStart,plotEnd){var start=this.get("start"),end=this.get("end"),startX=start.x,startY=1-end.y,endX=end.x,endY=1-start.y,padding=this.get("padding"),allPadding=Util.toAllPadding(padding),top=allPadding[0],right=allPadding[1],bottom=allPadding[2],left=allPadding[3];return{start:{x:startX*(plotEnd.x-plotStart.x)+plotStart.x+left,y:startY*(plotEnd.y-plotStart.y)+plotStart.y-bottom},end:{x:endX*(plotEnd.x-plotStart.x)+plotStart.x-right,y:endY*(plotEnd.y-plotStart.y)+plotStart.y+top}}},_proto._createCoord=function(){var coordController=this.get("coordController"),region=this.getViewRegion(),coord=coordController.createCoord(region.start,region.end);this.set("coord",coord)},_proto._renderAxes=function(){var options=this.get("options"),axesOptions=options.axes;if(!1!==axesOptions){var axisController=this.get("axisController");axisController.container=this.get("backPlot"),axisController.coord=this.get("coord"),axisController.options=axesOptions||{};var xScale=this.getXScale(),yScales=this.getYScales(),viewId=this.get("_id");axisController.createAxis(xScale,yScales,viewId)}},_proto._renderGuides=function(){var guideController=this.get("guideController");if(!Util.isEmpty(guideController.options)){var coord=this.get("coord");guideController.view=this,guideController.backContainer=this.get("backPlot"),guideController.frontContainer=this.get("frontPlot"),guideController.xScales=this._getScales("x"),guideController.yScales=this._getScales("y"),guideController.render(coord)}},_proto._bindEvents=function(){var eventController=new Controller.Event({view:this,canvas:this.get("canvas")});eventController.bindEvents(),this.set("eventController",eventController)},_proto._clearEvents=function(){var eventController=this.get("eventController");eventController&&eventController.clearEvents()},_proto._getScales=function(dimType){for(var geoms=this.get("geoms"),result={},i=0;i<geoms.length;i++){var geom=geoms[i],scale="x"===dimType?geom.getXScale():geom.getYScale();scale&&!result[scale.field]&&(result[scale.field]=scale)}return result},_proto._adjustScale=function(){this._setCatScalesRange();for(var geoms=this.get("geoms"),scaleController=this.get("scaleController"),colDefs=scaleController.defs,i=0;i<geoms.length;i++){var geom=geoms[i];if("interval"===geom.get("type")){var yScale=geom.getYScale(),field=yScale.field,min=yScale.min,max=yScale.max,type=yScale.type;colDefs[field]&&colDefs[field].min||"time"===type||(min>0?yScale.change({min:0}):max<=0&&yScale.change({max:0}))}}},_proto._setCatScalesRange=function(){var self=this,coord=self.get("coord"),viewTheme=self.get("viewTheme"),xScale=self.getXScale(),yScales=self.getYScales(),scales=[];xScale&&scales.push(xScale),scales=scales.concat(yScales);var inFullCircle=coord.isPolar&&isFullCircle(coord),scaleController=self.get("scaleController"),colDefs=scaleController.defs;Util.each(scales,function(scale){if((scale.isCategory||scale.isIdentity)&&scale.values&&(!colDefs[scale.field]||!colDefs[scale.field].range)){var range,count=scale.values.length;if(1===count)range=[.5,1];else{var widthRatio=1,offset=0;inFullCircle?coord.isTransposed?(widthRatio=viewTheme.widthRatio.multiplePie,offset=1/count*widthRatio,range=[offset/2,1-offset/2]):range=[0,1-1/count]:(offset=1/count*1/2,range=[offset,1-offset])}scale.range=range}})},_proto.getXScale=function(){var geoms=this.get("geoms"),xScale=null;return Util.isEmpty(geoms)||(xScale=geoms[0].getXScale()),xScale},_proto.getYScales=function(){for(var geoms=this.get("geoms"),rst=[],i=0;i<geoms.length;i++){var geom=geoms[i],yScale=geom.getYScale();yScale&&-1===Util.indexOf(rst,yScale)&&rst.push(yScale)}return rst},_proto.getXY=function(item){var x,y,self=this,coord=self.get("coord"),xScales=self._getScales("x"),yScales=self._getScales("y");for(var field in item)xScales[field]&&(x=xScales[field].scale(item[field])),yScales[field]&&(y=yScales[field].scale(item[field]));return Util.isNil(x)||Util.isNil(y)?null:coord.convert({x:x,y:y})},_proto.getSnapRecords=function(point){var self=this,geoms=self.get("geoms"),rst=[];return Util.each(geoms,function(geom){var record,dataArray=geom.get("dataArray");Util.each(dataArray,function(data){(record=geom.findPoint(point,data))&&rst.push(record)})}),rst},_proto.addGeom=function(geom){var self=this;self.get("geoms").push(geom),geom.set("view",self);var container=self.get("viewContainer");geom.set("container",container),geom.set("animate",self.get("animate")),geom.bindEvents()},_proto.removeGeom=function(geom){var geoms=this.get("geoms");Util.Array.remove(geoms,geom),geom.destroy()},_proto.createScale=function(field,data){var scales=this.get("scales"),parent=this.get("parent"),scale=scales[field];if(!data){var filteredData=this.get("filteredData"),legendFields=this._getFieldsForLegend();data=filteredData.length&&-1===legendFields.indexOf(field)?filteredData:this.get("data")}var scaleController=this.get("scaleController");if(scale){if(scale.sync){var newScale=scaleController.createScale(field,data);this._syncScale(scale,newScale)}}else{if(scale=scaleController.createScale(field,data),scale.sync&&parent){var parentScale=parent.createScale(field,data);scale=this._getSyncScale(parentScale,scale)}scales[field]=scale}return scale},_proto._getFieldsForLegend=function(){var fields=[],geoms=this.get("geoms");return Util.each(geoms,function(geom){var geomFields=geom.getFieldsForLegend();fields=fields.concat(geomFields)}),Util.uniq(fields)},_proto._getSyncScale=function(parentScale,scale){return parentScale.type!==scale.type?scale:(this._syncScale(parentScale,scale),parentScale)},_proto._syncScale=function(distScale,sourceScale){var mergeValues=Util.union(distScale.values,sourceScale.values);if(sourceScale.isLinear){var max=Math.max(distScale.max,sourceScale.max),min=Math.min(distScale.min,sourceScale.min);distScale.max===max&&distScale.min===min||distScale.change({min:min,max:max,values:mergeValues})}mergeValues.length!==distScale.values.length&&distScale.change({values:mergeValues})},_proto.getFilteredValues=function(field){var scale=this.get("scales")[field],values=scale.values,filters=this._getFilters();return filters&&filters[field]?values.filter(filters[field]):values.slice(0)},_proto.getFilteredOutValues=function(field){var scale=this.get("scales")[field],values=scale.values,filters=this._getFilters();return filters&&filters[field]?values.filter(function(v){return!filters[field](v)}):[]},_proto.filter=function(field,condition){var options=this.get("options");options.filters||(options.filters={}),options.filters[field]=condition,this.get("scaleController").filters=options.filters},_proto._getFilters=function(){return this.get("options").filters},_proto.execFilter=function(data){var self=this,filters=self._getFilters();return filters&&(data=data.filter(function(obj){var rst=!0;return Util.each(filters,function(fn,k){if(fn&&!(rst=fn(obj[k],obj)))return!1}),rst})),data},_proto.axis=function(field,cfg){var options=this.get("options");if(!1===field)options.axes=!1;else{options.axes||(options.axes={});options.axes[field]=cfg}return this},_proto.guide=function(){return this.get("guideController")},_proto._getKeyFields=function(scaleDefs){var keyFields=[];Util.each(scaleDefs,function(def,field){def.key&&keyFields.push(field)}),this.set("keyFields",keyFields)},_proto.scale=function(field,cfg){var options=this.get("options"),scaleDefs=options.scales;return Util.isObject(field)?Util.mix(scaleDefs,field):scaleDefs[field]=cfg,this._getKeyFields(scaleDefs),this},_proto.tooltip=function(visible){return this.set("tooltipEnable",visible),this},_proto.animate=function(enable){return this.get("options").animate=enable,this.set("animate",enable),this},_proto.changeOptions=function(options){return this.set("options",options),this._initOptions(options),this},_proto.getViewsByPoint=function(point){var rst=[],views=this.get("views");return isPointInCoord(this.get("coord"),point)&&rst.push(this),Util.each(views,function(view){view.get("visible")&&isPointInCoord(view.get("coord"),point)&&rst.push(view)}),rst},_proto.eachShape=function(fn){var self=this,views=self.get("views"),canvas=self.get("canvas");Util.each(views,function(view){view.eachShape(fn)});var geoms=this.get("geoms");return Util.each(geoms,function(geom){var shapes=geom.getShapes();Util.each(shapes,function(shape){var origin=shape.get("origin");if(Util.isArray(origin)){var arr=origin.map(function(subOrigin){return subOrigin._origin});fn(arr,shape,geom,self)}else{var obj=origin._origin;fn(obj,shape,geom,self)}})}),canvas.draw(),this},_proto.filterShape=function(fn){var callback=function(record,shape,geom,view){fn(record,shape,geom,view)?shape.show():shape.hide()};return this.eachShape(callback),this},_proto.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},_proto.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},_proto.coord=function(type,cfg){var coordController=this.get("coordController");return coordController.reset({type:type,cfg:cfg}),coordController},_proto.resetCoord=function(){this._createCoord()},_proto.source=function(data,scales){return this._initData(data),scales&&this.scale(scales),this.emit("setdata"),this},_proto.changeData=function(data){return this.emit("beforechangedata"),this._initData(data),this.emit("afterchangedata"),this.repaint(),this},_proto._initData=function(data){var dataView=this.get("dataView");dataView&&(dataView.off("change",Util.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),data&&data.isDataView&&(data.on("change",Util.wrapBehavior(this,"_onViewChange")),this.set("dataView",data),data=data.rows),this.set("data",data)},_proto._onViewChange=function(){this.emit("beforechangedata");var dataView=this.get("dataView"),rows=dataView.rows;this.set("data",rows),this.emit("afterchangedata"),this.repaint()},_proto.beforeRender=function(){var views=this.get("views");Util.each(views,function(view){view.beforeRender()}),this.initView()},_proto.drawComponents=function(){var views=this.get("views");Util.each(views,function(view){view.drawComponents()}),this._renderAxes(),this._renderGuides()},_proto.drawCanvas=function(stopDraw){if(!stopDraw){var views=this.get("views");this.get("backPlot").sort();var canvas=this.get("canvas");if(this.get("animate")){var isUpdate=this.get("isUpdate");Util.each(views,function(view){Animate.execAnimation(view,isUpdate)}),Animate.execAnimation(this,isUpdate)}else canvas.draw()}},_proto.render=function(stopDraw){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(stopDraw),this.emit("afterrender"),this.set("rendered",!0),this},_proto.initView=function(){var data=this.get("data")||[],filteredData=this.execFilter(data);this.set("filteredData",filteredData),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},_proto.paint=function(){var views=this.get("views");Util.each(views,function(view){view.paint()});var data=this.get("data");Util.isEmpty(data)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},_proto.changeVisible=function(visible,stopDraw){var geoms=this.get("geoms");if(Util.each(geoms,function(geom){geom.changeVisible(visible,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(visible),this.get("guideController")&&this.get("guideController").changeVisible(visible),!stopDraw){this.get("canvas").draw()}},_proto.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},_proto.destroy=function(){this._clearEvents();var dataView=this.get("dataView");dataView&&dataView.off("change",Util.getWrapBehavior(this,"_onViewChange")),this.clear(),_Base.prototype.destroy.call(this)},View}(Base);module.exports=View},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var isNil=__webpack_require__(5),isArray=__webpack_require__(4),each=__webpack_require__(2),Base=__webpack_require__(29),Position=function(_Base){function Position(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.names=["x","y"],_this.type="position",_this}return _inheritsLoose(Position,_Base),Position.prototype.mapping=function(x,y){var rstX,rstY,obj,scales=this.scales,coord=this.coord,scaleX=scales[0],scaleY=scales[1];if(isNil(x)||isNil(y))return[];if(isArray(y)&&isArray(x)){rstX=[],rstY=[];for(var i=0,j=0,xLen=x.length,yLen=y.length;i<xLen&&j<yLen;i++,j++)obj=coord.convertPoint({x:scaleX.scale(x[i]),y:scaleY.scale(y[j])}),rstX.push(obj.x),rstY.push(obj.y)}else if(isArray(y))x=scaleX.scale(x),rstY=[],each(y,function(yVal){yVal=scaleY.scale(yVal),obj=coord.convertPoint({x:x,y:yVal}),rstX&&rstX!==obj.x?(isArray(rstX)||(rstX=[rstX]),rstX.push(obj.x)):rstX=obj.x,rstY.push(obj.y)});else if(isArray(x))y=scaleY.scale(y),rstX=[],each(x,function(xVal){xVal=scaleX.scale(xVal),obj=coord.convertPoint({x:xVal,y:y}),rstY&&rstY!==obj.y?(isArray(rstY)||(rstY=[rstY]),rstY.push(obj.y)):rstY=obj.y,rstX.push(obj.x)});else{x=scaleX.scale(x),y=scaleY.scale(y);var point=coord.convertPoint({x:x,y:y});rstX=point.x,rstY=point.y}return[rstX,rstY]},Position}(Base);module.exports=Position},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var isString=__webpack_require__(10),ColorUtil=__webpack_require__(149),Base=__webpack_require__(29),Color=function(_Base){function Color(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.names=["color"],_this.type="color",_this.gradient=null,isString(_this.values)&&(_this.linear=!0),_this}return _inheritsLoose(Color,_Base),Color.prototype.getLinearValue=function(percent){var gradient=this.gradient;if(!gradient){var values=this.values;gradient=ColorUtil.gradient(values),this.gradient=gradient}return gradient(percent)},Color}(Base);module.exports=Color},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(29),Shape=function(_Base){function Shape(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.names=["shape"],_this.type="shape",_this.gradient=null,_this}return _inheritsLoose(Shape,_Base),Shape.prototype.getLinearValue=function(percent){var values=this.values;return values[Math.round((values.length-1)*percent)]},Shape}(Base);module.exports=Shape},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(29),Size=function(_Base){function Size(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.names=["size"],_this.type="size",_this.gradient=null,_this}return _inheritsLoose(Size,_Base),Size}(Base);module.exports=Size},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(29),Opacity=function(_Base){function Opacity(cfg){var _this;return _this=_Base.call(this,cfg)||this,_this.names=["opacity"],_this.type="opacity",_this.gradient=null,_this}return _inheritsLoose(Opacity,_Base),Opacity}(Base);module.exports=Opacity},function(module,exports,__webpack_require__){var mix=__webpack_require__(8),Adjust=__webpack_require__(30),Dodge=__webpack_require__(298),Stack=__webpack_require__(299),AdjustMixin=__webpack_require__(150),DodgeMixin=__webpack_require__(300),StackMixin=__webpack_require__(301);mix(Adjust.prototype,AdjustMixin),mix(Dodge.prototype,AdjustMixin,DodgeMixin),mix(Stack.prototype,StackMixin),Adjust.Jitter=__webpack_require__(302),Adjust.Symmetric=__webpack_require__(303),Adjust.Dodge=Dodge,Adjust.Stack=Stack,module.exports=Adjust},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Adjust=__webpack_require__(30),each=__webpack_require__(2),Dodge=function(_Adjust){function Dodge(){return _Adjust.apply(this,arguments)||this}_inheritsLoose(Dodge,_Adjust);var _proto=Dodge.prototype;return _proto._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},_proto.getDodgeOffset=function(range,index,count){var self=this,pre=range.pre,next=range.next,tickLength=next-pre,width=tickLength*self.dodgeRatio/count,margin=self.marginRatio*width;return(pre+next)/2+(.5*(tickLength-count*width-(count-1)*margin)+((index+1)*width+index*margin)-.5*width-.5*tickLength)},_proto.processAdjust=function(dataArray){var self=this,count=dataArray.length,xField=self.xField;each(dataArray,function(data,index){for(var i=0,len=data.length;i<len;i++){var obj=data[i],value=obj[xField],range={pre:value-.5,next:value+.5},dodgeValue=self.getDodgeOffset(range,index,count);obj[xField]=dodgeValue}})},Dodge}(Adjust);Adjust.Dodge=Dodge,module.exports=Dodge},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var isArray=__webpack_require__(4),isNil=__webpack_require__(5),Adjust=__webpack_require__(30),Stack=function(_Adjust){function Stack(){return _Adjust.apply(this,arguments)||this}_inheritsLoose(Stack,_Adjust);var _proto=Stack.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null},_proto.processAdjust=function(dataArray){this.processStack(dataArray)},_proto.processStack=function(dataArray){var self=this,xField=self.xField,yField=self.yField,count=dataArray.length,stackCache={positive:{},negative:{}};self.reverseOrder&&(dataArray=dataArray.slice(0).reverse());for(var i=0;i<count;i++)for(var data=dataArray[i],j=0,len=data.length;j<len;j++){var item=data[j],x=item[xField]||0,y=item[yField],xkey=x.toString();if(y=isArray(y)?y[1]:y,!isNil(y)){var direction=y>=0?"positive":"negative";stackCache[direction][xkey]||(stackCache[direction][xkey]=0),item[yField]=[stackCache[direction][xkey],y+stackCache[direction][xkey]],stackCache[direction][xkey]+=y}}},Stack}(Adjust);Adjust.Stack=Stack,module.exports=Stack},function(module,exports,__webpack_require__){var ArrayUtil={merge:__webpack_require__(42),values:__webpack_require__(64)},group=__webpack_require__(144),each=__webpack_require__(2);module.exports={processAdjust:function(dataArray){var self=this,mergeData=ArrayUtil.merge(dataArray),dodgeDim=self.dodgeBy,adjDataArray=dataArray;dodgeDim&&(adjDataArray=group(mergeData,dodgeDim)),self.cacheMap={},self.adjDataArray=adjDataArray,self.mergeData=mergeData,self.adjustData(adjDataArray,mergeData),self.adjDataArray=null,self.mergeData=null},getDistribution:function(dim){var self=this,dataArray=self.adjDataArray,cacheMap=self.cacheMap,map=cacheMap[dim];return map||(map={},each(dataArray,function(data,index){var values=ArrayUtil.values(data,dim);values.length||values.push(0),each(values,function(val){map[val]||(map[val]=[]),map[val].push(index)})}),cacheMap[dim]=map),map},adjustDim:function(dim,values,data,frameCount,frameIndex){var self=this,map=self.getDistribution(dim),groupData=self.groupData(data,dim);each(groupData,function(group,key){key=parseFloat(key);var range;range=1===values.length?{pre:values[0]-1,next:values[0]+1}:self.getAdjustRange(dim,key,values),each(group,function(record){var value=record[dim],valueArr=map[value],valIndex=valueArr.indexOf(frameIndex);record[dim]=self.getDodgeOffset(range,valIndex,valueArr.length)})})}}},function(module,exports){module.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(dataArray){var self=this,xField=self.xField,yField=self.yField||"y",height=self.height,stackY={};self.reverseOrder&&(dataArray=dataArray.slice(0).reverse());for(var i=0,len=dataArray.length;i<len;i++)for(var data=dataArray[i],j=0,dataLen=data.length;j<dataLen;j++){var item=data[j],size=item.size||self.size,stackHeight=2*size/height,x=item[xField];stackY[x]||(stackY[x]=stackHeight/2),item[yField]=stackY[x],stackY[x]+=stackHeight}},processAdjust:function(dataArray){this.yField?this.processStack(dataArray):this.processOneDimStack(dataArray)}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var each=__webpack_require__(2),mix=__webpack_require__(8),ArrayUtil={merge:__webpack_require__(42)},Adjust=__webpack_require__(30),AdjustMixin=__webpack_require__(150),Jitter=function(_Adjust){function Jitter(){return _Adjust.apply(this,arguments)||this}_inheritsLoose(Jitter,_Adjust);var _proto=Jitter.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},_proto.processAdjust=function(dataArray){var self=this,mergeData=ArrayUtil.merge(dataArray);self.adjDataArray=dataArray,self.mergeData=mergeData,self.adjustData(dataArray,mergeData),self.adjFrames=null,self.mergeData=null},_proto.getAdjustOffset=function(pre,next){var r=Math.random(),avg=next-pre;return pre+.05*avg+.9*avg*r},_proto._adjustGroup=function(group,dim,key,values){var self=this,range=self.getAdjustRange(dim,key,values);each(group,function(record){record[dim]=self.getAdjustOffset(range.pre,range.next)})},_proto.adjustDim=function(dim,values,data){var self=this,groupData=self.groupData(data,dim);each(groupData,function(group,key){key=parseFloat(key),self._adjustGroup(group,dim,key,values)})},Jitter}(Adjust);mix(Jitter.prototype,AdjustMixin),Adjust.Jitter=Jitter,module.exports=Jitter},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var each=__webpack_require__(2),maxBy=__webpack_require__(132),isArray=__webpack_require__(4),ArrayUtil={merge:__webpack_require__(42)},Adjust=__webpack_require__(30),Symmetric=function(_Adjust){function Symmetric(){return _Adjust.apply(this,arguments)||this}_inheritsLoose(Symmetric,_Adjust);var _proto=Symmetric.prototype;return _proto._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},_proto._getMax=function(dim){var self=this,mergeData=self.mergeData,maxRecord=maxBy(mergeData,function(obj){var value=obj[dim];return isArray(value)?Math.max.apply(null,value):value}),maxValue=maxRecord[dim];return isArray(maxValue)?Math.max.apply(null,maxValue):maxValue},_proto._getXValuesMax=function(){var self=this,yField=self.yField,xField=self.xField,cache={},mergeData=self.mergeData;return each(mergeData,function(obj){var xValue=obj[xField],yValue=obj[yField],max=isArray(yValue)?Math.max.apply(null,yValue):yValue;cache[xValue]=cache[xValue]||0,cache[xValue]<max&&(cache[xValue]=max)}),cache},_proto.processAdjust=function(dataArray){var self=this,mergeData=ArrayUtil.merge(dataArray);self.mergeData=mergeData,self._processSymmetric(dataArray),self.mergeData=null},_proto._processSymmetric=function(dataArray){var cache,self=this,xField=self.xField,yField=self.yField,max=self._getMax(yField),first=dataArray[0][0];first&&isArray(first[yField])&&(cache=self._getXValuesMax()),each(dataArray,function(data){each(data,function(obj){var offset,value=obj[yField];if(isArray(value)){var xValue=obj[xField],valueMax=cache[xValue];offset=(max-valueMax)/2;var tmp=[];each(value,function(subVal){tmp.push(offset+subVal)}),obj[yField]=tmp}else offset=(max-value)/2,obj[yField]=[offset,value+offset]})})},Symmetric}(Adjust);Adjust.Symmetric=Symmetric,module.exports=Symmetric},function(module,exports,__webpack_require__){var _html,_tooltip,Util=__webpack_require__(0),BasicTheme=__webpack_require__(152),DarkTheme=Util.deepMix({},BasicTheme,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(_html={},_html["g2-legend"]={color:"#D9D9D9"},_html),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(_tooltip={},_tooltip["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},_tooltip),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});module.exports=DarkTheme},function(module,exports,__webpack_require__){var GeomLabels=__webpack_require__(65),PolarLabels=__webpack_require__(164),PieLabels=__webpack_require__(335),IntervalLabels=__webpack_require__(336),Labels={getLabelsClass:function(coordType,type){var rst=GeomLabels;return"polar"===coordType?rst=PolarLabels:"theta"===coordType?rst=PieLabels:"interval"!==type&&"polygon"!==type||(rst=IntervalLabels),rst}};module.exports=Labels},function(module,exports,__webpack_require__){var Axis=__webpack_require__(31);Axis.Base=Axis,Axis.Circle=__webpack_require__(310),Axis.Grid=__webpack_require__(153),Axis.Helix=__webpack_require__(311),Axis.Line=__webpack_require__(312),Axis.Polyline=__webpack_require__(313),module.exports=Axis},function(module,exports,__webpack_require__){function adjustLabelPosition(label,x,y,index){var bbox=label.getBBox(),width=bbox.width,height=bbox.height,attrs={x:x,y:y,textAlign:"center"};switch(index){case 0:attrs.y-=height/2,attrs.textAlign="left";break;case 1:attrs.y-=height/2,attrs.textAlign="right";break;case 2:attrs.y+=height/2,attrs.textAlign="right";break;case 3:attrs.y+=height/2,attrs.textAlign="left";break;case 5:attrs.y-=height/2;break;case 6:attrs.y+=height/2;break;case 7:attrs.x+=width/2,attrs.textAlign="left";break;case 8:attrs.x-=width/2,attrs.textAlign="right"}return label.attr(attrs),label.getBBox()}var Greedy=__webpack_require__(155);module.exports=function(labels){for(var bbox,label,x,y,canFill,greedy=new Greedy,toBeRemoved=[],i=0;i<labels.length;i++){label=labels[i],x=label.attr("x"),y=label.attr("y"),canFill=!1;for(var _i=0;_i<8;_i++)if(bbox=adjustLabelPosition(label,x,y,_i),greedy.hasGap(bbox)){greedy.fillGap(bbox),canFill=!0;break}canFill||toBeRemoved.push(label)}for(var _i2=0;_i2<toBeRemoved.length;_i2++)toBeRemoved[_i2].remove();return canFill}},function(module,exports,__webpack_require__){function spiralFill(label,greedy){var dxdy,x=label.attr("x"),y=label.attr("y"),bbox=label.getBBox(),maxDelta=Math.sqrt(bbox.width*bbox.width+bbox.height*bbox.height),t=1,dx=0,dy=0;if(greedy.hasGap(bbox))return greedy.fillGap(bbox),!0;for(var canFill=!1,times=0;Math.min(Math.abs(dx),Math.abs(dy))<maxDelta&&times<MAX_TIMES;)if(dxdy=function(t){return[(t*=.1)*Math.cos(t),t*Math.sin(t)]}(t+=-1),dx=~~dxdy[0],dy=~~dxdy[1],label.attr({x:x+dx,y:y+dy}),times++,greedy.hasGap(label.getBBox())){greedy.fillGap(bbox),canFill=!0;break}return canFill}var Greedy=__webpack_require__(155),MAX_TIMES=20;module.exports=function(labels){for(var label,greedy=new Greedy,toBeRemoved=[],i=0;i<labels.length;i++)label=labels[i],spiralFill(label,greedy)||toBeRemoved.push(label);for(var _i=0;_i<toBeRemoved.length;_i++)toBeRemoved[_i].remove()}},function(module,exports){module.exports=function(labels,shapes){for(var labelBBox,shapeBBox,toBeRemoved=[],i=0;i<labels.length;i++)labelBBox=labels[i].getBBox(),shapeBBox=shapes[i].getBBox(),labelBBox.width>shapeBBox.width||labelBBox.height>shapeBBox.height?toBeRemoved.push(labels[i]):labelBBox.width*labelBBox.height>shapeBBox.width*shapeBBox.height&&toBeRemoved.push(labels[i]);for(var _i=0;_i<toBeRemoved.length;_i++)toBeRemoved[_i].remove()}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Base=__webpack_require__(31),vec2=Util.MatrixUtil.vec2,Circle=function(_Base){function Circle(){return _Base.apply(this,arguments)||this}_inheritsLoose(Circle,_Base);var _proto=Circle.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},_proto.parseTick=function(tick,index,length){return{text:tick,value:index/length}},_proto._getCirclePoint=function(angle,radius){var self=this,center=self.get("center");return radius=radius||self.get("radius"),{x:center.x+Math.cos(angle)*radius,y:center.y+Math.sin(angle)*radius}},_proto.getTickPoint=function(value){var self=this,startAngle=self.get("startAngle"),endAngle=self.get("endAngle"),angle=startAngle+(endAngle-startAngle)*value;return self._getCirclePoint(angle)},_proto.getSideVector=function(offset,point){var self=this,center=self.get("center"),vector=[point.x-center.x,point.y-center.y];if(!Util.isNil(offset)){var vecLen=vec2.length(vector);vec2.scale(vector,vector,offset/vecLen)}return vector},_proto.getSidePoint=function(point,offset){var self=this,vector=self.getSideVector(offset,point);return{x:point.x+vector[0],y:point.y+vector[1]}},_proto.getTickEnd=function(start,length){var self=this,tickLine=self.get("tickLine");return length=length||tickLine.length,self.getSidePoint(start,length)},_proto.getTextAnchor=function(vector){var align;return Util.snapEqual(vector[0],0)?align="center":vector[0]>0?align="left":vector[0]<0&&(align="right"),align},_proto.getLinePath=function(){var self=this,center=self.get("center"),x=center.x,y=center.y,rx=self.get("radius"),ry=rx,startAngle=self.get("startAngle"),endAngle=self.get("endAngle"),inner=self.get("inner"),path=[];if(Math.abs(endAngle-startAngle)===2*Math.PI)path=[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]];else{var startPoint=self._getCirclePoint(startAngle),endPoint=self._getCirclePoint(endAngle),large=Math.abs(endAngle-startAngle)>Math.PI?1:0,sweep=startAngle>endAngle?0:1;if(inner){var innerStartVector=self.getSideVector(inner*rx,startPoint),innerEndVector=self.getSideVector(inner*rx,endPoint),innerStartPoint={x:innerStartVector[0]+x,y:innerStartVector[1]+y},innerEndPoint={x:innerEndVector[0]+x,y:innerEndVector[1]+y};path=[["M",innerStartPoint.x,innerStartPoint.y],["L",startPoint.x,startPoint.y],["A",rx,ry,0,large,sweep,endPoint.x,endPoint.y],["L",innerEndPoint.x,innerEndPoint.y],["A",rx*inner,ry*inner,0,large,Math.abs(sweep-1),innerStartPoint.x,innerStartPoint.y]]}else path=[["M",x,y],["L",startPoint.x,startPoint.y],["A",rx,ry,0,large,sweep,endPoint.x,endPoint.y],["L",x,y]]}return path},_proto.addLabel=function(tick,point,index){var self=this,offset=self.get("label").offset||self.get("_labelOffset")||.001;point=self.getSidePoint(point,offset),_Base.prototype.addLabel.call(this,tick,point,index)},_proto.autoRotateLabels=function(){var self=this,ticks=self.get("ticks"),labelRenderer=self.get("labelRenderer");if(labelRenderer&&ticks.length>12){var radius=self.get("radius"),startAngle=self.get("startAngle"),endAngle=self.get("endAngle"),totalAngle=endAngle-startAngle,avgAngle=totalAngle/(ticks.length-1),avgWidth=Math.sin(avgAngle/2)*radius*2,maxLength=self.getMaxLabelWidth(labelRenderer);Util.each(labelRenderer.get("group").get("children"),function(label,index){var tick=ticks[index],angle=tick.value*totalAngle+startAngle,mode=angle%(2*Math.PI);maxLength<avgWidth?(mode<=0&&(angle+=Math.PI),mode>Math.PI&&(angle-=Math.PI),angle-=Math.PI/2,label.attr("textAlign","center")):mode>Math.PI/2?angle-=Math.PI:mode<Math.PI/2*-1&&(angle+=Math.PI),label.rotateAtStart(angle)})}},Circle}(Base);module.exports=Circle},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Base=__webpack_require__(31),MatrixUtil=Util.MatrixUtil,PathUtil=Util.PathUtil,vec2=MatrixUtil.vec2,Helix=function(_Base){function Helix(){return _Base.apply(this,arguments)||this}_inheritsLoose(Helix,_Base);var _proto=Helix.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},_proto.getLinePath=function(){var self=this,crp=self.get("crp"),axisStart=self.get("axisStart"),path=PathUtil.catmullRomToBezier(crp);return path.unshift(["M",axisStart.x,axisStart.y]),path},_proto.getTickPoint=function(value){var self=this,startAngle=self.get("startAngle"),endAngle=self.get("endAngle"),angle=startAngle+(endAngle-startAngle)*value;return self._getHelixPoint(angle)},_proto._getHelixPoint=function(angle){var self=this,center=self.get("center"),a=self.get("a"),radius=a*angle+self.get("inner");return{x:center.x+Math.cos(angle)*radius,y:center.y+Math.sin(angle)*radius}},_proto.getSideVector=function(offset,point){var self=this,center=self.get("center"),vector=[point.x-center.x,point.y-center.y];if(offset){var vecLen=vec2.length(vector);vec2.scale(vector,vector,offset/vecLen)}return vector},_proto.getSidePoint=function(point,offset){var self=this,vector=self.getSideVector(offset,point);return{x:point.x+vector[0],y:point.y+vector[1]}},_proto.getTickEnd=function(start,length){var self=this,tickLine=self.get("tickLine");return length=length||tickLine.length,self.getSidePoint(start,length)},Helix}(Base);module.exports=Helix},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(31),Util=__webpack_require__(3),MatrixUtil=Util.MatrixUtil,vec2=MatrixUtil.vec2,Line=function(_Base){function Line(){return _Base.apply(this,arguments)||this}_inheritsLoose(Line,_Base);var _proto=Line.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},_proto._getAvgLabelLength=function(labelRenderer){var labels=labelRenderer.get("group").get("children");return labels[1].attr("x")-labels[0].attr("x")},_proto._getAvgLabelHeightSpace=function(labelRenderer){var labels=labelRenderer.get("group").get("children");return labels[1].attr("y")-labels[0].attr("y")},_proto.getSideVector=function(offset){var self=this,isVertical=self.get("isVertical"),factor=self.get("factor");if(!Util.isNumber(offset))return[0,0];var start=self.get("start"),end=self.get("end"),axisVector=self.getAxisVector(),normal=vec2.normalize([],axisVector),direction=!1;(isVertical&&start.y<end.y||!isVertical&&start.x>end.x)&&(direction=!0);var verticalVector=vec2.vertical([],normal,direction);return vec2.scale([],verticalVector,offset*factor)},_proto.getAxisVector=function(){var start=this.get("start"),end=this.get("end");return[end.x-start.x,end.y-start.y]},_proto.getLinePath=function(){var self=this,start=self.get("start"),end=self.get("end"),path=[];return path.push(["M",start.x,start.y]),path.push(["L",end.x,end.y]),path},_proto.getTickEnd=function(start,value){var self=this,offsetVector=self.getSideVector(value);return{x:start.x+offsetVector[0],y:start.y+offsetVector[1]}},_proto.getTickPoint=function(tickValue){var self=this,start=self.get("start"),end=self.get("end"),rangeX=end.x-start.x,rangeY=end.y-start.y;return{x:start.x+rangeX*tickValue,y:start.y+rangeY*tickValue}},_proto.renderTitle=function(){var self=this,title=self.get("title"),offsetPoint=self.getTickPoint(.5),titleOffset=title.offset;if(Util.isNil(titleOffset)){titleOffset=20;var labelsGroup=self.get("labelsGroup");if(labelsGroup){titleOffset+=self.getMaxLabelWidth(labelsGroup)+(self.get("label").offset||self.get("_labelOffset"))}}var textStyle=title.textStyle,cfg=Util.mix({},textStyle);if(title.text){var vector=self.getAxisVector();if(title.autoRotate&&Util.isNil(textStyle.rotate)){var angle=0;if(!Util.snapEqual(vector[1],0)){var v1=[1,0],v2=[vector[0],vector[1]];angle=vec2.angleTo(v2,v1,!0)}cfg.rotate=angle*(180/Math.PI)}else Util.isNil(textStyle.rotate)||(cfg.rotate=textStyle.rotate/180*Math.PI);var point,sideVector=self.getSideVector(titleOffset),position=title.position;point="start"===position?{x:this.get("start").x+sideVector[0],y:this.get("start").y+sideVector[1]}:"end"===position?{x:this.get("end").x+sideVector[0],y:this.get("end").y+sideVector[1]}:{x:offsetPoint.x+sideVector[0],y:offsetPoint.y+sideVector[1]},cfg.x=point.x,cfg.y=point.y,cfg.text=title.text;var group=self.get("group"),titleShape=group.addShape("Text",{zIndex:2,attrs:cfg});titleShape.name="axis-title",self.get("appendInfo")&&titleShape.setSilent("appendInfo",self.get("appendInfo"))}},_proto.autoRotateLabels=function(){var self=this,labelRenderer=self.get("labelRenderer"),title=self.get("title");if(labelRenderer){var labelGroup=labelRenderer.get("group"),labels=labelGroup.get("children"),offset=self.get("label").offset,titleOffset=title?title.offset:48;if(titleOffset<0)return;var angle,maxWidth,vector=self.getAxisVector();if(Util.snapEqual(vector[0],0)&&title&&title.text)(maxWidth=self.getMaxLabelWidth(labelRenderer))>titleOffset-offset-12&&(angle=-1*Math.acos((titleOffset-offset-12)/maxWidth));else if(Util.snapEqual(vector[1],0)&&labels.length>1){var avgWidth=Math.abs(self._getAvgLabelLength(labelRenderer));maxWidth=self.getMaxLabelWidth(labelRenderer),maxWidth>avgWidth&&(angle=Math.asin(1.25*(titleOffset-offset-12)/maxWidth))}if(angle){var factor=self.get("factor");Util.each(labels,function(label){label.rotateAtStart(angle),Util.snapEqual(vector[1],0)&&(factor>0?label.attr("textAlign","left"):label.attr("textAlign","right"))})}}},_proto.autoHideLabels=function(){var labelSpace,tickStep,self=this,labelRenderer=self.get("labelRenderer");if(labelRenderer){var labelGroup=labelRenderer.get("group"),labels=labelGroup.get("children"),vector=self.getAxisVector();if(labels.length<2)return;if(Util.snapEqual(vector[0],0)){var maxHeight=self.getMaxLabelHeight(labelRenderer)+8,avgHeight=Math.abs(self._getAvgLabelHeightSpace(labelRenderer));maxHeight>avgHeight&&(labelSpace=maxHeight,tickStep=avgHeight)}else if(Util.snapEqual(vector[1],0)&&labels.length>1){var maxWidth=self.getMaxLabelWidth(labelRenderer)+8,avgWidth=Math.abs(self._getAvgLabelLength(labelRenderer));maxWidth>avgWidth&&(labelSpace=maxWidth,tickStep=avgWidth)}if(labelSpace&&tickStep){var ratio=Math.ceil(labelSpace/tickStep);Util.each(labels,function(label,i){i%ratio!=0&&label.attr("text","")})}}},Line}(Base);module.exports=Line},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Base=__webpack_require__(31),MatrixUtil=Util.MatrixUtil,PathUtil=Util.PathUtil,vec2=MatrixUtil.vec2,Polyline=function(_Base){function Polyline(){return _Base.apply(this,arguments)||this}_inheritsLoose(Polyline,_Base);var _proto=Polyline.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"polyline"})},_proto.getLinePath=function(){var self=this,tickPoints=self.get("tickPoints"),start=self.get("start"),end=self.get("end"),points=[];points.push(start.x),points.push(start.y),Util.each(tickPoints,function(tick){points.push(tick.x),points.push(tick.y)}),points.push(end.x),points.push(end.y);var path=PathUtil.catmullRomToBezier(points);return path.unshift(["M",start.x,start.y]),path},_proto.getTickPoint=function(value,index){return this.get("tickPoints")[index]},_proto.getTickEnd=function(start,value,index){var self=this,lineAttrs=self.get("tickLine"),tickLength=value||lineAttrs.length,offsetVector=self.getSideVector(tickLength,start,index);return{x:start.x+offsetVector[0],y:start.y+offsetVector[1]}},_proto.getSideVector=function(offset,point,index){var preTickPoint,self=this;if(0===index){if(preTickPoint=self.get("start"),preTickPoint.x===point.x&&preTickPoint.y===point.y)return[0,0]}else{preTickPoint=self.get("tickPoints")[index-1]}var vector=[point.x-preTickPoint.x,point.y-preTickPoint.y],normal=vec2.normalize([],vector),verticalVector=vec2.vertical([],normal,!1);return vec2.scale([],verticalVector,offset)},Polyline}(Base);module.exports=Polyline},function(module,exports,__webpack_require__){module.exports={Guide:__webpack_require__(15),Arc:__webpack_require__(315),DataMarker:__webpack_require__(316),DataRegion:__webpack_require__(317),Html:__webpack_require__(318),Image:__webpack_require__(319),Line:__webpack_require__(320),Region:__webpack_require__(321),Text:__webpack_require__(322)}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function calculateAngle(point,center){var deg,x=point.x-center.x,y=point.y-center.y;return 0===y?deg=x<0?PI/2:270*PI/180:x>=0&&y>0?deg=2*PI-atan(x/y):x<=0&&y<0?deg=PI-atan(x/y):x>0&&y<0?deg=PI+atan(-x/y):x<0&&y>0&&(deg=atan(x/-y)),deg}var Util=__webpack_require__(3),Guide=__webpack_require__(15),PI=Math.PI,atan=Math.atan,Arc=function(_Guide){function Arc(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Arc,_Guide);var _proto=Arc.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},_proto.render=function(coord,group){var path,self=this,start=self.parsePoint(coord,self.get("start")),end=self.parsePoint(coord,self.get("end")),coordCenter=coord.getCenter(),radius=Math.sqrt((start.x-coordCenter.x)*(start.x-coordCenter.x)+(start.y-coordCenter.y)*(start.y-coordCenter.y)),startAngle=calculateAngle(start,coordCenter),endAngle=calculateAngle(end,coordCenter);if(endAngle<startAngle&&(endAngle+=2*PI),Util.isNumberEqual(start.x,end.x)&&Util.isNumberEqual(start.y,end.y)&&(self.get("start")[0]!==self.get("end")[0]||self.get("start")[1]!==self.get("end")[1]))path=[["M",start.x,start.y],["A",radius,radius,0,1,1,2*coordCenter.x-start.x,2*coordCenter.y-start.y],["A",radius,radius,0,1,1,start.x,start.y]];else{var dAngle=(endAngle-startAngle)%(2*PI),largeArc=dAngle>PI?1:0;path=[["M",start.x,start.y],["A",radius,radius,0,largeArc,1,end.x,end.y]]}var arcShape=group.addShape("path",{zIndex:self.get("zIndex"),attrs:Util.mix({path:path},self.get("style"))});arcShape.name="guide-arc",self.get("appendInfo")&&arcShape.setSilent("appendInfo",self.get("appendInfo")),self.set("el",arcShape)},Arc}(Guide);module.exports=Arc},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Guide=__webpack_require__(15),DataMarker=function(_Guide){function DataMarker(){return _Guide.apply(this,arguments)||this}_inheritsLoose(DataMarker,_Guide);var _proto=DataMarker.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},_proto.render=function(coord,group){var self=this,point=self.parsePoint(coord,self.get("position")),markerGroup=group.addGroup();markerGroup.name="guide-data-marker";var lineShape,textShape,positions=self._getElementPosition(point),display=self.get("display");if(display.line){var lineData=positions.line;lineShape=self._drawLine(lineData,markerGroup)}if(display.text&&self.get("content")){var textPosition=positions.text;textShape=self._drawText(textPosition,markerGroup)}if(display.point){var pointPoisition=positions.point;self._drawPoint(pointPoisition,markerGroup)}if(self.get("autoAdjust")){var bbox=markerGroup.getBBox(),minX=bbox.minX,minY=bbox.minY,maxX=bbox.maxX,maxY=bbox.maxY,start=coord.start,end=coord.end;if(textShape){minX<=start.x&&textShape.attr("textAlign","start"),maxX>=end.x&&textShape.attr("textAlign","end");var direction=self.get("direction");if("upward"===direction&&minY<=end.y||"upward"!==direction&&maxY>=start.y){var textBaseline,dir;"upward"===direction&&minY<=end.y?(textBaseline="top",dir=1):(textBaseline="bottom",dir=-1),textShape.attr("textBaseline",textBaseline);var lineLength=0;if(self.get("display").line){lineLength=self.get("lineLength");var linePath=[["M",point.x,point.y],["L",point.x,point.y+lineLength*dir]];lineShape.attr("path",linePath)}var newY=point.y+(lineLength+2)*dir;textShape.attr("y",newY)}}}self.get("appendInfo")&&markerGroup.setSilent("appendInfo",self.get("appendInfo")),self.set("el",markerGroup)},_proto._getElementPosition=function(position){var self=this,x=position.x,y=position.y,lineLength=self.get("display").line?self.get("lineLength"):0,direction=self.get("direction");self.get("style").text.textBaseline="upward"===direction?"bottom":"top";var dir="upward"===direction?-1:1;return{point:{x:x,y:y},line:[{x:x,y:y},{x:x,y:lineLength*dir+y}],text:{x:x,y:(lineLength+2)*dir+y}}},_proto._drawLine=function(lineData,g){var self=this,lineStyle=self.get("style").line,linePath=[["M",lineData[0].x,lineData[0].y],["L",lineData[1].x,lineData[1].y]];return g.addShape("path",{attrs:Util.mix({path:linePath},lineStyle)})},_proto._drawText=function(position,g){var self=this,textStyle=this.get("style").text;return g.addShape("text",{attrs:Util.mix({text:self.get("content")},textStyle,position)})},_proto._drawPoint=function(position,g){var self=this,pointStyle=self.get("style").point;return g.addShape("circle",{attrs:Util.mix({},pointStyle,position)})},DataMarker}(Guide);module.exports=DataMarker},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Helper=__webpack_require__(156),Guide=__webpack_require__(15),DataRegion=function(_Guide){function DataRegion(){return _Guide.apply(this,arguments)||this}_inheritsLoose(DataRegion,_Guide);var _proto=DataRegion.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},_proto.render=function(coord,group,data){var self=this,lineLength=self.get("lineLength")||0,regionData=self._getRegionData(coord,data);if(regionData.length){var regionBBox=self._getBBox(regionData),path=[];path.push(["M",regionData[0].x,regionBBox.yMin-lineLength]);for(var i=0,len=regionData.length;i<len;i++){var p=["L",regionData[i].x,regionData[i].y];path.push(p)}path.push(["L",regionData[regionData.length-1].x,regionBBox.yMin-lineLength]);var style=self.get("style"),regionStyle=style.region,textStyle=style.text,regionGroup=group.addGroup();regionGroup.name="guide-data-region",regionGroup.addShape("path",{attrs:Util.mix({path:path},regionStyle)});var content=self.get("content");content&&regionGroup.addShape("Text",{attrs:Util.mix({x:(regionBBox.xMin+regionBBox.xMax)/2,y:regionBBox.yMin-lineLength,text:content},textStyle)}),self.get("appendInfo")&&regionGroup.setSilent("appendInfo",self.get("appendInfo")),self.set("el",regionGroup)}},_proto._getRegionData=function(coord,data){for(var startIndex,self=this,start=self.get("start"),end=self.get("end"),xField=Helper.getFirstScale(self.get("xScales")).field,yField=Helper.getFirstScale(self.get("yScales")).field,startXValue=Util.isArray(start)?start[0]:start[xField],endXValue=Util.isArray(end)?end[0]:end[xField],arr=[],i=0,len=data.length;i<len;i++){var item=data[i];if(item[xField]===startXValue&&(startIndex=i),i>=startIndex&&arr.push(self.parsePoint(coord,[item[xField],item[yField]])),item[xField]===endXValue)break}return arr},_proto._getBBox=function(data){for(var xs=[],ys=[],i=0;i<data.length;i++)xs.push(data[i].x),ys.push(data[i].y);var xRange=Util.arrayUtil.getRange(xs),yRange=Util.arrayUtil.getRange(ys);return{xMin:xRange.min,xMax:xRange.max,yMin:yRange.min,yMax:yRange.max}},DataRegion}(Guide);module.exports=DataRegion},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),DomUtil=Util.DomUtil,Guide=__webpack_require__(15),Html=function(_Guide){function Html(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Html,_Guide);var _proto=Html.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},_proto.render=function(coord,container){var self=this,position=self.parsePoint(coord,self.get("position")),parentNode=container.get("canvas").get("el").parentNode,wrapperNode=DomUtil.createDom('<div class="g-guide"></div>');parentNode.appendChild(wrapperNode);var html=self.get("htmlContent")||self.get("html");if(Util.isFunction(html)){html=html(self.get("xScales"),self.get("yScales"))}var htmlNode=DomUtil.createDom(html);wrapperNode.appendChild(htmlNode),DomUtil.modifyCSS(wrapperNode,{position:"absolute"}),self._setDomPosition(wrapperNode,htmlNode,position),self.set("el",wrapperNode)},_proto._setDomPosition=function(parentDom,childDom,point){var self=this,alignX=self.get("alignX"),alignY=self.get("alignY"),domWidth=DomUtil.getOuterWidth(childDom),domHeight=DomUtil.getOuterHeight(childDom),position={x:point.x,y:point.y};"middle"===alignX&&"top"===alignY?position.x-=Math.round(domWidth/2):"middle"===alignX&&"bottom"===alignY?(position.x-=Math.round(domWidth/2),position.y-=Math.round(domHeight)):"left"===alignX&&"bottom"===alignY?position.y-=Math.round(domHeight):"left"===alignX&&"middle"===alignY?position.y-=Math.round(domHeight/2):"left"===alignX&&"top"===alignY?(position.x=point.x,position.y=point.y):"right"===alignX&&"bottom"===alignY?(position.x-=Math.round(domWidth),position.y-=Math.round(domHeight)):"right"===alignX&&"middle"===alignY?(position.x-=Math.round(domWidth),position.y-=Math.round(domHeight/2)):"right"===alignX&&"top"===alignY?position.x-=Math.round(domWidth):(position.x-=Math.round(domWidth/2),position.y-=Math.round(domHeight/2));var offsetX=self.get("offsetX");offsetX&&(position.x+=offsetX);var offsetY=self.get("offsetY");offsetY&&(position.y+=offsetY),DomUtil.modifyCSS(parentDom,{top:Math.round(position.y)+"px",left:Math.round(position.x)+"px",visibility:"visible",zIndex:self.get("zIndex")})},_proto.clear=function(){var self=this,el=self.get("el");el&&el.parentNode&&el.parentNode.removeChild(el)},Html}(Guide);module.exports=Html},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Guide=__webpack_require__(15),Image=function(_Guide){function Image(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Image,_Guide);var _proto=Image.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},_proto.render=function(coord,group){var self=this,start=self.parsePoint(coord,self.get("start")),cfg={x:start.x,y:start.y};if(cfg.img=self.get("src"),self.get("end")){var end=self.parsePoint(coord,self.get("end"));cfg.width=end.x-start.x,cfg.height=end.y-start.y}else cfg.width=self.get("width")||32,cfg.height=self.get("height")||32;self.get("offsetX")&&(cfg.x+=self.get("offsetX")),self.get("offsetY")&&(cfg.y+=self.get("offsetY"));var imgGuide=group.addShape("Image",{zIndex:1,attrs:cfg});imgGuide.name="guide-image",self.get("appendInfo")&&imgGuide.setSilent("appendInfo",self.get("appendInfo")),self.set("el",imgGuide)},Image}(Guide);module.exports=Image},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Guide=__webpack_require__(15),vec2=Util.MatrixUtil.vec2,_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,Line=function(_Guide){function Line(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Line,_Guide);var _proto=Line.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:FONT_FAMILY},content:null}})},_proto.render=function(coord,group){var self=this,start=self.parsePoint(coord,self.get("start")),end=self.parsePoint(coord,self.get("end")),guideLineGroup=group.addGroup({viewId:group.get("viewId")});self._drawLines(start,end,guideLineGroup);var text=self.get("text");text&&text.content&&self._drawText(start,end,guideLineGroup),self.set("el",guideLineGroup)},_proto._drawLines=function(start,end,group){var path=[["M",start.x,start.y],["L",end.x,end.y]],guideLine=group.addShape("Path",{attrs:Util.mix({path:path},this.get("lineStyle"))});guideLine.name="guide-line",this.get("appendInfo")&&guideLine.setSilent("appendInfo",this.get("appendInfo"))},_proto._drawText=function(start,end,group){var percent,textCfg=this.get("text"),position=textCfg.position,textStyle=textCfg.style||{};((percent="start"===position?0:"center"===position?.5:Util.isString(position)&&-1!==position.indexOf("%")?parseInt(position,10)/100:Util.isNumber(position)?position:1)>1||percent<0)&&(percent=1);var cfg={x:start.x+(end.x-start.x)*percent,y:start.y+(end.y-start.y)*percent};if(textCfg.offsetX&&(cfg.x+=textCfg.offsetX),textCfg.offsetY&&(cfg.y+=textCfg.offsetY),cfg.text=textCfg.content,cfg=Util.mix({},cfg,textStyle),textCfg.autoRotate&&Util.isNil(textStyle.rotate)){var angle=vec2.angleTo([end.x-start.x,end.y-start.y],[1,0],1);cfg.rotate=angle}else Util.isNil(textStyle.rotate)||(cfg.rotate=textStyle.rotate*Math.PI/180);var shape=group.addShape("Text",{attrs:cfg});shape.name="guide-line-text",this.get("appendInfo")&&shape.setSilent("appendInfo",this.get("appendInfo"))},Line}(Guide);module.exports=Line},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Guide=__webpack_require__(15),Region=function(_Guide){function Region(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Region,_Guide);var _proto=Region.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},_proto.render=function(coord,group){var self=this,rectStyle=self.get("style"),path=self._getPath(coord),regionGroup=group.addShape("path",{zIndex:self.get("zIndex"),attrs:Util.mix({path:path},rectStyle)});regionGroup.name="guide-region",self.get("appendInfo")&&regionGroup.setSilent("appendInfo",self.get("appendInfo")),self.set("el",regionGroup)},_proto._getPath=function(coord){var self=this,start=self.parsePoint(coord,self.get("start")),end=self.parsePoint(coord,self.get("end"));return[["M",start.x,start.y],["L",end.x,start.y],["L",end.x,end.y],["L",start.x,end.y],["z"]]},Region}(Guide);module.exports=Region},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Guide=__webpack_require__(15),Text=function(_Guide){function Text(){return _Guide.apply(this,arguments)||this}_inheritsLoose(Text,_Guide);var _proto=Text.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},_proto.render=function(coord,group){var self=this,point=self.parsePoint(coord,self.get("position")),textStyle=Util.mix({},self.get("style")),offsetX=self.get("offsetX"),offsetY=self.get("offsetY");offsetX&&(point.x+=offsetX),offsetY&&(point.y+=offsetY),textStyle.rotate&&(textStyle.rotate=textStyle.rotate*Math.PI/180);var guideText=group.addShape("Text",{zIndex:self.get("zIndex"),attrs:Util.mix({text:self.get("content")},textStyle,point)});guideText.name="guide-text",self.get("appendInfo")&&guideText.setSilent("appendInfo",self.get("appendInfo")),self.set("el",guideText)},Text}(Guide);module.exports=Text},function(module,exports,__webpack_require__){var Label=__webpack_require__(154);module.exports=Label},function(module,exports,__webpack_require__){module.exports={Category:__webpack_require__(157),CatHtml:__webpack_require__(159),CatPageHtml:__webpack_require__(325),Color:__webpack_require__(326),Size:__webpack_require__(328),CircleSize:__webpack_require__(329)}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function findNodeByClass(node,className){return node.getElementsByClassName(className)[0]}var Util=__webpack_require__(3),CatHtml=__webpack_require__(159),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,DomUtil=Util.DomUtil,CatPageHtml=function(_CatHtml){function CatPageHtml(){return _CatHtml.apply(this,arguments)||this}_inheritsLoose(CatPageHtml,_CatHtml);var _proto=CatPageHtml.prototype;return _proto.getDefaultCfg=function(){var cfg=_CatHtml.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:FONT_FAMILY,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;">1</p><p class="next-pagenum" style = "display:inline-block;">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},_proto.render=function(){_CatHtml.prototype._renderHTML.call(this),this._renderFlipPage()},_proto._renderFlipPage=function(){var legendWrapper=document.getElementsByClassName("g2-legend")[0],itemListDom=findNodeByClass(legendWrapper,"g2-legend-list"),position=this.get("position"),layout=this.get("layout"),itemDisplay="right"===position||"left"===position||"vertical"===layout?"block":"inline-block";if(legendWrapper.scrollHeight>legendWrapper.offsetHeight){var slipTpl=this.get("slipTpl"),slipDom=DomUtil.createDom(slipTpl),caretUpDom=findNodeByClass(slipDom,"g2-caret-up"),caretDownDom=findNodeByClass(slipDom,"g2-caret-down");DomUtil.modifyCSS(caretUpDom,this.get("caretStyle")),DomUtil.modifyCSS(caretUpDom,{fill:"rgba(0,0,0,0.25)"}),DomUtil.modifyCSS(caretDownDom,this.get("caretStyle"));var curPageNumDom=findNodeByClass(slipDom,"cur-pagenum"),totalPageNumDom=findNodeByClass(slipDom,"next-pagenum"),pageNumStyle=this.get("pageNumStyle");DomUtil.modifyCSS(curPageNumDom,Util.mix({},pageNumStyle,{paddingLeft:"10px"})),DomUtil.modifyCSS(totalPageNumDom,Util.mix({},pageNumStyle,{opacity:.3,paddingRight:"10px"})),DomUtil.modifyCSS(slipDom,Util.mix({},this.get("slipDomStyle"),{top:legendWrapper.offsetHeight+"px"})),legendWrapper.style.overflow=this.get("legendOverflow"),legendWrapper.appendChild(slipDom);for(var li=itemListDom.childNodes,curHeight=0,pages=1,blockLi=[],i=0;i<li.length;i++)li[i].style.display=itemDisplay,curHeight=li[i].offsetTop+li[i].offsetHeight,curHeight>=legendWrapper.offsetHeight&&(pages++,blockLi.forEach(function(bl){bl.style.display="none"}),blockLi=[]),blockLi.push(li[i]);totalPageNumDom.innerText="/"+pages,li.forEach(function(l){l.style.display=itemDisplay,(curHeight=l.offsetTop+l.offsetHeight)>legendWrapper.offsetHeight&&(l.style.display="none")}),caretUpDom.addEventListener("click",function(){if(li[0].style.display!==itemDisplay){var firstDisplayItemIdx=-1;li.forEach(function(l,i){l.style.display===itemDisplay&&(firstDisplayItemIdx=-1===firstDisplayItemIdx?i:firstDisplayItemIdx,l.style.display="none")});for(var _i=firstDisplayItemIdx-1;_i>=0&&(li[_i].style.display=itemDisplay,curHeight=li[firstDisplayItemIdx-1].offsetTop+li[firstDisplayItemIdx-1].offsetHeight,li[_i].style.display="none",curHeight<legendWrapper.offsetHeight);_i--)li[_i].style.display=itemDisplay;var currentPage=Number.parseInt(curPageNumDom.innerText,10)-1;caretUpDom.style.fill=1===currentPage?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",caretDownDom.style.fill="rgba(0,0,0,0.65)",curPageNumDom.innerText=currentPage}}),caretDownDom.addEventListener("click",function(){if(li[li.length-1].style.display!==itemDisplay){var lastDisplayItemIdx=-1;li.forEach(function(l,i){l.style.display===itemDisplay&&(lastDisplayItemIdx=i,l.style.display="none")});for(var _i2=lastDisplayItemIdx+1;_i2<li.length&&(li[_i2].style.display=itemDisplay,curHeight=li[_i2].offsetTop+li[_i2].offsetHeight,li[_i2].style.display="none",curHeight<legendWrapper.offsetHeight);_i2++)li[_i2].style.display=itemDisplay;var currentPage=Number.parseInt(curPageNumDom.innerText,10)+1;caretDownDom.style.fill=currentPage===itemDisplay?"rgba(0,0,0,0.25)":"rgba(0,0,0,0.65)",caretUpDom.style.fill="rgba(0,0,0,0.65)",curPageNumDom.innerText=currentPage}}),this.set("slipDom",slipDom)}},_proto.destroy=function(){_CatHtml.prototype.destroy.call(this);var slipDom=this.get("slipDom");slipDom&&slipDom.parentNode&&slipDom.parentNode.removeChild(slipDom)},CatPageHtml}(CatHtml);module.exports=CatPageHtml},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var _require=__webpack_require__(73),ColorUtil=_require.ColorUtil,Util=__webpack_require__(3),Continuous=__webpack_require__(67),Color=function(_Continuous){function Color(){return _Continuous.apply(this,arguments)||this}_inheritsLoose(Color,_Continuous);var _proto=Color.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},_proto._setPercentage=function(){var items=this.get("items");if(!items[0].percentage){var min=items[0].value,max=items[items.length-1].value;Util.each(items,function(it){it.percentage=(it.value-min)/(max-min)})}},_proto._renderSliderShape=function(){this._setPercentage();var rgbColor,slider=this.get("slider"),backgroundElement=slider.get("backgroundElement"),width=this.get("width"),height=this.get("height"),layout=this.get("layout"),items=this.get("items"),fill="";return"vertical"===layout?(fill+="l (90) ",Util.each(items,function(v){rgbColor=ColorUtil.toRGB(v.color),fill+=1-v.percentage+":"+rgbColor+" "})):(fill+="l (0) ",Util.each(items,function(v){rgbColor=ColorUtil.toRGB(v.color),fill+=v.percentage+":"+rgbColor+" "})),this._addMiddleBar(backgroundElement,"Rect",{x:0,y:0,width:width,height:height,fill:fill,strokeOpacity:0})},_proto._renderUnslidable=function(){this._setPercentage();var titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleGap=titleShape?titleShape.getBBox().height+titleGap:titleGap;var rgbColor,width=this.get("width"),height=this.get("height"),layout=this.get("layout"),items=this.get("items"),fill="",path=[],group=this.get("group"),bgGroup=group.addGroup(),isize=items.length;if("vertical"===layout){fill+="l (90) ";for(var i=0;i<isize;i+=1){if(0!==i&&i!==isize-1&&(path.push(["M",0,height-items[i].percentage*height]),path.push(["L",width,height-items[i].percentage*height])),rgbColor=ColorUtil.toRGB(items[i].color),fill+=1-items[i].percentage+":"+rgbColor+" ",this.get("isSegment")&&i>0){var preRgbColor=ColorUtil.toRGB(items[i-1].color);fill+=1-items[i].percentage+":"+preRgbColor+" "}bgGroup.addShape("text",{attrs:Util.mix({},{x:width+this.get("textOffset")/2,y:height-items[i].percentage*height,text:this._formatItemValue(items[i].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{fill+="l (0) ";for(var _i=0;_i<isize;_i+=1){if(0!==_i&&_i!==isize-1&&(path.push(["M",items[_i].percentage*width,0]),path.push(["L",items[_i].percentage*width,height])),rgbColor=ColorUtil.toRGB(items[_i].color),this.get("isSegment")&&_i>0){var _preRgbColor=ColorUtil.toRGB(items[_i-1].color);fill+=items[_i].percentage+":"+_preRgbColor+" "}fill+=items[_i].percentage+":"+rgbColor+" ",bgGroup.addShape("text",{attrs:Util.mix({},{x:items[_i].percentage*width,y:height+5+this.get("textOffset"),text:this._formatItemValue(items[_i].value)+""},this.get("textStyle"))})}}bgGroup.addShape("rect",{attrs:{x:0,y:0,width:width,height:height,fill:fill,strokeOpacity:0}}),bgGroup.addShape("path",{attrs:Util.mix({path:path},this.get("lineStyle"))}),bgGroup.move(0,titleGap)},Color}(Continuous);module.exports=Color},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),DomUtil=Util.DomUtil,Group=Util.Group,Slider=function(_Group){function Slider(){return _Group.apply(this,arguments)||this}_inheritsLoose(Slider,_Group);var _proto=Slider.prototype;return _proto.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_proto._beforeRenderUI=function(){var layout=this.get("layout"),backgroundElement=this.get("backgroundElement"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.addShape("rect",{attrs:this.get("middleAttr")}),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";this.add([backgroundElement,minHandleElement,maxHandleElement]),this.set("middleHandleElement",middleHandleElement),backgroundElement.set("zIndex",0),middleHandleElement.set("zIndex",1),minHandleElement.set("zIndex",2),maxHandleElement.set("zIndex",2),middleHandleElement.attr("cursor","move"),minHandleElement.attr("cursor",trigerCursor),maxHandleElement.attr("cursor",trigerCursor),this.sort()},_proto._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_proto._transform=function(layout){var range=this.get("range"),minRatio=range[0]/100,maxRatio=range[1]/100,width=this.get("width"),height=this.get("height"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.get("middleHandleElement");minHandleElement.resetMatrix(),maxHandleElement.resetMatrix(),"horizontal"===layout?(middleHandleElement.attr({x:width*minRatio,y:0,width:(maxRatio-minRatio)*width,height:height}),minHandleElement.translate(minRatio*width,height),maxHandleElement.translate(maxRatio*width,height)):(middleHandleElement.attr({x:0,y:height*(1-maxRatio),width:width,height:(maxRatio-minRatio)*height}),minHandleElement.translate(1,(1-minRatio)*height),maxHandleElement.translate(1,(1-maxRatio)*height))},_proto._renderHorizontal=function(){this._transform("horizontal")},_proto._renderVertical=function(){this._transform("vertical")},_proto._bindUI=function(){this.on("mousedown",Util.wrapBehavior(this,"_onMouseDown"))},_proto._isElement=function(target,name){var element=this.get(name);if(target===element)return!0;if(element.isGroup){return element.get("children").indexOf(target)>-1}return!1},_proto._getRange=function(diff,range){var rst=diff+range;return rst=rst>100?100:rst,rst=rst<0?0:rst},_proto._updateStatus=function(dim,ev){var totalLength="x"===dim?this.get("width"):this.get("height");dim=Util.upperFirst(dim);var diffStashRange,range=this.get("range"),page=this.get("page"+dim),currentTarget=this.get("currentTarget"),rangeStash=this.get("rangeStash"),layout=this.get("layout"),sign="vertical"===layout?-1:1,currentPage=ev["page"+dim],diffPage=currentPage-page,diffRange=diffPage/totalLength*100*sign;range[1]<=range[0]?(this._isElement(currentTarget,"minHandleElement")||this._isElement(currentTarget,"maxHandleElement"))&&(range[0]=this._getRange(diffRange,range[0]),range[1]=this._getRange(diffRange,range[0])):(this._isElement(currentTarget,"minHandleElement")&&(range[0]=this._getRange(diffRange,range[0])),this._isElement(currentTarget,"maxHandleElement")&&(range[1]=this._getRange(diffRange,range[1]))),this._isElement(currentTarget,"middleHandleElement")&&(diffStashRange=rangeStash[1]-rangeStash[0],range[0]=this._getRange(diffRange,range[0]),range[1]=range[0]+diffStashRange,range[1]>100&&(range[1]=100,range[0]=range[1]-diffStashRange)),this.emit("sliderchange",{range:range}),this.set("page"+dim,currentPage),this._renderUI(),this.get("canvas").draw()},_proto._onMouseDown=function(ev){var currentTarget=ev.currentTarget,originEvent=ev.event,range=this.get("range");originEvent.stopPropagation(),originEvent.preventDefault(),this.set("pageX",originEvent.pageX),this.set("pageY",originEvent.pageY),this.set("currentTarget",currentTarget),this.set("rangeStash",[range[0],range[1]]),this._bindCanvasEvents()},_proto._bindCanvasEvents=function(){var containerDOM=this.get("canvas").get("containerDOM");this.onMouseMoveListener=DomUtil.addEventListener(containerDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=DomUtil.addEventListener(containerDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=DomUtil.addEventListener(containerDOM,"mouseleave",Util.wrapBehavior(this,"_onCanvasMouseUp"))},_proto._onCanvasMouseMove=function(ev){if(!this._mouseOutArea(ev)){"horizontal"===this.get("layout")?this._updateStatus("x",ev):this._updateStatus("y",ev)}},_proto._onCanvasMouseUp=function(){this._removeDocumentEvents()},_proto._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_proto._mouseOutArea=function(ev){var el=this.get("canvas").get("el"),el_bbox=el.getBoundingClientRect(),parent=this.get("parent"),bbox=parent.getBBox(),left=parent.attr("matrix")[6],top=parent.attr("matrix")[7],right=left+bbox.width,bottom=top+bbox.height,mouseX=ev.clientX-el_bbox.x,mouseY=ev.clientY-el_bbox.y;return mouseX<left||mouseX>right||mouseY<top||mouseY>bottom},Slider}(Group);module.exports=Slider},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Continuous=__webpack_require__(67),Size=function(_Continuous){function Size(){return _Continuous.apply(this,arguments)||this}_inheritsLoose(Size,_Continuous);var _proto=Size.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},_proto._renderSliderShape=function(){var slider=this.get("slider"),backgroundElement=slider.get("backgroundElement"),layout=this.get("layout"),width=this.get("width"),height=this.get("height"),y=this.get("height")/2,frontMiddleBarStyle=this.get("frontMiddleBarStyle"),points="vertical"===layout?[[0,0],[width,0],[width,height],[width-4,height]]:[[0,y+height/2],[0,y+height/2-4],[width,y-height/2],[width,y+height/2]];return this._addMiddleBar(backgroundElement,"Polygon",Util.mix({points:points},frontMiddleBarStyle))},_proto._renderUnslidable=function(){var layout=this.get("layout"),width=this.get("width"),height=this.get("height"),frontMiddleBarStyle=this.get("frontMiddleBarStyle"),points="vertical"===layout?[[0,0],[width,0],[width,height],[width-4,height]]:[[0,height],[0,height-4],[width,0],[width,height]];this.get("group").addGroup().addShape("Polygon",{attrs:Util.mix({points:points},frontMiddleBarStyle)});var minText=this._formatItemValue(this.get("firstItem").value),maxText=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(width+10,height-3,minText),this._addText(width+10,3,maxText)):(this._addText(0,height,minText),this._addText(width,height,maxText))},_proto._addText=function(x,y,text){var group=this.get("group"),textGroup=group.addGroup(),textStyle=this.get("textStyle"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleShape&&(titleGap+=titleShape.getBBox().height),"vertical"===this.get("layout")?textGroup.addShape("text",{attrs:Util.mix({x:x+this.get("textOffset"),y:y,text:0===text?"0":text},textStyle)}):(y+=titleGap+this.get("textOffset")-20,titleShape||(y+=10),textGroup.addShape("text",{attrs:Util.mix({x:x,y:y,text:0===text?"0":text},textStyle)}))},Size}(Continuous);module.exports=Size},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),Continuous=__webpack_require__(67),CircleSize=function(_Continuous){function CircleSize(){return _Continuous.apply(this,arguments)||this}_inheritsLoose(CircleSize,_Continuous);var _proto=CircleSize.prototype;return _proto.getDefaultCfg=function(){var cfg=_Continuous.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},_proto._renderSliderShape=function(){var slider=this.get("slider"),backgroundElement=slider.get("backgroundElement"),layout=this.get("layout"),width="vertical"===layout?2:this.get("width"),height="vertical"===layout?this.get("height"):2,y=this.get("height")/2,frontMiddleBarStyle=this.get("frontMiddleBarStyle"),points="vertical"===layout?[[0,0],[width,0],[width,height],[0,height]]:[[0,y+height],[0,y-height],[5+width-4,y-height],[5+width-4,y+height]];return this._addMiddleBar(backgroundElement,"Polygon",Util.mix({points:points},frontMiddleBarStyle))},_proto._addHorizontalTrigger=function(type,blockAttr,textAttr,radius){var slider=this.get("slider"),trigger=slider.get(type+"HandleElement"),y=-this.get("height")/2,button=trigger.addShape("circle",{attrs:Util.mix({x:0,y:y,r:radius},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:0,y:y+radius+10,textAlign:"center",textBaseline:"middle"})}),layout=this.get("layout"),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._addVerticalTrigger=function(type,blockAttr,textAttr,radius){var slider=this.get("slider"),trigger=slider.get(type+"HandleElement"),button=trigger.addShape("circle",{attrs:Util.mix({x:0,y:0,r:radius},blockAttr)}),text=trigger.addShape("text",{attrs:Util.mix(textAttr,{x:radius+10,y:0,textAlign:"start",textBaseline:"middle"})}),layout=this.get("layout"),trigerCursor="vertical"===layout?"ns-resize":"ew-resize";button.attr("cursor",trigerCursor),text.attr("cursor",trigerCursor),this.set(type+"ButtonElement",button),this.set(type+"TextElement",text)},_proto._renderTrigger=function(){var min=this.get("firstItem"),max=this.get("lastItem"),layout=this.get("layout"),textStyle=this.get("textStyle"),triggerAttr=this.get("triggerAttr"),minBlockAttr=Util.mix({},triggerAttr),maxBlockAttr=Util.mix({},triggerAttr),minTextAttr=Util.mix({text:this._formatItemValue(min.value)+""},textStyle),maxTextAttr=Util.mix({text:this._formatItemValue(max.value)+""},textStyle);"vertical"===layout?(this._addVerticalTrigger("min",minBlockAttr,minTextAttr,5),this._addVerticalTrigger("max",maxBlockAttr,maxTextAttr,16)):(this._addHorizontalTrigger("min",minBlockAttr,minTextAttr,5),this._addHorizontalTrigger("max",maxBlockAttr,maxTextAttr,16))},_proto._bindEvents=function(){var _this=this;if(this.get("slidable")){this.get("slider").on("sliderchange",function(ev){var range=ev.range,firstItemValue=_this.get("firstItem").value,lastItemValue=_this.get("lastItem").value,minValue=firstItemValue+range[0]/100*(lastItemValue-firstItemValue),maxValue=firstItemValue+range[1]/100*(lastItemValue-firstItemValue),minRadius=5+range[0]/100*11,maxRadius=5+range[1]/100*11;_this._updateElement(minValue,maxValue,minRadius,maxRadius);var itemFiltered=new Event("itemfilter",ev,!0,!0);itemFiltered.range=[minValue,maxValue],_this.emit("itemfilter",itemFiltered)})}},_proto._updateElement=function(min,max,minR,maxR){_Continuous.prototype._updateElement.call(this,min,max);var minTextElement=this.get("minTextElement"),maxTextElement=this.get("maxTextElement"),minCircleElement=this.get("minButtonElement"),maxCircleElement=this.get("maxButtonElement");if(minCircleElement.attr("r",minR),maxCircleElement.attr("r",maxR),"vertical"===this.get("layout"))minTextElement.attr("x",minR+10),maxTextElement.attr("x",maxR+10);else{var y=-this.get("height")/2;minTextElement.attr("y",y+minR+10),maxTextElement.attr("y",y+maxR+10)}},_proto._addCircle=function(x,y,r,text,maxWidth){var group=this.get("group"),circleGroup=group.addGroup(),circleStyle=this.get("_unslidableCircleStyle"),textStyle=this.get("textStyle"),titleShape=this.get("titleShape"),titleGap=this.get("titleGap");titleShape&&(titleGap+=titleShape.getBBox().height),circleGroup.addShape("circle",{attrs:Util.mix({x:x,y:y+titleGap,r:0===r?1:r},circleStyle)}),"vertical"===this.get("layout")?circleGroup.addShape("text",{attrs:Util.mix({x:maxWidth+20+this.get("textOffset"),y:y+titleGap,text:0===text?"0":text},textStyle)}):circleGroup.addShape("text",{attrs:Util.mix({x:x,y:y+titleGap+maxWidth+13+this.get("textOffset"),text:0===text?"0":text},textStyle)})},_proto._renderUnslidable=function(){var firstItemValue=this.get("firstItem").value,lastItemValue=this.get("lastItem").value;if(firstItemValue>lastItemValue){var tmp=lastItemValue;lastItemValue=firstItemValue,firstItemValue=tmp}var minText=this._formatItemValue(firstItemValue),maxText=this._formatItemValue(lastItemValue),minRadius=firstItemValue<5?5:firstItemValue,maxRadius=lastItemValue>16?16:lastItemValue;minRadius>maxRadius&&(minRadius=5,maxRadius=16),"vertical"===this.get("layout")?(this._addCircle(maxRadius,maxRadius,minRadius,minText,2*maxRadius),this._addCircle(maxRadius,2*maxRadius+16+minRadius,maxRadius,maxText,2*maxRadius)):(this._addCircle(maxRadius,maxRadius,minRadius,minText,2*maxRadius),this._addCircle(2*maxRadius+16+minRadius,maxRadius,maxRadius,maxText,2*maxRadius))},_proto.activate=function(value){this.get("slidable")&&_Continuous.prototype.activate.call(this,value)},CircleSize}(Continuous);module.exports=CircleSize},function(module,exports,__webpack_require__){var Tooltip=__webpack_require__(68);Tooltip.Html=__webpack_require__(331),Tooltip.Canvas=__webpack_require__(163),Tooltip.Mini=__webpack_require__(333),module.exports=Tooltip},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function find(dom,cls){return dom.getElementsByClassName(cls)[0]}function mergeStyles(styles,cfg){return Object.keys(styles).forEach(function(k){cfg[k]&&(styles[k]=Util.mix(styles[k],cfg[k]))}),styles}var Tooltip=__webpack_require__(68),Util=__webpack_require__(3),DomUtil=Util.DomUtil,TooltipTheme=__webpack_require__(332),Crosshair=__webpack_require__(160),PositionMixin=__webpack_require__(161),MarkerGroupMixin=__webpack_require__(162),HtmlTooltip=function(_Tooltip){function HtmlTooltip(cfg){var _this;_this=_Tooltip.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),PositionMixin),Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),MarkerGroupMixin);var style=TooltipTheme;_this.style=mergeStyles(style,cfg),_this._init_(),_this.get("items")&&_this.render();var crosshair=_this.get("crosshairs");if(crosshair){var plot="rect"===crosshair.type?_this.get("backPlot"):_this.get("frontPlot"),crosshairGroup=new Crosshair(Util.mix({plot:plot,plotRange:_this.get("plotRange"),canvas:_this.get("canvas")},_this.get("crosshairs")));crosshairGroup.hide(),_this.set("crosshairGroup",crosshairGroup)}return _this}_inheritsLoose(HtmlTooltip,_Tooltip);var _proto=HtmlTooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_Tooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{containerTpl:' <div class="g2-tooltip"> <div class="g2-tooltip-title"></div><ul class="g2-tooltip-list"></ul></div>',itemTpl:'<li data-index={index}><span style="background-color:{color};" class=g2-tooltip-marker></span>{name}<span class=g2-tooltip-value>{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},_proto._init_=function(){var container,self=this,containerTpl=self.get("containerTpl"),outterNode=self.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(containerTpl)){var id=containerTpl.replace("#","");container=document.getElementById(id)}else container=DomUtil.createDom(containerTpl),DomUtil.modifyCSS(container,self.style["g2-tooltip"]),outterNode.appendChild(container),outterNode.style.position="relative";self.set("container",container)}},_proto.render=function(){var self=this;if(self.clear(),self.get("htmlContent")){var outterNode=self.get("canvas").get("el").parentNode,container=self._getHtmlContent();outterNode.appendChild(container),self.set("container",container)}else self._renderTpl()},_proto._renderTpl=function(){var self=this,showTitle=self.get("showTitle"),titleContent=self.get("titleContent"),container=self.get("container"),titleDom=find(container,"g2-tooltip-title"),listDom=find(container,"g2-tooltip-list"),items=self.get("items");titleDom&&showTitle&&(DomUtil.modifyCSS(titleDom,self.style["g2-tooltip-title"]),titleDom.innerHTML=titleContent),listDom&&(DomUtil.modifyCSS(listDom,self.style["g2-tooltip-list"]),Util.each(items,function(item,index){listDom.appendChild(self._addItem(item,index))}))},_proto.clear=function(){var container=this.get("container");if(this.get("htmlContent"))container&&container.remove();else{var titleDom=find(container,"g2-tooltip-title"),listDom=find(container,"g2-tooltip-list");titleDom&&(titleDom.innerHTML=""),listDom&&(listDom.innerHTML="")}},_proto.show=function(){var container=this.get("container");if(container){container.style.visibility="visible",container.style.display="block";var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.show();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.show(),_Tooltip.prototype.show.call(this),this.get("canvas").draw()}},_proto.hide=function(){var container=this.get("container");if(container){container.style.visibility="hidden",container.style.display="none";var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.hide();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.hide(),_Tooltip.prototype.hide.call(this),this.get("canvas").draw()}},_proto.destroy=function(){var self=this,container=self.get("container"),containerTpl=self.get("containerTpl");container&&!/^\#/.test(containerTpl)&&container.parentNode.removeChild(container);var crosshairGroup=this.get("crosshairGroup");crosshairGroup&&crosshairGroup.destroy();var markerGroup=this.get("markerGroup");markerGroup&&markerGroup.remove(),_Tooltip.prototype.destroy.call(this)},_proto._addItem=function(item,index){var itemTpl=this.get("itemTpl"),itemDiv=Util.substitute(itemTpl,Util.mix({index:index},item)),itemDOM=DomUtil.createDom(itemDiv);DomUtil.modifyCSS(itemDOM,this.style["g2-tooltip-list-item"]);var markerDom=find(itemDOM,"g2-tooltip-marker");markerDom&&DomUtil.modifyCSS(markerDom,this.style["g2-tooltip-marker"]);var valueDom=find(itemDOM,"g2-tooltip-value");return valueDom&&DomUtil.modifyCSS(valueDom,this.style["g2-tooltip-value"]),itemDOM},_proto._getHtmlContent=function(){var htmlContent=this.get("htmlContent"),title=this.get("titleContent"),items=this.get("items"),htmlString=htmlContent(title,items);return DomUtil.createDom(htmlString)},_proto.setPosition=function(x,y,target){var position,container=this.get("container"),outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode),containerWidth=container.clientWidth,containerHeight=container.clientHeight,endx=x,endy=y,prePosition=this.get("prePosition")||{x:0,y:0};if(this.get("enterable"))y-=container.clientHeight/2,position=[x,y],prePosition&&x-prePosition.x>0?x-=container.clientWidth+1:x+=1;else if(this.get("position")){var _containerWidth=container.clientWidth,_containerHeight=container.clientHeight;position=this._calcTooltipPosition(x,y,this.get("position"),_containerWidth,_containerHeight,target),x=position[0],y=position[1]}else position=this._constraintPositionInBoundary(x,y,containerWidth,containerHeight,viewWidth,viewHeight),x=position[0],y=position[1];if(this.get("inPlot")){var plotRange=this.get("plotRange");position=this._constraintPositionInPlot(x,y,containerWidth,containerHeight,plotRange,this.get("enterable")),x=position[0],y=position[1]}var markerItems=this.get("markerItems");Util.isEmpty(markerItems)||(endx=markerItems[0].x,endy=markerItems[0].y),this.set("prePosition",position),this.get("follow")&&(container.style.left=x+"px",container.style.top=y+"px");var crosshairGroup=this.get("crosshairGroup");if(crosshairGroup){var items=this.get("items");crosshairGroup.setPosition(endx,endy,items)}_Tooltip.prototype.setPosition.call(this,x,y)},HtmlTooltip}(Tooltip);module.exports=HtmlTooltip},function(module,exports,__webpack_require__){var _TooltipTheme,_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,TooltipTheme=(_TooltipTheme={crosshairs:!1,offset:15},_TooltipTheme["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:FONT_FAMILY,lineHeight:"20px",padding:"10px 10px 6px 10px"},_TooltipTheme["g2-tooltip-title"]={marginBottom:"4px"},_TooltipTheme["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},_TooltipTheme["g2-tooltip-list-item"]={marginBottom:"4px"},_TooltipTheme["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},_TooltipTheme["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},_TooltipTheme);module.exports=TooltipTheme},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(3),CanvasTooltip=__webpack_require__(163),_require=__webpack_require__(14),FONT_FAMILY=_require.FONT_FAMILY,DomUtil=Util.DomUtil,MatrixUtil=Util.MatrixUtil,MiniTooltip=function(_CanvasTooltip){function MiniTooltip(){return _CanvasTooltip.apply(this,arguments)||this}_inheritsLoose(MiniTooltip,_CanvasTooltip);var _proto=MiniTooltip.prototype;return _proto.getDefaultCfg=function(){var cfg=_CanvasTooltip.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:FONT_FAMILY,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},_proto._init_=function(){var self=this,padding=self.get("padding"),parent=self.get("frontPlot"),container=parent.addGroup();self.set("container",container);var board=container.addShape("rect",{attrs:Util.mix({},self.get("boardStyle"))});self.set("board",board);var triangleShape=container.addShape("path",{attrs:{fill:self.get("boardStyle").fill}});self.set("triangleShape",triangleShape);var itemGroup=container.addGroup();itemGroup.move(padding.left,padding.top);var valueShape=itemGroup.addShape("text",{attrs:Util.mix({},self.get("valueStyle"))});self.set("valueShape",valueShape)},_proto.render=function(){var self=this;self.clear();var board=self.get("board"),valueShape=self.get("valueShape"),padding=self.get("padding"),item=self.get("items")[0];valueShape&&valueShape.attr("text",item.value);var bbox=valueShape?valueShape.getBBox():{width:80,height:30},width=padding.left+bbox.width+padding.right,height=padding.top+bbox.height+padding.bottom;board.attr("width",width),board.attr("height",height),self._centerTriangleShape()},_proto.clear=function(){this.get("valueShape").attr("text","")},_proto.setPosition=function(x,y,target){var self=this,container=self.get("container"),plotRange=self.get("plotRange"),bbox=container.getBBox(),width=bbox.width,height=bbox.height;if(x-=width/2,target&&("point"===target.name||"interval"===target.name)){y=target.getBBox().y}if(y-=height,this.get("inPlot"))x<plotRange.tl.x?(x=plotRange.tl.x,self._leftTriangleShape()):x+width/2>plotRange.tr.x?(x=plotRange.tr.x-width,self._rightTriangleShape()):self._centerTriangleShape(),y<plotRange.tl.y?y=plotRange.tl.y:y+height>plotRange.bl.y&&(y=plotRange.bl.y-height);else{var outterNode=this.get("canvas").get("el"),viewWidth=DomUtil.getWidth(outterNode),viewHeight=DomUtil.getHeight(outterNode);x<0?(x=0,self._leftTriangleShape()):x+width/2>viewWidth?(x=viewWidth-width,self._rightTriangleShape()):self._centerTriangleShape(),y<0?y=0:y+height>viewHeight&&(y=viewHeight-height)}var ulMatrix=[1,0,0,0,1,0,0,0,1],mat=MatrixUtil.transform(ulMatrix,[["t",x,y]]);container.stopAnimate(),container.animate({matrix:mat},this.get("animationDuration"))},_proto._centerTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardBBox=this.get("board").getBBox(),boardWidth=boardBBox.width,boardHeight=boardBBox.height,pathArray=[["M",0,0],["L",width,0],["L",width/2,height],["L",0,0],["Z"]];triangle.attr("path",pathArray),triangle.move(boardWidth/2-width/2,boardHeight-1)},_proto._leftTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardBBox=this.get("board").getBBox(),boardHeight=boardBBox.height,pathArray=[["M",0,0],["L",width,0],["L",0,height+3],["L",0,0],["Z"]];triangle.attr("path",pathArray),triangle.move(0,boardHeight-3)},_proto._rightTriangleShape=function(){var triangle=this.get("triangleShape"),width=this.get("triangleWidth"),height=this.get("triangleHeight"),boardBBox=this.get("board").getBBox(),boardWidth=boardBBox.width,boardHeight=boardBBox.height,pathArray=[["M",0,0],["L",width,0],["L",width,height+4],["L",0,0],["Z"]];triangle.attr("path",pathArray),triangle.move(boardWidth-width-1,boardHeight-4)},MiniTooltip}(CanvasTooltip);module.exports=MiniTooltip},function(module,exports,__webpack_require__){function smoothBezier(points,smooth,isLoop,constraint){var prevPoint,nextPoint,min,max,cps=[],hasConstraint=!!constraint;if(hasConstraint){min=[1/0,1/0],max=[-1/0,-1/0];for(var i=0,l=points.length;i<l;i++){var point=points[i];min=Vector2.min([],min,point),max=Vector2.max([],max,point)}min=Vector2.min([],min,constraint[0]),max=Vector2.max([],max,constraint[1])}for(var _i=0,len=points.length;_i<len;_i++){var _point=points[_i];if(isLoop)prevPoint=points[_i?_i-1:len-1],nextPoint=points[(_i+1)%len];else{if(0===_i||_i===len-1){cps.push(_point);continue}prevPoint=points[_i-1],nextPoint=points[_i+1]}var v=[];v=Vector2.sub(v,nextPoint,prevPoint),v=Vector2.scale(v,v,smooth);var d0=Vector2.distance(_point,prevPoint),d1=Vector2.distance(_point,nextPoint),sum=d0+d1;0!==sum&&(d0/=sum,d1/=sum);var v1=Vector2.scale([],v,-d0),v2=Vector2.scale([],v,d1),cp0=Vector2.add([],_point,v1),cp1=Vector2.add([],_point,v2);hasConstraint&&(cp0=Vector2.max([],cp0,min),cp0=Vector2.min([],cp0,max),cp1=Vector2.max([],cp1,min),cp1=Vector2.min([],cp1,max)),cps.push(cp0),cps.push(cp1)}return isLoop&&cps.push(cps.shift()),cps}function catmullRom2bezier(crp,z,constraint){for(var isLoop=!!z,pointList=[],i=0,l=crp.length;i<l;i+=2)pointList.push([crp[i],crp[i+1]]);for(var cp1,cp2,p,controlPointList=smoothBezier(pointList,.4,isLoop,constraint),len=pointList.length,d1=[],_i2=0;_i2<len-1;_i2++)cp1=controlPointList[2*_i2],cp2=controlPointList[2*_i2+1],p=pointList[_i2+1],d1.push(["C",cp1[0],cp1[1],cp2[0],cp2[1],p[0],p[1]]);return isLoop&&(cp1=controlPointList[len],cp2=controlPointList[len+1],p=pointList[0],d1.push(["C",cp1[0],cp1[1],cp2[0],cp2[1],p[0],p[1]])),d1}var MatrixUtil=__webpack_require__(0).MatrixUtil,Vector2=MatrixUtil.vec2;module.exports={catmullRom2bezier:catmullRom2bezier}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function getEndPoint(center,angle,r){return{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle)}}function antiCollision(labels,lineHeight,plotRange,center,isRight){var i,overlapping=!0,start=plotRange.start,end=plotRange.end,startY=Math.min(start.y,end.y),totalHeight=Math.abs(start.y-end.y),maxY=0,minY=Number.MIN_VALUE,boxes=labels.map(function(label){return label.y>maxY&&(maxY=label.y),label.y<minY&&(minY=label.y),{size:lineHeight,targets:[label.y-startY]}});for(minY-=startY,maxY-startY>totalHeight&&(totalHeight=maxY-startY);overlapping;)for(boxes.forEach(function(box){var target=(Math.min.apply(minY,box.targets)+Math.max.apply(minY,box.targets))/2;box.pos=Math.min(Math.max(minY,target-box.size/2),totalHeight-box.size)}),overlapping=!1,i=boxes.length;i--;)if(i>0){var previousBox=boxes[i-1],box=boxes[i];previousBox.pos+previousBox.size>box.pos&&(previousBox.size+=box.size,previousBox.targets=previousBox.targets.concat(box.targets),previousBox.pos+previousBox.size>totalHeight&&(previousBox.pos=totalHeight-previousBox.size),boxes.splice(i,1),overlapping=!0)}i=0,boxes.forEach(function(b){var posInCompositeBox=startY+lineHeight/2;b.targets.forEach(function(){labels[i].y=b.pos+posInCompositeBox,posInCompositeBox+=lineHeight,i++})}),labels.forEach(function(label){var rPow2=label.r*label.r,dyPow2=Math.pow(Math.abs(label.y-center.y),2);if(rPow2<dyPow2)label.x=center.x;else{var dx=Math.sqrt(rPow2-dyPow2);label.x=isRight?center.x+dx:center.x-dx}})}var Util=__webpack_require__(0),PolarLabels=__webpack_require__(164),PathUtil=__webpack_require__(22),Global=__webpack_require__(7),PieLabels=function(_PolarLabels){function PieLabels(){return _PolarLabels.apply(this,arguments)||this}_inheritsLoose(PieLabels,_PolarLabels);var _proto=PieLabels.prototype;return _proto.getDefaultCfg=function(){return{label:Global.thetaLabels}},_proto.getDefaultOffset=function(point){return point.offset||0},_proto.adjustItems=function(items){var self=this,offset=items[0]?items[0].offset:0;return offset>0&&(items=self._distribute(items,offset)),_PolarLabels.prototype.adjustItems.call(this,items)},_proto._distribute=function(labels,offset){var self=this,coord=self.get("coord"),radius=coord.getRadius(),lineHeight=self.get("label").labelHeight,center=coord.getCenter(),totalR=radius+offset,totalHeight=2*totalR+2*lineHeight,plotRange={start:coord.start,end:coord.end},geom=self.get("geom");if(geom){var view=geom.get("view");plotRange=view.getViewRegion()}var halves=[[],[]];return labels.forEach(function(label){label&&("right"===label.textAlign?halves[0].push(label):halves[1].push(label))}),halves.forEach(function(half,index){var maxLabelsCountForOneSide=parseInt(totalHeight/lineHeight,10);half.length>maxLabelsCountForOneSide&&(half.sort(function(a,b){return b["..percent"]-a["..percent"]}),half.splice(maxLabelsCountForOneSide,half.length-maxLabelsCountForOneSide)),half.sort(function(a,b){return a.y-b.y}),antiCollision(half,lineHeight,plotRange,center,index)}),halves[0].concat(halves[1])},_proto.lineToLabel=function(label){var self=this,coord=self.get("coord"),r=coord.getRadius(),distance=label.offset,angle=label.orignAngle||label.angle,center=coord.getCenter(),start=getEndPoint(center,angle,r+2.5),inner=getEndPoint(center,angle,r+distance/2);label.labelLine||(label.labelLine=self.get("label").labelLine||{}),label.labelLine.path=["M"+start.x,start.y+" Q"+inner.x,inner.y+" "+label.x,label.y].join(",")},_proto.getLabelRotate=function(angle,offset){var rotate;return offset<0&&(rotate=180*angle/Math.PI,rotate>90&&(rotate-=180),rotate<-90&&(rotate+=180)),rotate/180*Math.PI},_proto.getLabelAlign=function(point){var align,self=this,coord=self.get("coord"),center=coord.getCenter();return align=point.angle<=Math.PI/2&&point.x>=center.x?"left":"right",self.getDefaultOffset(point)<=0&&(align="right"===align?"left":"right"),align},_proto.getArcPoint=function(point){return point},_proto.getPointAngle=function(point){var self=this,coord=self.get("coord"),startPoint={x:Util.isArray(point.x)?point.x[0]:point.x,y:point.y[0]};self.transLabelPoint(startPoint);var endPoint={x:Util.isArray(point.x)?point.x[1]:point.x,y:point.y[1]};self.transLabelPoint(endPoint);var angle,startAngle=PathUtil.getPointAngle(coord,startPoint);if(point.points&&point.points[0].y===point.points[1].y)angle=startAngle;else{var endAngle=PathUtil.getPointAngle(coord,endPoint);startAngle>=endAngle&&(endAngle+=2*Math.PI),angle=startAngle+(endAngle-startAngle)/2}return angle},_proto.getCirclePoint=function(angle,offset){var self=this,coord=self.get("coord"),center=coord.getCenter(),r=coord.getRadius()+offset,point=getEndPoint(center,angle,r);return point.angle=angle,point.r=r,point},PieLabels}(PolarLabels);module.exports=PieLabels},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),GeomLabels=__webpack_require__(65),IntervalLabels=function(_GeomLabels){function IntervalLabels(){return _GeomLabels.apply(this,arguments)||this}return _inheritsLoose(IntervalLabels,_GeomLabels),IntervalLabels.prototype.setLabelPosition=function(point,originPoint,index,position){Util.isFunction(position)&&(position=position(point.text,originPoint._origin,index));var coord=this.get("coord"),transposed=coord.isTransposed,point0=coord.convertPoint(originPoint.points[0]),point1=coord.convertPoint(originPoint.points[2]),width=(point0.x-point1.x)/2*(transposed?-1:1),height=(point0.y-point1.y)/2*(transposed?-1:1);switch(position){case"right":transposed?(point.x-=width,point.y+=height,point.textAlign=point.textAlign||"center"):(point.x-=width,point.y+=height,point.textAlign=point.textAlign||"left");break;case"left":transposed?(point.x-=width,point.y-=height,point.textAlign=point.textAlign||"center"):(point.x+=width,point.y+=height,point.textAlign=point.textAlign||"right");break;case"bottom":transposed?(point.x-=2*width,point.textAlign=point.textAlign||"left"):(point.y+=2*height,point.textAlign=point.textAlign||"center");break;case"middle":transposed?point.x-=width:point.y+=height,point.textAlign=point.textAlign||"center";break;case"top":point.textAlign=transposed?point.textAlign||"left":point.textAlign||"center"}},IntervalLabels}(GeomLabels);module.exports=IntervalLabels},function(module,exports,__webpack_require__){function getScaleName(scale){return scale.alias||scale.field}var Util=__webpack_require__(0),_require=__webpack_require__(7),defaultColor=_require.defaultColor,TooltipMixin={_getIntervalSize:function(obj){var size=null,type=this.get("type"),coord=this.get("coord");if(coord.isRect&&("interval"===type||"schema"===type)){size=this.getSize(obj._origin);var dim=coord.isTransposed?"y":"x";if(Util.isArray(obj[dim])){size=size<Math.abs(obj[dim][1]-obj[dim][0])?null:size}}return size},_snapEqual:function(v1,v2,scale){return v1=scale.translate(v1),v2=scale.translate(v2),scale.isCategory?v1===v2:Util.snapEqual(v1,v2)},_getScaleValueByPoint:function(point){var result=0,coord=this.get("coord"),xScale=this.getXScale(),invertPoint=coord.invert(point),xValue=invertPoint.x;return this.isInCircle()&&xValue>(1+xScale.rangeMax())/2&&(xValue=xScale.rangeMin()),result=xScale.invert(xValue),xScale.isCategory&&(result=xScale.translate(result)),result},_getOriginByPoint:function(point){var xScale=this.getXScale(),yScale=this.getYScale(),xField=xScale.field,yField=yScale.field,coord=this.get("coord"),invertPoint=coord.invert(point),xValue=xScale.invert(invertPoint.x),yValue=yScale.invert(invertPoint.y),result={};return result[xField]=xValue,result[yField]=yValue,result},_getScale:function(field){var self=this,scales=self.get("scales"),rst=null;return Util.each(scales,function(scale){if(scale.field===field)return rst=scale,!1}),rst},_getTipValueScale:function(){var scale,attrs=this.getAttrsForLegend();Util.each(attrs,function(attr){var tmpScale=attr.getScale(attr.type);if(tmpScale.isLinear)return scale=tmpScale,!1});var xScale=this.getXScale(),yScale=this.getYScale();return!scale&&yScale&&"..y"===yScale.field?xScale:scale||yScale||xScale},_getTipTitleScale:function(titleField){var self=this;if(titleField)return self._getScale(titleField);var tmpField,position=self.getAttr("position"),fields=position.getFields();return Util.each(fields,function(field){if(-1===field.indexOf(".."))return tmpField=field,!1}),self._getScale(tmpField)},_filterValue:function(arr,point){var coord=this.get("coord"),yScale=this.getYScale(),yField=yScale.field,invertPoint=coord.invert(point),yValue=invertPoint.y;yValue=yScale.invert(yValue);var rst=arr[arr.length-1];return Util.each(arr,function(obj){var origin=obj._origin;if(origin[yField][0]<=yValue&&origin[yField][1]>=yValue)return rst=obj,!1}),rst},getXDistance:function(){var self=this,distance=self.get("xDistance");if(!distance){var xScale=self.getXScale();if(xScale.isCategory)distance=1;else{var values=xScale.values,min=xScale.translate(values[0]),max=min;Util.each(values,function(value){value=xScale.translate(value),value<min&&(min=value),value>max&&(max=value)});var length=values.length;distance=(max-min)/(length-1)}self.set("xDistance",distance)}return distance},findPoint:function(point,dataArray){var self=this,type=self.get("type"),xScale=self.getXScale(),yScale=self.getYScale(),xField=xScale.field,yField=yScale.field,rst=null;if(Util.indexOf(["heatmap","point"],type)>-1){var coord=self.get("coord"),invertPoint=coord.invert(point),xValue=xScale.invert(invertPoint.x),yValue=yScale.invert(invertPoint.y),min=1/0;return Util.each(dataArray,function(obj){var distance=Math.pow(obj._origin[xField]-xValue,2)+Math.pow(obj._origin[yField]-yValue,2);distance<min&&(min=distance,rst=obj)}),rst}var first=dataArray[0],last=dataArray[dataArray.length-1];if(!first)return rst;var value=self._getScaleValueByPoint(point),firstXValue=first._origin[xField],firstYValue=first._origin[yField],lastXValue=last._origin[xField],isYRange=yScale.isLinear&&Util.isArray(firstYValue);if(Util.isArray(firstXValue))Util.each(dataArray,function(record){var origin=record._origin;if(xScale.translate(origin[xField][0])<=value&&xScale.translate(origin[xField][1])>=value){if(!isYRange)return rst=record,!1;Util.isArray(rst)||(rst=[]),rst.push(record)}}),Util.isArray(rst)&&(rst=this._filterValue(rst,point));else{var next;if(xScale.isLinear||"timeCat"===xScale.type){if((value>xScale.translate(lastXValue)||value<xScale.translate(firstXValue))&&(value>xScale.max||value<xScale.min))return null;for(var middleIdx,firstIdx=0,lastIdx=dataArray.length-1;firstIdx<=lastIdx;){middleIdx=Math.floor((firstIdx+lastIdx)/2);var item=dataArray[middleIdx]._origin[xField];if(self._snapEqual(item,value,xScale))return dataArray[middleIdx];xScale.translate(item)<=xScale.translate(value)?(firstIdx=middleIdx+1,last=dataArray[middleIdx],next=dataArray[middleIdx+1]):(0===lastIdx&&(last=dataArray[0]),lastIdx=middleIdx-1)}}else Util.each(dataArray,function(record,index){var origin=record._origin;if(self._snapEqual(origin[xField],value,xScale)){if(!isYRange)return rst=record,!1;Util.isArray(rst)||(rst=[]),rst.push(record)}else xScale.translate(origin[xField])<=value&&(last=record,next=dataArray[index+1])}),Util.isArray(rst)&&(rst=this._filterValue(rst,point));last&&next&&Math.abs(xScale.translate(last._origin[xField])-value)>Math.abs(xScale.translate(next._origin[xField])-value)&&(last=next)}var distance=self.getXDistance();return!rst&&Math.abs(xScale.translate(last._origin[xField])-value)<=distance/2&&(rst=last),rst},getTipTitle:function(origin,titleField){var tipTitle="",titleScale=this._getTipTitleScale(titleField);if(titleScale){var value=origin[titleScale.field];tipTitle=titleScale.getText(value)}else if("heatmap"===this.get("type")){var xScale=this.getXScale(),yScale=this.getYScale(),xValue=xScale.getText(origin[xScale.field]),yValue=yScale.getText(origin[yScale.field]);tipTitle="( "+xValue+", "+yValue+" )"}return tipTitle},getTipValue:function(origin,valueScale){var value,field=valueScale.field,key=origin.key;if(value=origin[field],Util.isArray(value)){var tmp=[];Util.each(value,function(sub){tmp.push(valueScale.getText(sub))}),value=tmp.join("-")}else value=valueScale.getText(value,key);return value},getTipName:function(origin){var name,nameScale,groupScales=this._getGroupScales();if(groupScales.length&&Util.each(groupScales,function(scale){return nameScale=scale,!1}),nameScale){var field=nameScale.field;name=nameScale.getText(origin[field])}else{name=getScaleName(this._getTipValueScale())}return name},getTipItems:function(point,titleField){function addItem(itemName,itemValue,cfg){if(!Util.isNil(itemValue)&&""!==itemValue){var item={title:tipTitle,point:point,name:itemName||tipTitle,value:itemValue,color:point.color||defaultColor,marker:!0};item.size=self._getIntervalSize(point),items.push(Util.mix({},item,cfg))}}var name,value,self=this,origin=point._origin,tipTitle=self.getTipTitle(origin,titleField),tooltipCfg=self.get("tooltipCfg"),items=[];if(tooltipCfg){var fields=tooltipCfg.fields,cfg=tooltipCfg.cfg,callbackParams=[];if(Util.each(fields,function(field){callbackParams.push(origin[field])}),cfg){Util.isFunction(cfg)&&(cfg=cfg.apply(null,callbackParams));var itemCfg=Util.mix({},{point:point,title:tipTitle,color:point.color||defaultColor,marker:!0},cfg);itemCfg.size=self._getIntervalSize(point),items.push(itemCfg)}else Util.each(fields,function(field){if(!Util.isNil(origin[field])){var scale=self._getScale(field);name=getScaleName(scale),value=scale.getText(origin[field]),addItem(name,value)}})}else{var valueScale=self._getTipValueScale();Util.isNil(origin[valueScale.field])||(value=self.getTipValue(origin,valueScale),name=self.getTipName(origin),addItem(name,value))}return items},isShareTooltip:function(){var options,shareTooltip=this.get("shareTooltip"),type=this.get("type"),view=this.get("view");if(options=view.get("parent")?view.get("parent").get("options"):view.get("options"),"interval"===type){var coord=this.get("coord"),coordType=coord.type;("theta"===coordType||"polar"===coordType&&coord.isTransposed)&&(shareTooltip=!1)}else this.getYScale()&&!Util.inArray(["contour","point","polygon","edge"],type)||(shareTooltip=!1);return options.tooltip&&Util.isBoolean(options.tooltip.shared)&&(shareTooltip=options.tooltip.shared),shareTooltip}};module.exports=TooltipMixin},function(module,exports,__webpack_require__){function isSameShape(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isEqual(shape1Origin,shape2Origin)}function isChange(preShapes,shapes){if(!preShapes)return!0;if(preShapes.length!==shapes.length)return!0;var rst=!1;return Util.each(shapes,function(shape,index){if(!isSameShape(shape,preShapes[index]))return rst=!0,!1}),rst}function getOriginAttrs(activeCfg,shape){var originAttrs={};return Util.each(activeCfg,function(v,k){var originValue=shape.attr(k);Util.isArray(originValue)&&(originValue=Util.cloneDeep(originValue)),originAttrs[k]=originValue}),originAttrs}var Util=__webpack_require__(0),ActiveMixin={_isAllowActive:function(){var allowActive=this.get("allowActive");if(!Util.isNil(allowActive))return allowActive;var view=this.get("view"),isShareTooltip=this.isShareTooltip();return!1===view.get("options").tooltip||!isShareTooltip},_onMouseenter:function(ev){var self=this,shape=ev.shape,shapeContainer=self.get("shapeContainer");shape&&shapeContainer.contain(shape)&&self._isAllowActive()&&self.setShapesActived(shape)},_onMouseleave:function(){var self=this,view=self.get("view"),canvas=view.get("canvas");self.get("activeShapes")&&(self.clearActivedShapes(),canvas.draw())},_bindActiveAction:function(){var self=this,view=self.get("view"),type=self.get("type");view.on(type+":mouseenter",Util.wrapBehavior(self,"_onMouseenter")),view.on(type+":mouseleave",Util.wrapBehavior(self,"_onMouseleave"))},_offActiveAction:function(){var self=this,view=self.get("view"),type=self.get("type");view.off(type+":mouseenter",Util.getWrapBehavior(self,"_onMouseenter")),view.off(type+":mouseleave",Util.getWrapBehavior(self,"_onMouseleave"))},_setActiveShape:function(shape){var self=this,activedOptions=self.get("activedOptions")||{},shapeData=shape.get("origin"),shapeName=shapeData.shape||self.getDefaultValue("shape");Util.isArray(shapeName)&&(shapeName=shapeName[0]);var shapeFactory=self.get("shapeFactory"),shapeCfg=Util.mix({},shape.attr(),{origin:shapeData}),activeCfg=shapeFactory.getActiveCfg(shapeName,shapeCfg);activedOptions.style&&Util.mix(activeCfg,activedOptions.style);var originAttrs=getOriginAttrs(activeCfg,shape);shape.setSilent("_originAttrs",originAttrs),activedOptions.animate?shape.animate(activeCfg,300):shape.attr(activeCfg),shape.set("zIndex",1)},setShapesActived:function(shapes){var self=this;Util.isArray(shapes)||(shapes=[shapes]);var preShapes=self.get("activeShapes");if(isChange(preShapes,shapes)){var view=self.get("view"),canvas=view.get("canvas"),shapeContainer=self.get("shapeContainer"),activedOptions=self.get("activedOptions");activedOptions&&activedOptions.highlight?(Util.each(shapes,function(shape){shape.get("animating")&&shape.stopAnimate()}),self.highlightShapes(shapes)):(preShapes&&self.clearActivedShapes(),Util.each(shapes,function(shape){shape.get("animating")&&shape.stopAnimate(),shape.get("visible")&&!shape.get("selected")&&self._setActiveShape(shape)})),self.set("activeShapes",shapes),shapeContainer.sort(),canvas.draw()}},clearActivedShapes:function(){var self=this,shapeContainer=self.get("shapeContainer"),activedOptions=self.get("activedOptions"),activeAnimate=activedOptions&&activedOptions.animate;if(shapeContainer&&!shapeContainer.get("destroyed")){var activeShapes=self.get("activeShapes");Util.each(activeShapes,function(activeShape){if(!activeShape.get("selected")){var originAttrs=activeShape.get("_originAttrs");activeAnimate?(activeShape.stopAnimate(),activeShape.animate(originAttrs,300)):activeShape.attr(originAttrs),activeShape.setZIndex(0),activeShape.set("_originAttrs",null)}});if(self.get("preHighlightShapes")){var shapes=shapeContainer.get("children");Util.each(shapes,function(shape){if(!shape.get("selected")){var originAttrs=shape.get("_originAttrs");originAttrs&&(activeAnimate?(shape.stopAnimate(),shape.animate(originAttrs,300)):shape.attr(originAttrs),shape.setZIndex(0),shape.set("_originAttrs",null))}})}shapeContainer.get("children").sort(function(obj1,obj2){return obj1._INDEX-obj2._INDEX}),self.set("activeShapes",null),self.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(point){var self=this,shapeContainer=self.get("shapeContainer"),activeShapes=[];if(shapeContainer){var xField=self.getXScale().field,shapes=self.getShapes(),originObj=self._getOriginByPoint(point);Util.each(shapes,function(shape){var origin=shape.get("origin");if(shape.get("visible")&&origin){origin._origin[xField]===originObj[xField]&&activeShapes.push(shape)}})}return activeShapes},getSingleShapeByPoint:function(point){var result,self=this,shapeContainer=self.get("shapeContainer"),canvas=shapeContainer.get("canvas"),pixelRatio=canvas.get("pixelRatio");if(shapeContainer&&(result=shapeContainer.getShape(point.x*pixelRatio,point.y*pixelRatio)),result&&result.get("origin"))return result},highlightShapes:function(_highlightShapes,highlightCfg){var self=this;Util.isArray(_highlightShapes)||(_highlightShapes=[_highlightShapes]);var preHighlightShapes=self.get("activeShapes");if(isChange(preHighlightShapes,_highlightShapes)){preHighlightShapes&&self.clearActivedShapes();var shapes=self.getShapes(),activedOptions=self.get("activedOptions"),activeAnimate=activedOptions&&activedOptions.animate,activeStyle=activedOptions&&activedOptions.style;Util.each(shapes,function(shape){var changeAttrs={};shape.stopAnimate(),-1!==Util.indexOf(_highlightShapes,shape)?(Util.mix(changeAttrs,activeStyle,highlightCfg),shape.setZIndex(1)):(Util.mix(changeAttrs,{fillOpacity:.3,opacity:.3}),shape.setZIndex(0));var originAttrs=getOriginAttrs(changeAttrs,shape);shape.setSilent("_originAttrs",originAttrs),activeAnimate?shape.animate(changeAttrs,300):shape.attr(changeAttrs)}),self.set("preHighlightShapes",_highlightShapes),self.set("activeShapes",_highlightShapes)}}};module.exports=ActiveMixin},function(module,exports,__webpack_require__){function isSameShape(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isEqual(shape1Origin,shape2Origin)}function getOriginAttrs(selectedCfg,shape){var originAttrs={};return Util.each(selectedCfg,function(v,k){"transform"===k&&(k="matrix");var originValue=shape.attr(k);Util.isArray(originValue)&&(originValue=Util.cloneDeep(originValue)),originAttrs[k]=originValue}),originAttrs}var Util=__webpack_require__(0),SelectMixin={_isAllowSelect:function(){var isAllowSelect=this.get("allowSelect");if(!Util.isNil(isAllowSelect))return isAllowSelect;var type=this.get("type"),coord=this.get("coord"),coordType=coord&&coord.type;return"interval"===type&&"theta"===coordType},_onClick:function(ev){var self=this;if(self._isAllowSelect()){self.clearActivedShapes();var shape=ev.shape,shapeContainer=self.get("shapeContainer");shape&&!shape.get("animating")&&shapeContainer.contain(shape)&&self.setShapeSelected(shape)}},_bindSelectedAction:function(){var self=this,view=self.get("view"),type=self.get("type");view.on(type+":click",Util.wrapBehavior(self,"_onClick"))},_offSelectedAction:function(){var self=this,view=self.get("view"),type=self.get("type");view.off(type+":click",Util.getWrapBehavior(self,"_onClick"))},_setShapeStatus:function(shape,status){var self=this,view=self.get("view"),selectedOptions=self.get("selectedOptions")||{},animate=!1!==selectedOptions.animate,canvas=view.get("canvas");shape.set("selected",status);var shapeData=shape.get("origin");if(status){var shapeName=shapeData.shape||self.getDefaultValue("shape");Util.isArray(shapeName)&&(shapeName=shapeName[0]);var shapeFactory=self.get("shapeFactory"),cfg=Util.mix({geom:self,point:shapeData},selectedOptions),selectedStyle=shapeFactory.getSelectedCfg(shapeName,cfg);Util.mix(selectedStyle,cfg.style),shape.get("_originAttrs")||(shape.get("animating")&&shape.stopAnimate(),shape.set("_originAttrs",getOriginAttrs(selectedStyle,shape))),animate?shape.animate(selectedStyle,300):(shape.attr(selectedStyle),canvas.draw())}else{var originAttrs=shape.get("_originAttrs");shape.set("_originAttrs",null),animate?shape.animate(originAttrs,300):(shape.attr(originAttrs),canvas.draw())}},setShapeSelected:function(shape){var self=this,selectedShapes=self._getSelectedShapes(),selectedOptions=self.get("selectedOptions")||{},cancelable=!1!==selectedOptions.cancelable;if("multiple"===selectedOptions.mode)-1===Util.indexOf(selectedShapes,shape)?(selectedShapes.push(shape),self._setShapeStatus(shape,!0)):cancelable&&(Util.Array.remove(selectedShapes,shape),self._setShapeStatus(shape,!1));else{var selectedShape=selectedShapes[0];cancelable&&(shape=isSameShape(selectedShape,shape)?null:shape),isSameShape(selectedShape,shape)||(selectedShape&&self._setShapeStatus(selectedShape,!1),shape&&self._setShapeStatus(shape,!0))}},clearSelected:function(){var self=this,shapeContainer=self.get("shapeContainer");if(shapeContainer&&!shapeContainer.get("destroyed")){var selectedShapes=self._getSelectedShapes();Util.each(selectedShapes,function(shape){self._setShapeStatus(shape,!1),shape.set("_originAttrs",null)})}},setSelected:function(record){var self=this,shapes=self.getShapes();return Util.each(shapes,function(shape){var origin=shape.get("origin");origin&&origin._origin===record&&self.setShapeSelected(shape)}),this},_getSelectedShapes:function(){var self=this,shapes=self.getShapes(),selectedShapes=[];return Util.each(shapes,function(shape){shape.get("selected")&&selectedShapes.push(shape)}),self.set("selectedShapes",selectedShapes),selectedShapes}};module.exports=SelectMixin},function(module,exports,__webpack_require__){var Util=__webpack_require__(0);module.exports=function(field){return Util.isArray(field)?field:Util.isString(field)?field.split("*"):[field]}},function(module,exports,__webpack_require__){var Scale=__webpack_require__(74),Util=__webpack_require__(0),dateRegex=/^(?:(?!0000)[0-9]{4}([-\/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-\/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,TYPES={LINEAR:"linear",CAT:"cat",TIME:"time"},ScaleController=function(){function ScaleController(cfg){this.defs={},this.viewTheme={scales:{}},this.filters={},Util.assign(this,cfg)}var _proto=ScaleController.prototype;return _proto._getDef=function(field){var defs=this.defs,viewTheme=this.viewTheme,def=null;return(viewTheme.scales[field]||defs[field])&&(def=Util.mix({},viewTheme.scales[field]),Util.each(defs[field],function(v,k){Util.isNil(v)?delete def[k]:def[k]=v}),this.filters[field]&&(delete def.min,delete def.max)),def},_proto._getDefaultType=function(field,data){var type=TYPES.LINEAR,value=Util.Array.firstValue(data,field);return Util.isArray(value)&&(value=value[0]),dateRegex.test(value)?type=TYPES.TIME:Util.isString(value)&&(type=TYPES.CAT),type},_proto._getScaleCfg=function(type,field,data){var cfg={field:field},values=Util.Array.values(data,field);if(cfg.values=values,!Scale.isCategory(type)&&"time"!==type){var range=Util.Array.getRange(values);cfg.min=range.min,cfg.max=range.max,cfg.nice=!0}return"time"===type&&(cfg.nice=!1),cfg},_proto.createScale=function(field,data){var scale,self=this,def=self._getDef(field),validData=data||[],firstValue=Util.Array.firstValue(validData,field);if(Util.isNumber(field)||Util.isNil(firstValue)&&!def)scale=Scale.identity({value:field,field:field.toString(),values:[field]});else{var type;def&&(type=def.type),type=type||self._getDefaultType(field,validData);var cfg=self._getScaleCfg(type,field,validData);def&&Util.mix(cfg,def),scale=Scale[type](cfg)}return scale},ScaleController}();module.exports=ScaleController},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Coord=__webpack_require__(343),CoordController=function(){function CoordController(option){this.type="rect",this.actions=[],this.cfg={},Util.mix(this,option),this.option=option||{}}var _proto=CoordController.prototype;return _proto.reset=function(coordOption){return this.actions=coordOption.actions||[],this.type=coordOption.type,this.cfg=coordOption.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},_proto._execActions=function(coord){var actions=this.actions;Util.each(actions,function(action){var m=action[0];coord[m](action[1],action[2])})},_proto.hasAction=function(actionName){var actions=this.actions,rst=!1;return Util.each(actions,function(action){if(actionName===action[0])return rst=!0,!1}),rst},_proto.createCoord=function(start,end){var C,coord,self=this,type=self.type,cfg=self.cfg,coordCfg=Util.mix({start:start,end:end},cfg);return"theta"===type?(C=Coord.Polar,self.hasAction("transpose")||self.transpose(),coord=new C(coordCfg),coord.type=type):(C=Coord[Util.upperFirst(type||"")]||Coord.Rect,coord=new C(coordCfg)),self._execActions(coord),coord},_proto.rotate=function(angle){return angle=angle*Math.PI/180,this.actions.push(["rotate",angle]),this},_proto.reflect=function(dim){return this.actions.push(["reflect",dim]),this},_proto.scale=function(sx,sy){return this.actions.push(["scale",sx,sy]),this},_proto.transpose=function(){return this.actions.push(["transpose"]),this},CoordController}();module.exports=CoordController},function(module,exports,__webpack_require__){"use strict";var Coord=__webpack_require__(44);Coord.Cartesian=__webpack_require__(344),Coord.Rect=Coord.Cartesian,Coord.Polar=__webpack_require__(345),Coord.Helix=__webpack_require__(346),module.exports=Coord},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var mix=__webpack_require__(8),Base=__webpack_require__(44),Cartesian=function(_Base){function Cartesian(cfg){var _this;return _classCallCheck(this,Cartesian),_this=_possibleConstructorReturn(this,_getPrototypeOf(Cartesian).call(this,cfg)),_this._init(),_this}return _inherits(Cartesian,_Base),_createClass(Cartesian,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Cartesian.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),_createClass(Cartesian,[{key:"_init",value:function(){var start=this.start,end=this.end,x={start:start.x,end:end.x},y={start:start.y,end:end.y};this.x=x,this.y=y}},{key:"convertPoint",value:function(point){var x,y;return this.isTransposed?(x=point.y,y=point.x):(x=point.x,y=point.y),{x:this.convertDim(x,"x"),y:this.convertDim(y,"y")}}},{key:"invertPoint",value:function(point){var x=this.invertDim(point.x,"x"),y=this.invertDim(point.y,"y");return this.isTransposed?{x:y,y:x}:{x:x,y:y}}}]),Cartesian}(Base);module.exports=Cartesian},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MatrixUtil=__webpack_require__(43),isNumberEqual=__webpack_require__(35),mix=__webpack_require__(8),Base=__webpack_require__(44),mat3=MatrixUtil.mat3,vec2=MatrixUtil.vec2,vec3=MatrixUtil.vec3,Polar=function(_Base){function Polar(cfg){var _this;return _classCallCheck(this,Polar),_this=_possibleConstructorReturn(this,_getPrototypeOf(Polar).call(this,cfg)),_this._init(),_this}return _inherits(Polar,_Base),_createClass(Polar,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Polar.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),_createClass(Polar,[{key:"_init",value:function(){for(var radius=this.radius,innerRadius=this.innerRadius,center=this.center,startAngle=this.startAngle,endAngle=this.endAngle;endAngle<startAngle;)endAngle+=2*Math.PI;this.endAngle=endAngle;var maxRadius,circleCentre,oneBox=this.getOneBox(),oneWidth=oneBox.maxX-oneBox.minX,oneHeight=oneBox.maxY-oneBox.minY,left=Math.abs(oneBox.minX)/oneWidth,top=Math.abs(oneBox.minY)/oneHeight,width=this.width,height=this.height;height/oneHeight>width/oneWidth?(maxRadius=width/oneWidth,circleCentre={x:center.x-(.5-left)*width,y:center.y-(.5-top)*maxRadius*oneHeight}):(maxRadius=height/oneHeight,circleCentre={x:center.x-(.5-left)*maxRadius*oneWidth,y:center.y-(.5-top)*height}),radius?radius>0&&radius<=1?radius*=maxRadius:(radius<=0||radius>maxRadius)&&(radius=maxRadius):radius=maxRadius;var x={start:startAngle,end:endAngle},y={start:innerRadius*radius,end:radius};this.x=x,this.y=y,this.radius=radius,this.circleCentre=circleCentre,this.center=circleCentre}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var startAngle=this.startAngle,endAngle=this.endAngle;if(Math.abs(endAngle-startAngle)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var xs=[0,Math.cos(startAngle),Math.cos(endAngle)],ys=[0,Math.sin(startAngle),Math.sin(endAngle)],i=Math.min(startAngle,endAngle);i<Math.max(startAngle,endAngle);i+=Math.PI/18)xs.push(Math.cos(i)),ys.push(Math.sin(i));return{minX:Math.min.apply(Math,xs),maxX:Math.max.apply(Math,xs),minY:Math.min.apply(Math,ys),maxY:Math.max.apply(Math,ys)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(point){var center=this.getCenter(),x=this.isTransposed?point.y:point.x,y=this.isTransposed?point.x:point.y;return x=this.convertDim(x,"x"),y=this.convertDim(y,"y"),{x:center.x+Math.cos(x)*y,y:center.y+Math.sin(x)*y}}},{key:"invertPoint",value:function(point){var center=this.getCenter(),vPoint=[point.x-center.x,point.y-center.y],x=this.x,m=[1,0,0,0,1,0,0,0,1];mat3.rotate(m,m,x.start);var vStart=[1,0,0];vec3.transformMat3(vStart,vStart,m),vStart=[vStart[0],vStart[1]];var angle=vec2.angleTo(vStart,vPoint,x.end<x.start);isNumberEqual(angle,2*Math.PI)&&(angle=0);var radius=vec2.length(vPoint),xPercent=angle/(x.end-x.start);xPercent=x.end-x.start>0?xPercent:-xPercent;var yPercent=this.invertDim(radius,"y"),rst={};return rst.x=this.isTransposed?yPercent:xPercent,rst.y=this.isTransposed?xPercent:yPercent,rst}}]),Polar}(Base);module.exports=Polar},function(module,exports,__webpack_require__){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=_superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var MatrixUtil=__webpack_require__(43),isNumberEqual=__webpack_require__(35),mix=__webpack_require__(8),Base=__webpack_require__(44),vec2=MatrixUtil.vec2,Helix=function(_Base){function Helix(cfg){var _this;return _classCallCheck(this,Helix),_this=_possibleConstructorReturn(this,_getPrototypeOf(Helix).call(this,cfg)),_this._init(),_this}return _inherits(Helix,_Base),_createClass(Helix,[{key:"getDefaultCfg",value:function(){var cfg=_get(_getPrototypeOf(Helix.prototype),"getDefaultCfg",this).call(this);return mix({},cfg,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),_createClass(Helix,[{key:"_init",value:function(){var width=this.width,height=this.height,radius=this.radius,innerRadius=this.innerRadius,startAngle=this.startAngle,endAngle=this.endAngle,index=(endAngle-startAngle)/(2*Math.PI)+1,maxRadius=Math.min(width,height)/2;radius&&radius>=0&&radius<=1&&(maxRadius*=radius);var d=Math.floor(maxRadius*(1-innerRadius)/index),a=d/(2*Math.PI),x={start:startAngle,end:endAngle},y={start:innerRadius*maxRadius,end:innerRadius*maxRadius+.99*d};this.a=a,this.d=d,this.x=x,this.y=y}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(point){var x,y,a=this.a,center=this.center;this.isTransposed?(x=point.y,y=point.x):(x=point.x,y=point.y);var thi=this.convertDim(x,"x"),r=a*thi,newY=this.convertDim(y,"y");return{x:center.x+Math.cos(thi)*(r+newY),y:center.y+Math.sin(thi)*(r+newY)}}},{key:"invertPoint",value:function(point){var center=this.center,a=this.a,d=this.d+this.y.start,v=vec2.subtract([],[point.x,point.y],[center.x,center.y]),thi=vec2.angleTo(v,[1,0],!0),rMin=thi*a;vec2.length(v)<rMin&&(rMin=vec2.length(v)),thi=2*Math.floor((vec2.length(v)-rMin)/d)*Math.PI+thi;var r=a*thi,newY=vec2.length(v)-r;newY=isNumberEqual(newY,0)?0:newY;var x=this.invertDim(thi,"x"),y=this.invertDim(newY,"y");x=isNumberEqual(x,0)?0:x,y=isNumberEqual(y,0)?0:y;var rst={};return rst.x=this.isTransposed?y:x,rst.y=this.isTransposed?x:y,rst}}]),Helix}(Base);module.exports=Helix},function(module,exports,__webpack_require__){function formatTicks(ticks){var tmp=[];if(ticks.length>0){tmp=ticks.slice(0);var first=tmp[0],last=tmp[tmp.length-1];0!==first.value&&tmp.unshift({value:0}),1!==last.value&&tmp.push({value:1})}return tmp}function fillAxisTicks(ticks,isLinear,gridCentering){var result=[];return ticks.length<1?result:(ticks.length>=2&&isLinear&&gridCentering&&result.push({text:"",tickValue:"",value:0}),0!==ticks[0].value&&result.push({text:"",tickValue:"",value:0}),result=result.concat(ticks),1!==result[result.length-1].value&&result.push({text:"",tickValue:"",value:1}),result)}function getDefaultValueFromPosition(position,val){return void 0===val&&(val=0),"middle"===position&&(val=.5),-1!==position.indexOf("%")&&(val=parseInt(position,10)/100),val}var Util=__webpack_require__(0),_require=__webpack_require__(21),Axis=_require.Axis,vec2=Util.MatrixUtil.vec2,AxisController=function(){function AxisController(cfg){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],Util.mix(this,cfg)}var _proto=AxisController.prototype;return _proto._isHide=function(field){var options=this.options;return!(!options||!1!==options[field])},_proto._getMiddleValue=function(curValue,ticks,index,isLinear){if(0===curValue&&!isLinear)return 0;if(1===curValue)return 1;var nextValue=ticks[index+1].value;return isLinear||1!==nextValue?(curValue+nextValue)/2:1},_proto._getLineRange=function(coord,scale,dimType,index){var start,end,isVertical,field=scale.field,options=this.options,position="";if(options[field]&&options[field].position&&(position=options[field].position),"x"===dimType){var y="top"===position?1:0;y=getDefaultValueFromPosition(position,y),start={x:0,y:y},end={x:1,y:y},isVertical=!1}else{if(index){var x="left"===position?0:1;x=getDefaultValueFromPosition(position,x),start={x:x,y:0},end={x:x,y:1}}else{var _x="right"===position?1:0;_x=getDefaultValueFromPosition(position,_x),start={x:_x,y:0},end={x:_x,y:1}}isVertical=!0}return start=coord.convert(start),end=coord.convert(end),{start:start,end:end,isVertical:isVertical}},_proto._getLineCfg=function(coord,scale,dimType,index){var factor,range=this._getLineRange(coord,scale,dimType,index),isVertical=range.isVertical,start=range.start,end=range.end,center=coord.center;return coord.isTransposed&&(isVertical=!isVertical),factor=isVertical&&start.x>center.x||!isVertical&&start.y>center.y?1:-1,{isVertical:isVertical,factor:factor,start:start,end:end}},_proto._getCircleCfg=function(coord){var start,circleCfg={},rangeX=coord.x,rangeY=coord.y,isReflectY=rangeY.start>rangeY.end;start=coord.isTransposed?{x:isReflectY?0:1,y:0}:{x:0,y:isReflectY?0:1},start=coord.convert(start);var startAngle,center=coord.circleCentre,startVector=[start.x-center.x,start.y-center.y],normalVector=[1,0];startAngle=start.y>center.y?vec2.angle(startVector,normalVector):-1*vec2.angle(startVector,normalVector);var endAngle=startAngle+(rangeX.end-rangeX.start);return circleCfg.startAngle=startAngle,circleCfg.endAngle=endAngle,circleCfg.center=center,circleCfg.radius=Math.sqrt(Math.pow(start.x-center.x,2)+Math.pow(start.y-center.y,2)),circleCfg.inner=coord.innerRadius||0,circleCfg},_proto._getRadiusCfg=function(coord){var start,end,startAngle=coord.x.start,factor=startAngle<0?-1:1;return coord.isTransposed?(start={x:0,y:0},end={x:1,y:0}):(start={x:0,y:0},end={x:0,y:1}),{factor:factor,start:coord.convert(start),end:coord.convert(end)}},_proto._getAxisPosition=function(coord,dimType,index,field){var position="",options=this.options;if(options[field]&&options[field].position)position=options[field].position;else{var coordType=coord.type;coord.isRect?"x"===dimType?position="bottom":"y"===dimType&&(position=index?"right":"left"):position="helix"===coordType?"helix":"x"===dimType?coord.isTransposed?"radius":"circle":coord.isTransposed?"circle":"radius"}return position},_proto._getAxisDefaultCfg=function(coord,scale,type,position){var self=this,viewTheme=self.viewTheme,cfg={},options=self.options,field=scale.field;if(cfg=Util.deepMix({},viewTheme.axis[position],cfg,options[field]),cfg.viewTheme=viewTheme,cfg.title){var title=Util.isPlainObject(cfg.title)?cfg.title:{};title.text=title.text||scale.alias||field,Util.deepMix(cfg,{title:title})}return cfg.ticks=scale.getTicks(),coord.isPolar&&!scale.isCategory&&"x"===type&&Math.abs(coord.endAngle-coord.startAngle)===2*Math.PI&&cfg.ticks.pop(),cfg.coord=coord,cfg.label&&Util.isNil(cfg.label.autoRotate)&&(cfg.label.autoRotate=!0),options.hasOwnProperty("xField")&&options.xField.hasOwnProperty("grid")&&"left"===cfg.position&&Util.deepMix(cfg,options.xField),cfg},_proto._getAxisCfg=function(coord,scale,verticalScale,dimType,index,viewId){void 0===index&&(index="");var self=this,position=self._getAxisPosition(coord,dimType,index,scale.field),cfg=self._getAxisDefaultCfg(coord,scale,dimType,position);if(!Util.isEmpty(cfg.grid)&&verticalScale){var gridPoints=[],tickValues=[],verticalTicks=formatTicks(verticalScale.getTicks());if(verticalTicks.length){var ticks=fillAxisTicks(cfg.ticks,scale.isLinear,"center"===cfg.grid.align);Util.each(ticks,function(tick,idx){tickValues.push(tick.tickValue);var subPoints=[],value=tick.value;if("center"===cfg.grid.align&&(value=self._getMiddleValue(value,ticks,idx,scale.isLinear)),!Util.isNil(value)){var rangeX=coord.x,rangeY=coord.y;Util.each(verticalTicks,function(verticalTick){var x="x"===dimType?value:verticalTick.value,y="x"===dimType?verticalTick.value:value,point=coord.convert({x:x,y:y});if(coord.isPolar){var center=coord.circleCentre;rangeY.start>rangeY.end&&(y=1-y),point.flag=rangeX.start>rangeX.end?0:1,point.radius=Math.sqrt(Math.pow(point.x-center.x,2)+Math.pow(point.y-center.y,2))}subPoints.push(point)}),gridPoints.push({_id:viewId+"-"+dimType+index+"-grid-"+tick.tickValue,points:subPoints})}})}cfg.grid.items=gridPoints,cfg.grid.tickValues=tickValues}return cfg.type=scale.type,cfg},_proto._getHelixCfg=function(coord){for(var helixCfg={},a=coord.a,startAngle=coord.startAngle,endAngle=coord.endAngle,crp=[],i=0;i<=100;i++){var point=coord.convert({x:i/100,y:0});crp.push(point.x),crp.push(point.y)}var axisStart=coord.convert({x:0,y:0});return helixCfg.a=a,helixCfg.startAngle=startAngle,helixCfg.endAngle=endAngle,helixCfg.crp=crp,helixCfg.axisStart=axisStart,helixCfg.center=coord.center,helixCfg.inner=coord.y.start,helixCfg},_proto._drawAxis=function(coord,scale,verticalScale,dimType,viewId,xAxis,index){var C,appendCfg,container=this.container,canvas=this.canvas;"cartesian"===coord.type?(C=Axis.Line,appendCfg=this._getLineCfg(coord,scale,dimType,index)):"helix"===coord.type&&"x"===dimType?(C=Axis.Helix,appendCfg=this._getHelixCfg(coord)):"x"===dimType?(C=Axis.Circle,appendCfg=this._getCircleCfg(coord)):(C=Axis.Line,appendCfg=this._getRadiusCfg(coord));var cfg=this._getAxisCfg(coord,scale,verticalScale,dimType,index,viewId);cfg=Util.mix({},cfg,appendCfg),"y"===dimType&&xAxis&&"circle"===xAxis.get("type")&&(cfg.circle=xAxis),cfg._id=viewId+"-"+dimType,Util.isNil(index)||(cfg._id=viewId+"-"+dimType+index),Util.mix(cfg,{canvas:canvas,group:container});var axis=new C(cfg);return axis.render(),this.axes.push(axis),axis},_proto.createAxis=function(xScale,yScales,viewId){var self=this,coord=this.coord,coordType=coord.type;if("theta"!==coordType&&("polar"!==coordType||!coord.isTransposed)){var xAxis;xScale&&!self._isHide(xScale.field)&&(xAxis=self._drawAxis(coord,xScale,yScales[0],"x",viewId)),Util.isEmpty(yScales)||"helix"===coordType||Util.each(yScales,function(yScale,index){self._isHide(yScale.field)||self._drawAxis(coord,yScale,xScale,"y",viewId,xAxis,index)})}},_proto.changeVisible=function(visible){var axes=this.axes;Util.each(axes,function(axis){axis.set("visible",visible)})},_proto.clear=function(){var self=this,axes=self.axes;Util.each(axes,function(axis){axis.clear()}),self.axes=[]},AxisController}();module.exports=AxisController},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Guide=__webpack_require__(349),GuideController=function(){function GuideController(cfg){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,Util.mix(this,cfg)}var _proto=GuideController.prototype;return _proto._creatGuides=function(){var self=this,options=this.options,xScales=this.xScales,yScales=this.yScales,view=this.view,viewTheme=this.viewTheme;return this.backContainer&&view&&(this.backGroup=this.backContainer.addGroup({viewId:view.get("_id")})),this.frontContainer&&view&&(this.frontGroup=this.frontContainer.addGroup({viewId:view.get("_id")})),options.forEach(function(option){var type=option.type,config=Util.deepMix({xScales:xScales,yScales:yScales,viewTheme:viewTheme},viewTheme?viewTheme.guide[type]:{},option);type=Util.upperFirst(type);var guide=new Guide[type](config);self.guides.push(guide)}),self.guides},_proto.line=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"line"},cfg)),this},_proto.arc=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"arc"},cfg)),this},_proto.text=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"text"},cfg)),this},_proto.image=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"image"},cfg)),this},_proto.region=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"region"},cfg)),this},_proto.regionFilter=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"regionFilter"},cfg)),this},_proto.dataMarker=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"dataMarker"},cfg)),this},_proto.dataRegion=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"dataRegion"},cfg)),this},_proto.html=function(cfg){return void 0===cfg&&(cfg={}),this.options.push(Util.mix({type:"html"},cfg)),this},_proto.render=function(coord){var self=this,view=self.view,viewData=view&&view.get("data"),guides=self._creatGuides();Util.each(guides,function(guide){var container;container=guide.get("top")?self.frontGroup||self.frontContainer:self.backGroup||self.backContainer,guide.render(coord,container,viewData,view)})},_proto.clear=function(){this.options=[],this.reset()},_proto.changeVisible=function(visible){var guides=this.guides;Util.each(guides,function(guide){guide.changeVisible(visible)})},_proto.reset=function(){var guides=this.guides;Util.each(guides,function(guide){guide.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},GuideController}();module.exports=GuideController},function(module,exports,__webpack_require__){var _require=__webpack_require__(21),Guide=_require.Guide,RegionFilter=__webpack_require__(350);Guide.RegionFilter=RegionFilter,module.exports=Guide},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),Guide=__webpack_require__(15),_require=__webpack_require__(25),Path=_require.Path,RegionFilter=function(_Guide){function RegionFilter(){return _Guide.apply(this,arguments)||this}_inheritsLoose(RegionFilter,_Guide);var _proto=RegionFilter.prototype;return _proto.getDefaultCfg=function(){var cfg=_Guide.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},_proto.render=function(coord,group,viewData,view){var self=this,layer=group.addGroup();layer.name="guide-region-filter",view.once("afterpaint",function(){if(!layer.get("destroyed")){self._drawShapes(view,layer);var clip=self._drawClip(coord);layer.attr({clip:clip}),self.set("clip",clip),self.get("appendInfo")&&layer.setSilent("appendInfo",self.get("appendInfo")),self.set("el",layer)}})},_proto._drawShapes=function(view,layer){var self=this,output=[];return view.getAllGeoms().map(function(geom){var shapes=geom.getShapes(),geomType=geom.get("type");return self._geomFilter(geomType)&&shapes.map(function(shape){var shapeType=shape.type,shapeAttr=Util.cloneDeep(shape.attr());self._adjustDisplay(shapeAttr);var s=layer.addShape(shapeType,{attrs:shapeAttr});return output.push(s),shape}),geom}),output},_proto._drawClip=function(coord){var self=this,start=self.parsePoint(coord,self.get("start")),end=self.parsePoint(coord,self.get("end")),path=[["M",start.x,start.y],["L",end.x,start.y],["L",end.x,end.y],["L",start.x,end.y],["z"]];return new Path({attrs:{path:path,opacity:1}})},_proto._adjustDisplay=function(attr){var self=this,color=self.get("color");attr.fill&&(attr.fill=attr.fillStyle=color),attr.stroke=attr.strokeStyle=color},_proto._geomFilter=function(geomType){var self=this,apply=self.get("apply");return!apply||Util.contains(apply,geomType)},_proto.clear=function(){_Guide.prototype.clear.call(this);var clip=this.get("clip");clip&&clip.remove()},RegionFilter}(Guide);module.exports=RegionFilter},function(module,exports,__webpack_require__){function _snapEqual(v1,v2,scale){return!Util.isNil(scale)&&(v1=scale.translate(v1),v2=scale.translate(v2),scale.isCategory?v1===v2:Math.abs(v1-v2)<=1)}function findGeom(geoms,value){var rst;return Util.each(geoms,function(geom){if(geom.get("visible")){if(geom.getYScale().field===value)return void(rst=geom)}}),rst}var Util=__webpack_require__(0),_require=__webpack_require__(21),Legend=_require.Legend,Tail=__webpack_require__(352),Shape=__webpack_require__(18),bboxOfBackPlot=__webpack_require__(166),plotRange2BBox=__webpack_require__(168),requireAnimationFrameFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,STROKE_MARKERS=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"],LegendController=function(){function LegendController(cfg){var self=this;self.options={},Util.mix(self,cfg),self.clear();var chart=self.chart;self.container=chart.get("frontPlot"),self.plotRange=chart.get("plotRange")}var _proto=LegendController.prototype;return _proto.clear=function(){var legends=this.legends;this.backRange=null,Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){legend.destroy()})}),this.legends={}},_proto.getBackRange=function(){var backRange=this.backRange;if(!backRange){var backPlot=this.chart.get("backPlot");backRange=bboxOfBackPlot(backPlot,plotRange2BBox(this.chart.get("plotRange")));var plotRange=this.plotRange;backRange.maxX-backRange.minX<plotRange.br.x-plotRange.tl.x&&backRange.maxY-backRange.minY<plotRange.br.y-plotRange.tl.y&&(backRange={minX:plotRange.tl.x,minY:plotRange.tl.y,maxX:plotRange.br.x,maxY:plotRange.br.y}),this.backRange=backRange}return backRange},_proto._isFieldInView=function(field,value,view){var flag=!1,scales=view.get("scales"),fieldScale=scales[field];return fieldScale&&fieldScale.values&&(flag=Util.inArray(fieldScale.values,value)),flag},_proto._bindClickEvent=function(legend,scale,filterVals){var self=this,chart=self.chart,views=chart.get("views"),field=scale.field,options=self.options;legend.on("itemclick",function(ev){if(options.onClick&&!0!==options.defaultClickHandlerEnabled)options.onClick(ev);else{var item=ev.item,checked=ev.checked,isSingleSelected="single"===legend.get("selectedMode"),clickedValue=item.dataValue;checked?(Util.Array.remove(filterVals,clickedValue),self._isFieldInView(field,clickedValue,chart)&&chart.filter(field,function(field){return isSingleSelected?field===clickedValue:!Util.inArray(filterVals,field)}),Util.each(views,function(view){self._isFieldInView(field,clickedValue,view)&&view.filter(field,function(field){return isSingleSelected?field===clickedValue:!Util.inArray(filterVals,field)})})):isSingleSelected||(filterVals.push(clickedValue),self._isFieldInView(field,clickedValue,chart)&&chart.filter(field,function(field){return!Util.inArray(filterVals,field)}),Util.each(views,function(view){self._isFieldInView(field,clickedValue,view)&&view.filter(field,function(field){return!Util.inArray(filterVals,field)})})),options.onClick&&options.onClick(ev),chart.set("keepLegend",!0),chart.set("keepPadding",!0),chart.repaint(),chart.set("keepPadding",!1),chart.set("keepLegend",!1)}})},_proto._bindClickEventForMix=function(legend){var self=this,chart=self.chart,geoms=chart.getAllGeoms();legend.on("itemclick",function(ev){var itemField=ev.item.field;ev.checked?Util.each(geoms,function(geom){geom.getYScale().field===itemField&&geom.show()}):Util.each(geoms,function(geom){geom.getYScale().field===itemField&&geom.hide()})})},_proto._filterLabels=function(shape,geom,visible){if(shape.get("gLabel"))shape.get("gLabel").set("visible",visible);else{var labelCfg=geom.get("labelCfg");if(labelCfg&&labelCfg.fields&&labelCfg.fields.length>0){var xScale=geom.getXScale(),yScale=geom.getYScale(),xField=xScale.field,yField=yScale.field,shapeData=shape.get("origin")._origin,labelContainer=geom.get("labelContainer"),labels=labelContainer.get("labelsGroup").get("children");Util.each(labels,function(label){var labelData=label.get("origin")||[];labelData[xField]===shapeData[xField]&&labelData[yField]===shapeData[yField]&&(label.set("visible",visible),shape.set("gLabel",label))})}}},_proto._bindFilterEvent=function(legend,scale){var self=this,chart=this.chart,field=scale.field;legend.on("itemfilter",function(ev){var range=ev.range;chart.filterShape(function(obj,shape,geom){if(!Util.isNil(obj[field])){var filtered=obj[field]>=range[0]&&obj[field]<=range[1];return self._filterLabels(shape,geom,filtered),filtered}return!0});for(var geoms=chart.getAllGeoms()||[],i=0;i<geoms.length;i++)!function(i){var geom=geoms[i];"heatmap"===geom.get("type")&&requireAnimationFrameFn(function(){geom.drawWithRange(range)})}(i)})},_proto._getShapeData=function(shape){var originData=shape.get("origin");return Util.isArray(originData)&&(originData=originData[0]),originData._origin},_proto._bindHoverEvent=function(legend,field){var self=this,chart=self.chart,geoms=chart.getAllGeoms(),options=self.options,canvas=chart.get("canvas");legend.on("itemhover",function(ev){var value=ev.item.value,pre=self.pre;if(pre){if(pre===value)return}else Util.each(geoms,function(geom){var shapeContainer=geom.get("shapeContainer"),shapes=geom.getShapes(),activeShapes=[];if(field){var scale=geom.get("scales")[field];Util.each(shapes,function(shape){var origin=self._getShapeData(shape);origin&&_snapEqual(origin[field],value,scale)&&activeShapes.push(shape)})}else geom.getYScale().field===value&&(activeShapes=shapes);Util.isEmpty(activeShapes)||(ev.shapes=activeShapes,ev.geom=geom,options.onHover?(options.onHover(ev),shapeContainer.sort(),canvas.draw()):geom.setShapesActived(activeShapes))}),self.pre=value}),legend.on("itemunhover",function(ev){self.pre=null,options.onUnhover&&options.onUnhover(ev),Util.each(geoms,function(geom){geom.get("activeShapes")&&(geom.clearActivedShapes(),canvas.draw())})})},_proto._isFiltered=function(scale,filterVals,scaleValue){if(!scale.isCategory)return!0;var rst=!0;return scaleValue=scale.invert(scaleValue),Util.each(filterVals,function(val){if(scale.getText(val)===scale.getText(scaleValue))return rst=!1,!1}),rst},_proto._alignLegend=function(legend,pre,region,position){var self=this,viewTheme=self.viewTheme,container=self.container,canvas=container.get("canvas"),width=canvas.get("width"),height=canvas.get("height"),totalRegion=self.totalRegion,plotRange=self.plotRange,backRange=self.getBackRange(),offsetX=legend.get("offset")[0]||0,offsetY=legend.get("offset")[1]||0,legendHeight=legend.getHeight(),legendWidth=legend.getWidth(),borderMargin=viewTheme.legend.margin,innerMargin=viewTheme.legend.legendMargin,legendNum=self.legends[position].length,posArray=position.split("-"),x=0,y=0,tempoRegion=legendNum>1?totalRegion:region;if("left"===posArray[0]||"right"===posArray[0])height=plotRange.br.y,x=self._getXAlign(posArray[0],width,region,backRange,legendWidth,borderMargin),y=pre?(pre.get("y")||pre.get("group").get("y"))+pre.getHeight()+innerMargin:self._getYAlignVertical(posArray[1],height,tempoRegion,backRange,0,borderMargin,canvas.get("height"));else if("top"===posArray[0]||"bottom"===posArray[0])if(y=self._getYAlignHorizontal(posArray[0],height,region,backRange,legendHeight,borderMargin),pre){var preWidth=pre.getWidth();x=(pre.get("x")||pre.get("group").get("x"))+preWidth+innerMargin}else x=self._getXAlign(posArray[1],width,tempoRegion,backRange,0,borderMargin),"right"===posArray[1]&&(x=plotRange.br.x-tempoRegion.totalWidth);legend.move(x+offsetX,y+offsetY)},_proto._getXAlign=function(pos,width,region,backRange,legendWidth,borderMargin){var x="left"===pos?backRange.minX-legendWidth-borderMargin[3]:backRange.maxX+borderMargin[1];return"center"===pos&&(x=(width-region.totalWidth)/2),x},_proto._getYAlignHorizontal=function(pos,height,region,backRange,legendHeight,borderMargin){return"top"===pos?backRange.minY-legendHeight-borderMargin[0]:backRange.maxY+borderMargin[2]},_proto._getYAlignVertical=function(pos,height,region,backRange,legendHeight,borderMargin,canvasHeight){var y="top"===pos?backRange.minY-legendHeight-borderMargin[0]:height-region.totalHeight;return"center"===pos&&(y=(canvasHeight-region.totalHeight)/2),y},_proto._getSubRegion=function(legends){var maxWidth=0,maxHeight=0,totalWidth=0,totalHeight=0;return Util.each(legends,function(legend){var width=legend.getWidth(),height=legend.getHeight();maxWidth<width&&(maxWidth=width),totalWidth+=width,maxHeight<height&&(maxHeight=height),totalHeight+=height}),{maxWidth:maxWidth,totalWidth:totalWidth,maxHeight:maxHeight,totalHeight:totalHeight}},_proto._getRegion=function(){var self=this,viewTheme=self.viewTheme,legends=self.legends,innerMargin=viewTheme.legend.legendMargin,subs=[],totalWidth=0,totalHeight=0;return Util.each(legends,function(legendItems){var subRegion=self._getSubRegion(legendItems);subs.push(subRegion),totalWidth+=subRegion.totalWidth+innerMargin,totalHeight+=subRegion.totalHeight+innerMargin}),{totalWidth:totalWidth,totalHeight:totalHeight,subs:subs}},_proto._addCategoryLegend=function(scale,attr,geom,filterVals,position){var self=this,field=scale.field,legendOptions=self.options,fieldOption=legendOptions[field];fieldOption&&(legendOptions=fieldOption);var legends=self.legends;legends[position]=legends[position]||[];var container=self.container,items=[],ticks=scale.getTicks(),isByAttr=!0,shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle";legendOptions[field]&&legendOptions[field].marker?(shape=legendOptions[field].marker,shapeType="point",isByAttr=!1):legendOptions.marker&&(shape=legendOptions.marker,shapeType="point",isByAttr=!1);var chart=self.chart,viewTheme=self.viewTheme,canvas=chart.get("canvas"),plotRange=self.plotRange,posArray=position.split("-"),maxLength="right"===posArray[0]||"left"===posArray[0]?plotRange.bl.y-plotRange.tr.y:canvas.get("width");Util.each(ticks,function(tick){var text=tick.text,name=text,scaleValue=tick.value,value=scale.invert(scaleValue),cfg={isInCircle:geom.isInCircle()},checked=!filterVals||self._isFiltered(scale,filterVals,scaleValue),colorAttr=geom.getAttr("color"),shapeAttr=geom.getAttr("shape");if(colorAttr)if(colorAttr.callback&&colorAttr.callback.length>1){var restArgs=Array(colorAttr.callback.length-1).fill("");cfg.color=colorAttr.mapping.apply(colorAttr,[value].concat(restArgs)).join("")||viewTheme.defaultColor}else cfg.color=colorAttr.mapping(value).join("")||viewTheme.defaultColor;if(isByAttr&&shapeAttr)if(shapeAttr.callback&&shapeAttr.callback.length>1){var _restArgs=Array(shapeAttr.callback.length-1).fill("");shape=shapeAttr.mapping.apply(shapeAttr,[value].concat(_restArgs)).join("")}else shape=shapeAttr.mapping(value).join("");var shapeObject=Shape.getShapeFactory(shapeType),marker=shapeObject.getMarkerCfg(shape,cfg);Util.isFunction(shape)&&(marker.symbol=shape),items.push({value:name,dataValue:value,checked:checked,marker:marker})});var legendCfg=Util.deepMix({},viewTheme.legend[posArray[0]],legendOptions[field]||legendOptions,{viewId:chart.get("_id"),maxLength:maxLength,items:items,container:container,position:[0,0]});legendCfg.title&&Util.deepMix(legendCfg,{title:{text:scale.alias||scale.field}});var legend;if(self._isTailLegend(legendOptions,geom))legendCfg.chart=self.chart,legendCfg.geom=geom,legend=new Tail(legendCfg);else if(legendOptions.useHtml){var canvasEle=container.get("canvas").get("el");if(container=legendOptions.container,Util.isString(container)&&/^\#/.test(container)){var id=container.replace("#","");container=document.getElementById(id)}container||(container=canvasEle.parentNode),legendCfg.container=container,void 0===legendCfg.legendStyle&&(legendCfg.legendStyle={}),legendCfg.legendStyle.CONTAINER_CLASS={position:"absolute",overflow:"auto","z-index":""===canvasEle.style.zIndex?1:parseInt(canvasEle.style.zIndex,10)+1},legendOptions.flipPage?(legendCfg.legendStyle.CONTAINER_CLASS.height="right"===posArray[0]||"left"===posArray[0]?maxLength+"px":"auto",legendCfg.legendStyle.CONTAINER_CLASS.width="right"!==posArray[0]&&"left"!==posArray[0]?maxLength+"px":"auto",legend=new Legend.CatPageHtml(legendCfg)):legend=new Legend.CatHtml(legendCfg)}else legend=new Legend.Category(legendCfg);return self._bindClickEvent(legend,scale,filterVals),legends[position].push(legend),legend},_proto._bindChartMove=function(scale){var chart=this.chart,legends=this.legends;chart.on("plotmove",function(ev){var selected=!1;if(ev.target){var origin=ev.target.get("origin");if(origin){var data=origin._origin||origin[0]._origin,field=scale.field;if(data){var value=data[field];Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){selected=!0,!legend.destroyed&&legend.activate(value)})})}}}selected||Util.each(legends,function(legendItems){Util.each(legendItems,function(legend){!legend.destroyed&&legend.deactivate()})})})},_proto._addContinuousLegend=function(scale,attr,position){var self=this,legends=self.legends;legends[position]=legends[position]||[];var legend,minValue,maxValue,container=self.container,field=scale.field,ticks=scale.getTicks(),items=[],viewTheme=self.viewTheme;Util.each(ticks,function(tick){var scaleValue=tick.value,invertValue=scale.invert(scaleValue),attrValue=attr.mapping(invertValue).join("");items.push({value:tick.tickValue,attrValue:attrValue,color:attrValue,scaleValue:scaleValue}),0===scaleValue&&(minValue=!0),1===scaleValue&&(maxValue=!0)}),minValue||items.push({value:scale.min,attrValue:attr.mapping(0).join(""),color:attr.mapping(0).join(""),scaleValue:0}),maxValue||items.push({value:scale.max,attrValue:attr.mapping(1).join(""),color:attr.mapping(1).join(""),scaleValue:1});var options=self.options,posArray=position.split("-"),defaultCfg=viewTheme.legend[posArray[0]];(options&&!1===options.slidable||options[field]&&!1===options[field].slidable)&&(defaultCfg=Util.mix({},defaultCfg,viewTheme.legend.gradient));var legendCfg=Util.deepMix({},defaultCfg,options[field]||options,{items:items,attr:attr,formatter:scale.formatter,container:container,position:[0,0]});if(legendCfg.title&&Util.deepMix(legendCfg,{title:{text:scale.alias||scale.field}}),"color"===attr.type)legend=new Legend.Color(legendCfg);else{if("size"!==attr.type)return;legend=options&&"circle"===options.sizeType?new Legend.CircleSize(legendCfg):new Legend.Size(legendCfg)}return self._bindFilterEvent(legend,scale),legends[position].push(legend),legend},_proto._isTailLegend=function(opt,geom){if(opt.hasOwnProperty("attachLast")&&opt.attachLast){var geomType=geom.get("type");if("line"===geomType||"lineStack"===geomType||"area"===geomType||"areaStack"===geomType)return!0}return!1},_proto._adjustPosition=function(position,isTailLegend){var pos;if(isTailLegend)pos="right-top";else if(Util.isArray(position))pos=String(position[0])+"-"+String(position[1]);else{var posArr=position.split("-");1===posArr.length?("left"===posArr[0]&&(pos="left-bottom"),"right"===posArr[0]&&(pos="right-bottom"),"top"===posArr[0]&&(pos="top-center"),"bottom"===posArr[0]&&(pos="bottom-center")):pos=position}return pos},_proto.addLegend=function(scale,attr,geom,filterVals){var self=this,legendOptions=self.options,field=scale.field,fieldOption=legendOptions[field],viewTheme=self.viewTheme;if(!1===fieldOption)return null;if(fieldOption&&fieldOption.custom)self.addCustomLegend(field);else{var position=legendOptions.position||viewTheme.defaultLegendPosition;position=self._adjustPosition(position,self._isTailLegend(legendOptions,geom)),fieldOption&&fieldOption.position&&(position=self._adjustPosition(fieldOption.position,self._isTailLegend(fieldOption,geom)));var legend;legend=scale.isLinear?self._addContinuousLegend(scale,attr,position):self._addCategoryLegend(scale,attr,geom,filterVals,position),legend&&(self._bindHoverEvent(legend,field),legendOptions.reactive&&self._bindChartMove(scale))}},_proto.addCustomLegend=function(field){var self=this,chart=self.chart,viewTheme=self.viewTheme,container=self.container,legendOptions=self.options;field&&(legendOptions=legendOptions[field]);var position=legendOptions.position||viewTheme.defaultLegendPosition;position=self._adjustPosition(position);var legends=self.legends;legends[position]=legends[position]||[];var items=legendOptions.items;if(items){var geoms=chart.getAllGeoms();Util.each(items,function(item){var geom=findGeom(geoms,item.value);Util.isPlainObject(item.marker)?item.marker.radius=item.marker.radius||4.5:(item.marker={symbol:item.marker||"circle",radius:4.5},-1!==Util.indexOf(STROKE_MARKERS,item.marker.symbol)?item.marker.stroke=item.fill:item.marker.fill=item.fill);var symbol=item.marker.symbol;Util.isString(symbol)&&-1!==symbol.indexOf("hollow")&&(item.marker.symbol=Util.lowerFirst(symbol.substr(6))),item.checked=!!Util.isNil(item.checked)||item.checked,item.geom=geom});var legend,canvas=chart.get("canvas"),plotRange=self.plotRange,posArray=position.split("-"),maxLength="right"===posArray[0]||"left"===posArray[0]?plotRange.bl.y-plotRange.tr.y:canvas.get("width"),legendCfg=Util.deepMix({},viewTheme.legend[posArray[0]],legendOptions,{maxLength:maxLength,items:items,container:container,position:[0,0]});if(legendOptions.useHtml){var htmlContainer=legendOptions.container;if(/^\#/.test(container)){var id=htmlContainer.replace("#","");htmlContainer=document.getElementById(id)}else htmlContainer||(htmlContainer=container.get("canvas").get("el").parentNode);legendCfg.container=htmlContainer,void 0===legendCfg.legendStyle&&(legendCfg.legendStyle={}),legendCfg.legendStyle.CONTAINER_CLASS||(legendCfg.legendStyle.CONTAINER_CLASS={height:"right"===posArray[0]||"left"===posArray[0]?maxLength+"px":"auto",width:"right"!==posArray[0]&&"left"!==posArray[0]?maxLength+"px":"auto",position:"absolute",overflow:"auto"}),legend=legendOptions.flipPage?new Legend.CatPageHtml(legendCfg):new Legend.CatHtml(legendCfg)}else legend=new Legend.Category(legendCfg);return legends[position].push(legend),legend.on("itemclick",function(ev){legendOptions.onClick&&legendOptions.onClick(ev)}),self._bindHoverEvent(legend),legend}},_proto.addMixedLegend=function(scales,geoms){var self=this,items=[];Util.each(scales,function(scale){var value=scale.alias||scale.field;Util.each(geoms,function(geom){if(geom.getYScale()===scale&&scale.values&&scale.values.length>0){var shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle",shapeObject=Shape.getShapeFactory(shapeType),cfg={color:geom.getDefaultValue("color")},marker=shapeObject.getMarkerCfg(shape,cfg),item={value:value,marker:marker,field:scale.field};items.push(item)}})});var options={custom:!0,items:items};self.options=Util.deepMix({},options,self.options);var legend=self.addCustomLegend();self._bindClickEventForMix(legend)},_proto.alignLegends=function(){var self=this,legends=self.legends,totalRegion=self._getRegion(legends);self.totalRegion=totalRegion;var i=0;return Util.each(legends,function(legendItems,position){var region=totalRegion.subs[i];Util.each(legendItems,function(legend,index){var pre=legendItems[index-1];legend.get("useHtml")&&!legend.get("autoPosition")||self._alignLegend(legend,pre,region,position)}),i++}),this},LegendController}();module.exports=LegendController},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),Components=__webpack_require__(21),Global=__webpack_require__(7),Legend=Components.Legend,Category=Legend.Category,Tail=function(_Category){function Tail(){return _Category.apply(this,arguments)||this}_inheritsLoose(Tail,_Category);var _proto=Tail.prototype;return _proto.getDefaultCfg=function(){var cfg=_Category.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:"tail-legend",layout:"vertical",autoLayout:!0})},_proto._addItem=function(item){var itemsGroup=this.get("itemsGroup"),x=this._getNextX(),unCheckColor=this.get("unCheckColor"),itemGroup=itemsGroup.addGroup({x:0,y:0,value:item.value,scaleValue:item.scaleValue,checked:item.checked});itemGroup.translate(x,0),itemGroup.set("viewId",itemsGroup.get("viewId"));var textStyle=this.get("textStyle"),wordSpace=this.get("_wordSpaceing"),startX=0;if(item.marker){var markerAttrs=Util.mix({},item.marker,{x:item.marker.radius,y:0});item.checked||(markerAttrs.fill&&(markerAttrs.fill=unCheckColor),markerAttrs.stroke&&(markerAttrs.stroke=unCheckColor));var markerShape=itemGroup.addShape("marker",{type:"marker",attrs:markerAttrs});markerShape.attr("cursor","pointer"),markerShape.name="legend-marker",startX+=markerShape.getBBox().width+wordSpace}var textAttrs=Util.mix({},textStyle,{x:startX,y:0,text:this._formatItemValue(item.value)});item.checked||Util.mix(textAttrs,{fill:unCheckColor});var textShape=itemGroup.addShape("text",{attrs:textAttrs});textShape.attr("cursor","pointer"),textShape.name="legend-text",this.get("appendInfo")&&textShape.setSilent("appendInfo",this.get("appendInfo"));var bbox=itemGroup.getBBox(),itemWidth=this.get("itemWidth"),wrapperShape=itemGroup.addShape("rect",{attrs:{x:x,y:0-bbox.height/2,fill:"#fff",fillOpacity:0,width:itemWidth||bbox.width,height:bbox.height}});return wrapperShape.attr("cursor","pointer"),wrapperShape.setSilent("origin",item),wrapperShape.name="legend-item",this.get("appendInfo")&&wrapperShape.setSilent("appendInfo",this.get("appendInfo")),itemGroup.name="legendGroup",itemGroup},_proto._adjust=function(){var self=this;if(self.get("geom")){self.get("group").attr("matrix")[7]=0;var dataArray=self.get("geom").get("dataArray"),groups=this.get("itemsGroup").get("children"),index=0;Util.each(groups,function(groupItem){var dArray=dataArray[index],lastY=dArray[dArray.length-1].y;Util.isArray(lastY)&&(lastY=lastY[1]);var groupHeight=groupItem.getBBox().height,x=groupItem.get("x"),y=lastY-groupHeight/2;groupItem.translate(x,y),index++}),self.get("autoLayout")&&self._antiCollision(groups)}},_proto.render=function(){var _this=this;_Category.prototype.render.call(this),this.get("chart").once("afterpaint",function(){_this._adjust()})},_proto._getPreviousY=function(item){return item.attr("matrix")[7]+item.getBBox().height},_proto._adjustDenote=function(group,start,end){var margin=Global.legend.legendMargin,x2=2*-margin;group.addShape("path",{attrs:{path:"M-2,"+start+"L"+x2+","+(end+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},_proto._antiCollision=function(items){var self=this;items.sort(function(a,b){return a.attr("matrix")[7]-b.attr("matrix")[7]});var overlapping=!0,plotRange=self.get("chart").get("plotRange"),startY=plotRange.tl.y,totalHeight=Math.abs(startY-plotRange.bl.y),elementHeight=items[0].getBBox().height,minY=Number.MIN_VALUE,maxY=0,boxes=items.map(function(item){var y=item.attr("matrix")[7];return y>maxY&&(maxY=y),y<minY&&(minY=y),{size:item.getBBox().height,targets:[y-startY]}});minY-=startY;for(var i=0;overlapping;){for(var _i=0;_i<boxes.length;_i++){var box=boxes[_i],target=(Math.min.apply(minY,box.targets)+Math.max.apply(minY,box.targets))/2;box.pos=Math.min(Math.max(minY,target-box.size/2),totalHeight-box.size)}for(overlapping=!1,i=boxes.length;i--;)if(i>0){var previous=boxes[i-1],current=boxes[i];previous.pos+previous.size>current.pos&&(previous.size+=current.size,previous.targets=previous.targets.concat(current.targets),boxes.splice(i,1),overlapping=!0)}}i=0;var group=this.get("itemsGroup").addGroup();boxes.forEach(function(b){var posInCompositeBox=startY+elementHeight;b.targets.forEach(function(){var origin_y=items[i].attr("matrix")[7],y=b.pos+posInCompositeBox-elementHeight/2;Math.abs(origin_y-y)>elementHeight/2&&self._adjustDenote(group,y,origin_y-self.get("group").attr("matrix")[7]/2),items[i].translate(0,-origin_y),items[i].translate(0,y),posInCompositeBox+=elementHeight,i++})})},Tail}(Category);module.exports=Tail},function(module,exports,__webpack_require__){function _indexOfArray(items,item){var rst=-1;return Util.each(items,function(sub,index){var isEqual=!0;for(var key in item)if(item.hasOwnProperty(key)&&-1===IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key)&&!Util.isObject(item[key])&&item[key]!==sub[key]){isEqual=!1;break}if(isEqual)return rst=index,!1}),rst}function _hasClass(dom,className){if(!dom)return!1;var cls="";return!!dom.className&&(cls=Util.isNil(dom.className.baseVal)?dom.className:dom.className.baseVal,-1!==cls.indexOf(className))}function _isParent(dom,cls){for(var parent=dom.parentNode,rst=!1;parent&&parent!==document.body;){if(_hasClass(parent,cls)){rst=!0;break}parent=parent.parentNode}return rst}function _uniqItems(items){var tmp=[];return Util.each(items,function(item){var index=_indexOfArray(tmp,item);-1===index?tmp.push(item):tmp[index]=item}),tmp}var Util=__webpack_require__(0),Shape=__webpack_require__(18),_require=__webpack_require__(21),Tooltip=_require.Tooltip,MatrixUtil=Util.MatrixUtil,Vector2=MatrixUtil.vec2,TYPE_SHOW_MARKERS=["line","area","path","areaStack"],TYPE_SHOW_CROSSHAIRS=["line","area"],IGNORE_TOOLTIP_ITEM_PROPERTIES=["marker","showMarker"],TooltipController=function(){function TooltipController(cfg){Util.assign(this,cfg),this.timeStamp=0}var _proto=TooltipController.prototype;return _proto._normalizeEvent=function(event){var chart=this.chart,canvas=this._getCanvas(),point=canvas.getPointByClient(event.clientX,event.clientY),pixelRatio=canvas.get("pixelRatio");point.x=point.x/pixelRatio,point.y=point.y/pixelRatio;var views=chart.getViewsByPoint(point);return point.views=views,point},_proto._getCanvas=function(){return this.chart.get("canvas")},_proto._getTriggerEvent=function(){var eventName,options=this.options,triggerOn=options.triggerOn;return triggerOn&&"mousemove"!==triggerOn?"click"===triggerOn?eventName="plotclick":"none"===triggerOn&&(eventName=null):eventName="plotmove",eventName},_proto._getDefaultTooltipCfg=function(){var self=this,chart=self.chart,viewTheme=self.viewTheme,options=self.options,defaultCfg=Util.mix({},viewTheme.tooltip),geoms=chart.getAllGeoms().filter(function(geom){return geom.get("visible")}),shapes=[];Util.each(geoms,function(geom){var type=geom.get("type"),adjusts=geom.get("adjusts"),isSymmetric=!1;adjusts&&Util.each(adjusts,function(adjust){if("symmetric"===adjust.type||"Symmetric"===adjust.type)return isSymmetric=!0,!1}),-1!==Util.indexOf(shapes,type)||isSymmetric||shapes.push(type)});var crosshairsCfg,isTransposed=!(!geoms.length||!geoms[0].get("coord"))&&geoms[0].get("coord").isTransposed;if(geoms.length&&geoms[0].get("coord")&&"cartesian"===geoms[0].get("coord").type)if("interval"===shapes[0]&&!1!==options.shared){var crosshairs=Util.mix({},viewTheme.tooltipCrosshairsRect);crosshairs.isTransposed=isTransposed,crosshairsCfg={zIndex:0,crosshairs:crosshairs}}else if(Util.indexOf(TYPE_SHOW_CROSSHAIRS,shapes[0])>-1){var _crosshairs=Util.mix({},viewTheme.tooltipCrosshairsLine);_crosshairs.isTransposed=isTransposed,crosshairsCfg={crosshairs:_crosshairs}}return Util.mix(defaultCfg,crosshairsCfg,{})},_proto._bindEvent=function(){var chart=this.chart,triggerEvent=this._getTriggerEvent();triggerEvent&&(chart.on(triggerEvent,Util.wrapBehavior(this,"onMouseMove")),chart.on("plotleave",Util.wrapBehavior(this,"onMouseOut")))},_proto._offEvent=function(){var chart=this.chart,triggerEvent=this._getTriggerEvent();triggerEvent&&(chart.off(triggerEvent,Util.getWrapBehavior(this,"onMouseMove")),chart.off("plotleave",Util.getWrapBehavior(this,"onMouseOut")))},_proto._setTooltip=function(point,items,markersItems,target){var self=this,tooltip=self.tooltip,prePoint=self.prePoint;if(!prePoint||prePoint.x!==point.x||prePoint.y!==point.y){items=_uniqItems(items),self.prePoint=point;var chart=self.chart,viewTheme=self.viewTheme,x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;tooltip.get("visible")||chart.emit("tooltip:show",{x:x,y:y,tooltip:tooltip});var first=items[0],title=first.title||first.name;tooltip.isContentChange(title,items)&&(chart.emit("tooltip:change",{tooltip:tooltip,x:x,y:y,items:items}),title=items[0].title||items[0].name,tooltip.setContent(title,items),Util.isEmpty(markersItems)?(tooltip.clearMarkers(),tooltip.set("markerItems",[])):!0===self.options.hideMarkers?tooltip.set("markerItems",markersItems):tooltip.setMarkers(markersItems,viewTheme.tooltipMarker));target===this._getCanvas()&&"mini"===tooltip.get("type")?tooltip.hide():(tooltip.setPosition(x,y,target),tooltip.show())}},_proto.hideTooltip=function(){var tooltip=this.tooltip,chart=this.chart,canvas=this._getCanvas();this.prePoint=null,tooltip.hide(),chart.emit("tooltip:hide",{tooltip:tooltip}),canvas.draw()},_proto.onMouseMove=function(ev){if(!Util.isEmpty(ev.views)){var lastTimeStamp=this.timeStamp,timeStamp=+new Date,point={x:ev.x,y:ev.y};timeStamp-lastTimeStamp>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(point,ev.views,ev.shape),this.timeStamp=timeStamp)}},_proto.onMouseOut=function(ev){var tooltip=this.tooltip;tooltip.get("visible")&&tooltip.get("follow")&&(ev&&ev.toElement&&(_hasClass(ev.toElement,"g2-tooltip")||_isParent(ev.toElement,"g2-tooltip"))||this.hideTooltip())},_proto.renderTooltip=function(){var self=this;if(!self.tooltip){var chart=self.chart,viewTheme=self.viewTheme,canvas=self._getCanvas(),defaultCfg=self._getDefaultTooltipCfg(),options=self.options;options=Util.deepMix({plotRange:chart.get("plotRange"),capture:!1,canvas:canvas,frontPlot:chart.get("frontPlot"),viewTheme:viewTheme.tooltip,backPlot:chart.get("backPlot")},defaultCfg,options),options.crosshairs&&"rect"===options.crosshairs.type&&(options.zIndex=0),options.visible=!1;var tooltip;"mini"===options.type?(options.crosshairs=!1,options.position="top",tooltip=new Tooltip.Mini(options)):tooltip=options.useHtml?new Tooltip.Html(options):new Tooltip.Canvas(options),self.tooltip=tooltip;var triggerEvent=self._getTriggerEvent();if(!tooltip.get("enterable")&&"plotmove"===triggerEvent){var tooltipContainer=tooltip.get("container");tooltipContainer&&(tooltipContainer.onmousemove=function(e){var eventObj=self._normalizeEvent(e);chart.emit(triggerEvent,eventObj)})}self._bindEvent()}},_proto.showTooltip=function(point,views,target){var self=this;if(!Util.isEmpty(views)&&point){this.tooltip||this.renderTooltip();var options=self.options,markersItems=[],items=[];if(Util.each(views,function(view){if(!view.get("tooltipEnable"))return!0;var geoms=view.get("geoms"),coord=view.get("coord");Util.each(geoms,function(geom){var type=geom.get("type");if(geom.get("visible")&&!1!==geom.get("tooltipCfg")){var dataArray=geom.get("dataArray");if(geom.isShareTooltip()||!1===options.shared&&Util.inArray(["area","line","path","polygon"],type))Util.each(dataArray,function(obj){var tmpPoint=geom.findPoint(point,obj);if(tmpPoint){var subItems=geom.getTipItems(tmpPoint,options.title);Util.each(subItems,function(v){var point=v.point;if(point&&point.x&&point.y){var x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;point=coord.applyMatrix(x,y,1),v.x=point[0],v.y=point[1],v.showMarker=!0;var itemMarker=self._getItemMarker(geom,v.color);v.marker=itemMarker,-1!==Util.indexOf(TYPE_SHOW_MARKERS,type)&&markersItems.push(v)}}),items=items.concat(subItems)}});else{var geomContainer=geom.get("shapeContainer"),canvas=geomContainer.get("canvas"),pixelRatio=canvas.get("pixelRatio"),shape=geomContainer.getShape(point.x*pixelRatio,point.y*pixelRatio);shape&&shape.get("visible")&&shape.get("origin")&&(items=geom.getTipItems(shape.get("origin"),options.title))}}}),Util.each(items,function(item){var point=item.point,x=Util.isArray(point.x)?point.x[point.x.length-1]:point.x,y=Util.isArray(point.y)?point.y[point.y.length-1]:point.y;point=coord.applyMatrix(x,y,1),item.x=point[0],item.y=point[1]})}),items.length){var first=items[0];if(!items.every(function(item){return item.title===first.title})){var nearestItem=first,nearestDistance=1/0;items.forEach(function(item){var distance=Vector2.distance([point.x,point.y],[item.x,item.y]);distance<nearestDistance&&(nearestDistance=distance,nearestItem=item)}),items=items.filter(function(item){return item.title===nearestItem.title}),markersItems=markersItems.filter(function(item){return item.title===nearestItem.title})}if(!1===options.shared&&items.length>1){var snapItem=items[0],min=Math.abs(point.y-snapItem.y);Util.each(items,function(aItem){Math.abs(point.y-aItem.y)<=min&&(snapItem=aItem,min=Math.abs(point.y-aItem.y))}),snapItem&&snapItem.x&&snapItem.y&&(markersItems=[snapItem]),items=[snapItem]}self._setTooltip(point,items,markersItems,target)}else self.hideTooltip()}},_proto.clear=function(){var tooltip=this.tooltip;tooltip&&tooltip.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},_proto._getItemMarker=function(geom,color){var shapeType=geom.get("shapeType")||"point",shape=geom.getDefaultValue("shape")||"circle",shapeObject=Shape.getShapeFactory(shapeType),cfg={color:color};return shapeObject.getMarkerCfg(shape,cfg)},TooltipController}();module.exports=TooltipController},function(module,exports,__webpack_require__){function isSameShape(shape1,shape2){if(Util.isNil(shape1)||Util.isNil(shape2))return!1;var shape1Origin=shape1.get("origin"),shape2Origin=shape2.get("origin");return Util.isNil(shape1Origin)&&Util.isNil(shape2Origin)?Util.isEqual(shape1,shape2):Util.isEqual(shape1Origin,shape2Origin)}function registerData(eventObj){eventObj.shape&&eventObj.shape.get("origin")&&(eventObj.data=eventObj.shape.get("origin"))}var Util=__webpack_require__(0),EventController=function(){function EventController(cfg){this.view=null,this.canvas=null,Util.assign(this,cfg),this._init()}var _proto=EventController.prototype;return _proto._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},_proto._getShapeEventObj=function(ev){return{x:ev.x/this.pixelRatio,y:ev.y/this.pixelRatio,target:ev.target,toElement:ev.event.toElement||ev.event.relatedTarget}},_proto._getShape=function(x,y){return this.view.get("canvas").getShape(x,y)},_proto._getPointInfo=function(ev){var view=this.view,point={x:ev.x/this.pixelRatio,y:ev.y/this.pixelRatio},views=view.getViewsByPoint(point);return point.views=views,point},_proto._getEventObj=function(ev,point,views){return{x:point.x,y:point.y,target:ev.target,toElement:ev.event.toElement||ev.event.relatedTarget,views:views}},_proto.bindEvents=function(){var canvas=this.canvas;canvas.on("mousedown",Util.wrapBehavior(this,"onDown")),canvas.on("mousemove",Util.wrapBehavior(this,"onMove")),canvas.on("mouseleave",Util.wrapBehavior(this,"onOut")),canvas.on("mouseup",Util.wrapBehavior(this,"onUp")),canvas.on("click",Util.wrapBehavior(this,"onClick")),canvas.on("dblclick",Util.wrapBehavior(this,"onClick")),canvas.on("touchstart",Util.wrapBehavior(this,"onTouchstart")),canvas.on("touchmove",Util.wrapBehavior(this,"onTouchmove")),canvas.on("touchend",Util.wrapBehavior(this,"onTouchend"))},_proto._triggerShapeEvent=function(shape,eventName,eventObj){if(shape&&shape.name&&!shape.get("destroyed")){var view=this.view;if(view.isShapeInView(shape)){var name=shape.name+":"+eventName;eventObj.view=view,eventObj.appendInfo=shape.get("appendInfo"),view.emit(name,eventObj);var parent=view.get("parent");parent&&parent.emit(name,eventObj)}}},_proto.onDown=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,registerData(eventObj),view.emit("mousedown",eventObj),this._triggerShapeEvent(this.currentShape,"mousedown",eventObj)},_proto.onMove=function(ev){var self=this,view=self.view,currentShape=self.currentShape;currentShape&&currentShape.get("destroyed")&&(currentShape=null,self.currentShape=null);var shape=self._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=self._getShapeEventObj(ev);if(eventObj.shape=shape,registerData(eventObj),view.emit("mousemove",eventObj),self._triggerShapeEvent(shape,"mousemove",eventObj),currentShape&&!isSameShape(currentShape,shape)){var leaveObj=self._getShapeEventObj(ev);leaveObj.shape=currentShape,leaveObj.toShape=shape,registerData(leaveObj),self._triggerShapeEvent(currentShape,"mouseleave",leaveObj)}if(shape&&!isSameShape(currentShape,shape)){var enterObj=self._getShapeEventObj(ev);enterObj.shape=shape,enterObj.fromShape=currentShape,registerData(enterObj),self._triggerShapeEvent(shape,"mouseenter",enterObj)}self.currentShape=shape;var point=self._getPointInfo(ev),preViews=self.curViews||[];0===preViews.length&&point.views.length&&view.emit("plotenter",self._getEventObj(ev,point,point.views)),preViews.length&&0===point.views.length&&view.emit("plotleave",self._getEventObj(ev,point,preViews)),point.views.length&&(eventObj=self._getEventObj(ev,point,point.views),eventObj.shape=shape,registerData(eventObj),view.emit("plotmove",eventObj)),self.curViews=point.views},_proto.onOut=function(ev){var self=this,view=self.view,point=self._getPointInfo(ev),preViews=self.curViews||[],evtObj=self._getEventObj(ev,point,preViews);!self.curViews||0===self.curViews.length||evtObj.toElement&&"CANVAS"===evtObj.toElement.tagName||(view.emit("plotleave",evtObj),self.curViews=[])},_proto.onUp=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,view.emit("mouseup",eventObj),this._triggerShapeEvent(this.currentShape,"mouseup",eventObj)},_proto.onClick=function(ev){var self=this,view=self.view,shape=self._getShape(ev.x,ev.y)||ev.currentTarget,shapeEventObj=self._getShapeEventObj(ev);shapeEventObj.shape=shape,registerData(shapeEventObj),view.emit("click",shapeEventObj),self._triggerShapeEvent(shape,ev.type,shapeEventObj),self.currentShape=shape;var point=self._getPointInfo(ev),views=point.views;if(!Util.isEmpty(views)){var eventObj=self._getEventObj(ev,point,views);if(self.currentShape){var _shape=self.currentShape;eventObj.shape=_shape,registerData(eventObj)}"dblclick"===ev.type?(view.emit("plotdblclick",eventObj),view.emit("dblclick",shapeEventObj)):view.emit("plotclick",eventObj)}},_proto.onTouchstart=function(ev){var view=this.view,shape=this._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=this._getShapeEventObj(ev);eventObj.shape=shape,registerData(eventObj),view.emit("touchstart",eventObj),this._triggerShapeEvent(shape,"touchstart",eventObj),this.currentShape=shape},_proto.onTouchmove=function(ev){var view=this.view,shape=this._getShape(ev.x,ev.y)||ev.currentTarget,eventObj=this._getShapeEventObj(ev);eventObj.shape=shape,registerData(eventObj),view.emit("touchmove",eventObj),this._triggerShapeEvent(shape,"touchmove",eventObj),this.currentShape=shape},_proto.onTouchend=function(ev){var view=this.view,eventObj=this._getShapeEventObj(ev);eventObj.shape=this.currentShape,registerData(eventObj),view.emit("touchend",eventObj),this._triggerShapeEvent(this.currentShape,"touchend",eventObj)},_proto.clearEvents=function(){var canvas=this.canvas;canvas.off("mousemove",Util.getWrapBehavior(this,"onMove")),canvas.off("mouseleave",Util.getWrapBehavior(this,"onOut")),canvas.off("mousedown",Util.getWrapBehavior(this,"onDown")),canvas.off("mouseup",Util.getWrapBehavior(this,"onUp")),canvas.off("click",Util.getWrapBehavior(this,"onClick")),canvas.off("dblclick",Util.getWrapBehavior(this,"onClick")),canvas.off("touchstart",Util.getWrapBehavior(this,"onTouchstart")),canvas.off("touchmove",Util.getWrapBehavior(this,"onTouchmove")),canvas.off("touchend",Util.getWrapBehavior(this,"onTouchend"))},EventController}();module.exports=EventController},function(module,exports,__webpack_require__){function getShapes(container,viewId){var shapes=[];if(!1===container.get("animate"))return[];var children=container.get("children");return Util.each(children,function(child){if(child.isGroup)shapes=shapes.concat(getShapes(child,viewId));else if(child.isShape&&child._id){var id=child._id;id=id.split("-")[0],id===viewId&&shapes.push(child)}}),shapes}function cache(shapes){var rst={};return Util.each(shapes,function(shape){if(shape._id&&!shape.isClip){var id=shape._id;rst[id]={_id:id,type:shape.get("type"),attrs:Util.cloneDeep(shape.attr()),name:shape.name,index:shape.get("index"),animateCfg:shape.get("animateCfg"),coord:shape.get("coord")}}}),rst}function getAnimate(geomType,coord,animationType,animationName){return animationName?Animate.Action[animationType][animationName]:Animate.getAnimation(geomType,coord,animationType)}function getAnimateCfg(geomType,animationType,animateCfg){var defaultCfg=Animate.getAnimateCfg(geomType,animationType);return animateCfg&&animateCfg[animationType]?Util.deepMix({},defaultCfg,animateCfg[animationType]):defaultCfg}function addAnimate(cache,shapes,canvas,isUpdate){var animate,animateCfg,canvasDrawn=!1;if(isUpdate){var updateShapes=[],newShapes=[];Util.each(shapes,function(shape){var result=cache[shape._id];result?(shape.setSilent("cacheShape",result),updateShapes.push(shape),delete cache[shape._id]):newShapes.push(shape)}),Util.each(cache,function(deletedShape){var name=deletedShape.name,coord=deletedShape.coord,_id=deletedShape._id,attrs=deletedShape.attrs,index=deletedShape.index,type=deletedShape.type;if(animateCfg=getAnimateCfg(name,"leave",deletedShape.animateCfg),animate=getAnimate(name,coord,"leave",animateCfg.animation),Util.isFunction(animate)){var tempShape=canvas.addShape(type,{attrs:attrs,index:index});if(tempShape._id=_id,tempShape.name=name,coord&&"label"!==name){var tempShapeMatrix=tempShape.getMatrix(),finalMatrix=mat3.multiply([],tempShapeMatrix,coord.matrix);tempShape.setMatrix(finalMatrix)}canvasDrawn=!0,animate(tempShape,animateCfg,coord)}}),Util.each(updateShapes,function(updateShape){var name=updateShape.name,coord=updateShape.get("coord"),cacheAttrs=updateShape.get("cacheShape").attrs;if(!Util.isEqual(cacheAttrs,updateShape.attr())){if(animateCfg=getAnimateCfg(name,"update",updateShape.get("animateCfg")),animate=getAnimate(name,coord,"update",animateCfg.animation),Util.isFunction(animate))animate(updateShape,animateCfg,coord);else{var endState=Util.cloneDeep(updateShape.attr());updateShape.attr(cacheAttrs),updateShape.animate(endState,animateCfg.duration,animateCfg.easing,function(){updateShape.setSilent("cacheShape",null)})}canvasDrawn=!0}}),Util.each(newShapes,function(newShape){var name=newShape.name,coord=newShape.get("coord");animateCfg=getAnimateCfg(name,"enter",newShape.get("animateCfg")),animate=getAnimate(name,coord,"enter",animateCfg.animation),Util.isFunction(animate)&&(animate(newShape,animateCfg,coord),canvasDrawn=!0)})}else Util.each(shapes,function(shape){var name=shape.name,coord=shape.get("coord");animateCfg=getAnimateCfg(name,"appear",shape.get("animateCfg")),animate=getAnimate(name,coord,"appear",animateCfg.animation),Util.isFunction(animate)&&(animate(shape,animateCfg,coord),canvasDrawn=!0)});return canvasDrawn}var Util=__webpack_require__(0),Animate=__webpack_require__(126),MatrixUtil=Util.MatrixUtil,mat3=MatrixUtil.mat3;module.exports={execAnimation:function(view,isUpdate){var viewContainer=view.get("middlePlot"),axisContainer=view.get("backPlot"),viewId=view.get("_id"),canvas=view.get("canvas"),caches=canvas.get(viewId+"caches")||[];0===caches.length&&(isUpdate=!1);var shapes=getShapes(viewContainer,viewId),axisShapes=getShapes(axisContainer,viewId),cacheShapes=shapes.concat(axisShapes);canvas.setSilent(viewId+"caches",cache(cacheShapes));var drawn;(drawn=isUpdate?addAnimate(caches,cacheShapes,canvas,isUpdate):addAnimate(caches,shapes,canvas,isUpdate))||canvas.draw()}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),_require=__webpack_require__(16),Group=_require.Group,PlotBack=function(_Group){function PlotBack(){return _Group.apply(this,arguments)||this}_inheritsLoose(PlotBack,_Group);var _proto=PlotBack.prototype;return _proto.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_proto._beforeRenderUI=function(){this._calculateRange()},_proto._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},_proto._renderBackground=function(){var self=this,background=self.get("background");if(background){var canvas=this.get("canvas"),width=self.get("width")||canvas.get("width"),height=self.get("height")||canvas.get("height"),cfg={x:0,y:0,width:width,height:height},rect=self.get("backgroundShape");rect?rect.attr(cfg):(rect=this.addShape("rect",{attrs:Util.mix(cfg,background)}),this.set("backgroundShape",rect))}},_proto._renderPlotBackground=function(){var self=this,plotBackground=self.get("plotBackground");if(plotBackground){var plotRange=self.get("plotRange"),width=plotRange.br.x-plotRange.bl.x,height=plotRange.br.y-plotRange.tr.y,tl=plotRange.tl,cfg={x:tl.x,y:tl.y,width:width,height:height},plotBackShape=self.get("plotBackShape");plotBackShape?plotBackShape.attr(cfg):(plotBackground.image?(cfg.img=plotBackground.image,plotBackShape=self.addShape("image",{attrs:cfg})):(Util.mix(cfg,plotBackground),plotBackShape=self.addShape("rect",{attrs:cfg})),self.set("plotBackShape",plotBackShape))}},_proto._convert=function(val,isHorizontal){if(Util.isString(val))if("auto"===val)val=0;else if(-1!==val.indexOf("%")){var canvas=this.get("canvas"),width=this.get("width")||canvas.get("width"),height=this.get("height")||canvas.get("height");val=parseInt(val,10)/100,val=isHorizontal?val*width:val*height}return val},_proto._calculateRange=function(){var self=this,plotRange=self.get("plotRange");Util.isNil(plotRange)&&(plotRange={});var padding=self.get("padding"),canvas=this.get("canvas"),width=self.get("width")||canvas.get("width"),height=self.get("height")||canvas.get("height"),allPadding=Util.toAllPadding(padding),top=self._convert(allPadding[0],!1),right=self._convert(allPadding[1],!0),bottom=self._convert(allPadding[2],!1),left=self._convert(allPadding[3],!0),minX=Math.min(left,width-right),maxX=Math.max(left,width-right),minY=Math.min(height-bottom,top),maxY=Math.max(height-bottom,top);plotRange.tl={x:minX,y:minY},plotRange.tr={x:maxX,y:minY},plotRange.bl={x:minX,y:maxY},plotRange.br={x:maxX,y:maxY},plotRange.cc={x:(maxX+minX)/2,y:(maxY+minY)/2},this.set("plotRange",plotRange)},_proto.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},PlotBack}(Group);module.exports=PlotBack},function(module,exports,__webpack_require__){function findMinDistance(arr,scale){var count=arr.length;Util.isString(arr[0])&&(arr=arr.map(function(v){return scale.translate(v)}));for(var distance=arr[1]-arr[0],i=2;i<count;i++){var tmp=arr[i]-arr[i-1];distance>tmp&&(distance=tmp)}return distance}var Global=__webpack_require__(7),Util=__webpack_require__(0),SizeMixin={getDefaultSize:function(){var defaultSize=this.get("defaultSize"),viewTheme=this.get("viewTheme")||Global;if(!defaultSize){var count,coord=this.get("coord"),xScale=this.getXScale(),xValues=xScale.values,dataArray=this.get("dataArray");if(xScale.isLinear&&xValues.length>1){xValues.sort();var interval=findMinDistance(xValues,xScale);count=(xScale.max-xScale.min)/interval,xValues.length>count&&(count=xValues.length)}else count=xValues.length;var range=xScale.range,normalizeSize=1/count,widthRatio=1;if(this.isInCircle()?widthRatio=coord.isTransposed&&count>1?viewTheme.widthRatio.multiplePie:viewTheme.widthRatio.rose:(xScale.isLinear&&(normalizeSize*=range[1]-range[0]),widthRatio=viewTheme.widthRatio.column),normalizeSize*=widthRatio,this.hasAdjust("dodge")){normalizeSize/=this._getDodgeCount(dataArray)}defaultSize=normalizeSize,this.set("defaultSize",defaultSize)}return defaultSize},_getDodgeCount:function(dataArray){var dodgeBy,adjusts=this.get("adjusts"),count=dataArray.length;if(Util.each(adjusts,function(adjust){"dodge"===adjust.type&&(dodgeBy=adjust.dodgeBy)}),dodgeBy){var mergeData=Util.Array.merge(dataArray);count=Util.Array.values(mergeData,dodgeBy).length}return count},getDimWidth:function(dimName){var coord=this.get("coord"),start=coord.convertPoint({x:0,y:0}),end=coord.convertPoint({x:"x"===dimName?1:0,y:"x"===dimName?0:1}),width=0;return start&&end&&(width=Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2))),width},_getWidth:function(){var coord=this.get("coord");return this.isInCircle()&&!coord.isTransposed?(coord.endAngle-coord.startAngle)*coord.radius:this.getDimWidth("x")},_toNormalizedSize:function(size){return size/this._getWidth()},_toCoordSize:function(normalizeSize){return this._getWidth()*normalizeSize},getNormalizedSize:function(obj){var size=this.getAttrValue("size",obj);return size=Util.isNil(size)?this.getDefaultSize():this._toNormalizedSize(size)},getSize:function(obj){var size=this.getAttrValue("size",obj);if(Util.isNil(size)){var normalizeSize=this.getDefaultSize();size=this._toCoordSize(normalizeSize)}return size}};module.exports=SizeMixin},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Global=__webpack_require__(7);module.exports={splitData:function(data){var viewTheme=this.get("viewTheme")||Global;if(!data.length)return[];var yValue,arr=[],tmp=[],yScale=this.getYScale(),yDim=yScale.field;return Util.each(data,function(obj){yValue=obj._origin?obj._origin[yDim]:obj[yDim],viewTheme.connectNulls?Util.isNil(yValue)||tmp.push(obj):Util.isArray(yValue)&&Util.isNil(yValue[0])||Util.isNil(yValue)?tmp.length&&(arr.push(tmp),tmp=[]):tmp.push(obj)}),tmp.length&&arr.push(tmp),arr}}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),SplitMixin=__webpack_require__(358),Util=__webpack_require__(0),Path=function(_GeomBase){function Path(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SplitMixin),_this}_inheritsLoose(Path,_GeomBase);var _proto=Path.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="path",cfg.shapeType="line",cfg},_proto.getDrawCfg=function(obj){var cfg=_GeomBase.prototype.getDrawCfg.call(this,obj);return cfg.isStack=this.hasStack(),cfg},_proto.draw=function(data,container,shapeFactory,index){var self=this,splitArray=this.splitData(data),cfg=this.getDrawCfg(data[0]);self._applyViewThemeShapeStyle(cfg,cfg.shape,shapeFactory),cfg.origin=data,Util.each(splitArray,function(subData,splitedIndex){if(!Util.isEmpty(subData)){cfg.splitedIndex=splitedIndex,cfg.points=subData;var geomShape=shapeFactory.drawShape(cfg.shape,cfg,container);self.appendShapeInfo(geomShape,index+splitedIndex)}})},Path}(GeomBase);GeomBase.Path=Path,module.exports=Path},function(module,__webpack_exports__,__webpack_require__){"use strict";function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===__WEBPACK_IMPORTED_MODULE_1__namespaces__.b&&document.documentElement.namespaceURI===__WEBPACK_IMPORTED_MODULE_1__namespaces__.b?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}var __WEBPACK_IMPORTED_MODULE_0__namespace__=__webpack_require__(370),__WEBPACK_IMPORTED_MODULE_1__namespaces__=__webpack_require__(371);__webpack_exports__.a=function(name){var fullname=Object(__WEBPACK_IMPORTED_MODULE_0__namespace__.a)(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(node,event){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,point=point.matrixTransform(node.getScreenCTM().inverse()),[point.x,point.y]}var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}},function(module,__webpack_exports__,__webpack_require__){"use strict";function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id),tween=schedule.tween;if(tween!==tween0){tween1=tween0=tween;for(var i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1=tween1.slice(),tween1.splice(i,1);break}}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name:name,value:value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each(function(){var schedule=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)}),function(node){return Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(node,id).value[name]}}__webpack_exports__.b=tweenValue;var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);__webpack_exports__.a=function(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))}},function(module,exports,__webpack_require__){var Global=__webpack_require__(7),Util=__webpack_require__(0),assign=Util.assign,isNil=Util.isNil,isArray=Util.isArray,cloneDeep=Util.cloneDeep,wrapBehavior=Util.wrapBehavior,getWrapBehavior=Util.getWrapBehavior,Base=function(){function Base(cfg){var defaultCfg=this.getDefaultCfg();assign(this,defaultCfg,cfg),this.init()}var _proto=Base.prototype;return _proto.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:Global.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:Global.fontFamily}}}},_proto.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},_proto.initContainer=function(){var chart=this.chart,frontPlot=chart.get("frontPlot"),group=frontPlot.addGroup();this.group=group},_proto.initViews=function(){for(var chart=this.chart,data=chart.get("data"),eachView=this.eachView,facets=this.generateFacets(data),i=0;i<facets.length;i++){var facet=facets[i],region=facet.region,view=chart.view({start:region.start,end:region.end,padding:this.padding});view.source(facet.data),this.beforeProcessView(view,facet),eachView&&eachView(view,facet),this.afterProcessView(view,facet),facet.view=view}this.facets=facets},_proto.beforeProcessView=function(){},_proto.afterProcessView=function(view,facet){this.autoSetAxis&&this.processAxis(view,facet)},_proto.processAxis=function(view,facet){var viewOptions=view.get("options"),geoms=view.get("geoms");if((!viewOptions.coord.type||"rect"===viewOptions.coord.type)&&geoms.length){var field=geoms[0].get("attrOptions").position.field,fields=isArray(field)?field:field.split("*").map(function(str){return str.trim()}),xField=fields[0],yField=fields[1];isNil(viewOptions.axes)&&(viewOptions.axes={});var axes=viewOptions.axes;!1!==axes&&(xField&&!1!==axes[xField]&&(axes[xField]=axes[xField]||{},this.setXAxis(xField,axes,facet)),yField&&!1!==axes[yField]&&(axes[yField]=axes[yField]||{},this.setYAxis(yField,axes,facet)))}},_proto.setXAxis=function(){},_proto.setYAxis=function(){},_proto.renderTitle=function(view,facet){this.drawColTitle(view,facet)},_proto.getScaleText=function(field,value,view){var rst;if(field){var scales=view.get("scales"),scale=scales[field];scale||(scale=view.createScale(field)),rst=scale.getText(value)}else rst=value;return rst},_proto.drawColTitle=function(view,facet){var text=this.getScaleText(facet.colField,facet.colValue,view),colTextCfg=assign({position:["50%","0%"],content:text},this.colTitle);view.guide().text(colTextCfg)},_proto.drawRowTitle=function(view,facet){var text=this.getScaleText(facet.rowField,facet.rowValue,view),rowTextCfg=assign({position:["100%","50%"],content:text},cloneDeep(this.rowTitle));view.guide().text(rowTextCfg)},_proto.getFilter=function(conditions){return function(obj){var filtered=!0;return conditions.forEach(function(cond){var field=cond.field,value=cond.value,tmp=!0;!isNil(value)&&field&&(tmp=obj[field]===value),filtered=filtered&&tmp}),filtered}},_proto.getFieldValues=function(field,data){for(var rst=[],tmpMap={},i=0;i<data.length;i++){var obj=data[i],value=obj[field];isNil(value)||tmpMap[value]||(rst.push(value),tmpMap[value]=!0)}return rst},_proto.getRegion=function(rows,cols,xIndex,yIndex){var xWidth=1/cols,yWidth=1/rows,start={x:xWidth*xIndex,y:yWidth*yIndex};return{start:start,end:{x:start.x+xWidth,y:start.y+yWidth}}},_proto.generateFacets=function(){return[]},_proto._bindEvent=function(){var chart=this.chart;chart.on("afterchangedata",wrapBehavior(this,"onDataChange")),chart.on("beforeclear",wrapBehavior(this,"onClear")),chart.on("beforedestroy",wrapBehavior(this,"destroy")),chart.on("beforepaint",wrapBehavior(this,"onPaint")),chart.on("setdata",wrapBehavior(this,"onDataChange"))},_proto._clearEvent=function(){var chart=this.chart;chart&&(chart.off("afterchangedata",getWrapBehavior(this,"onDataChange")),chart.off("beforeclear",getWrapBehavior(this,"onClear")),chart.off("beforedestroy",getWrapBehavior(this,"destroy")),chart.off("beforepaint",getWrapBehavior(this,"onPaint")),chart.off("setdata",getWrapBehavior(this,"onDataChange")))},_proto._clearFacets=function(){var facets=this.facets,chart=this.chart;if(facets)for(var i=0;i<facets.length;i++){var facet=facets[i];chart.removeView(facet.view)}this.facets=null},_proto.onClear=function(){this.onRemove()},_proto.onPaint=function(){if(this.showTitle)for(var facets=this.facets,i=0;i<facets.length;i++){var facet=facets[i],view=facet.view;this.renderTitle(view,facet)}},_proto.onDataChange=function(){this._clearFacets(),this.initViews()},_proto.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},_proto.destroy=function(){this.onRemove(),this.destroyed=!0},Base}();module.exports=Base},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(365);var Interval=function(_GeomBase){function Interval(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}_inheritsLoose(Interval,_GeomBase);var _proto=Interval.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="interval",cfg.shapeType="interval",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);return cfg.size=this.getNormalizedSize(obj),cfg},_proto.clearInner=function(){_GeomBase.prototype.clearInner.call(this),this.set("defaultSize",null)},Interval}(GeomBase),IntervalStack=function(_Interval){function IntervalStack(){return _Interval.apply(this,arguments)||this}return _inheritsLoose(IntervalStack,_Interval),IntervalStack.prototype.getDefaultCfg=function(){var cfg=_Interval.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},IntervalStack}(Interval),IntervalDodge=function(_Interval2){function IntervalDodge(){return _Interval2.apply(this,arguments)||this}return _inheritsLoose(IntervalDodge,_Interval2),IntervalDodge.prototype.getDefaultCfg=function(){var cfg=_Interval2.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},IntervalDodge}(Interval),IntervalSymmetric=function(_Interval3){function IntervalSymmetric(){return _Interval3.apply(this,arguments)||this}return _inheritsLoose(IntervalSymmetric,_Interval3),IntervalSymmetric.prototype.getDefaultCfg=function(){var cfg=_Interval3.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"symmetric"}],cfg},IntervalSymmetric}(Interval);Interval.Stack=IntervalStack,Interval.Dodge=IntervalDodge,Interval.Symmetric=IntervalSymmetric,GeomBase.Interval=Interval,GeomBase.IntervalStack=IntervalStack,GeomBase.IntervalDodge=IntervalDodge,GeomBase.IntervalSymmetric=IntervalSymmetric,module.exports=Interval},function(module,exports,__webpack_require__){function getRectPoints(cfg,isPyramid){var x=cfg.x,y=cfg.y,y0=cfg.y0,width=cfg.size,ymin=y0,ymax=y;Util.isArray(y)&&(ymax=y[1],ymin=y[0]);var xmin,xmax;Util.isArray(x)?(xmin=x[0],xmax=x[1]):(xmin=x-width/2,xmax=x+width/2);var points=[];return points.push({x:xmin,y:ymin},{x:xmin,y:ymax}),isPyramid?points.push({x:xmax,y:(ymax+ymin)/2}):points.push({x:xmax,y:ymax},{x:xmax,y:ymin}),points}function getRectPath(points){for(var path=[],i=0;i<points.length;i++){var point=points[i];if(point){var action=0===i?"M":"L";path.push([action,point.x,point.y])}}var first=points[0];return path.push(["L",first.x,first.y]),path.push(["z"]),path}function getLinePoints(cfg){var x=cfg.x,y=cfg.y,y0=cfg.y0,points=[];return Util.isArray(y)?Util.each(y,function(yItem,idx){points.push({x:Util.isArray(x)?x[idx]:x,y:yItem})}):points.push({x:x,y:y},{x:x,y:y0}),points}function getTickPoints(cfg){var x=cfg.x,y=Util.isArray(cfg.y)?cfg.y[1]:cfg.y,y0=Util.isArray(cfg.y)?cfg.y[0]:cfg.y0,barWidth=cfg.size,points=[];return points.push({x:x-barWidth/2,y:y},{x:x+barWidth/2,y:y},{x:x,y:y},{x:x,y:y0},{x:x-barWidth/2,y:y0},{x:x+barWidth/2,y:y0}),points}function getTickPath(points){var path=[];return path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y]),path}function getFillAttrs(cfg){var defaultAttrs=Global.shape.interval,attrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addFillAttrs(attrs,cfg),cfg.color&&(attrs.stroke=attrs.stroke||cfg.color),attrs}function getLineAttrs(cfg){var defaultAttrs=Global.shape.hollowInterval,attrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addStrokeAttrs(attrs,cfg),attrs}function getFunnelPath(cfg,isFunnel){var path=[],points=cfg.points,nextPoints=cfg.nextPoints;return Util.isNil(nextPoints)?isFunnel?path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["L",points[2].x,points[2].y],["L",points[3].x,points[3].y],["Z"]):path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["L",points[2].x,points[2].y],["L",points[2].x,points[2].y],["Z"]):path.push(["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["L",nextPoints[1].x,nextPoints[1].y],["L",nextPoints[0].x,nextPoints[0].y],["Z"]),path}function getThetaCfg(point,coord){var startAngle,endAngle,startPoint,endPoint,r=coord.getRadius(),inner=coord.innerRadius,ir=r*inner;return!Util.isArray(point.x)&&Util.isArray(point.y)&&(point.x=[point.x,point.x]),Util.isArray(point.x)?(startPoint={x:point.x[0],y:point.y[0]},endPoint={x:point.x[1],y:point.y[1]},startAngle=PathUtil.getPointAngle(coord,startPoint),(endAngle=PathUtil.getPointAngle(coord,endPoint))<=startAngle&&(endAngle+=2*Math.PI)):(endPoint=point,startAngle=coord.startAngle,endAngle=PathUtil.getPointAngle(coord,endPoint)),{r:r,ir:ir,startAngle:startAngle,endAngle:endAngle}}function _getSelectedCfg(type,cfg){var selectedCfg,geom=cfg.geom,coord=geom.get("coord"),point=cfg.point;if(coord&&"theta"===coord.type){var thetaCfg=getThetaCfg(point,coord),middleAngle=(thetaCfg.endAngle-thetaCfg.startAngle)/2+thetaCfg.startAngle;selectedCfg={transform:[["t",7.5*Math.cos(middleAngle),7.5*Math.sin(middleAngle)]]}}return Util.mix({},selectedCfg)}function getWaterWavePositions(x,stage,waveLength,amplitude){return 0===stage?[[x+.5*waveLength/Math.PI/2,amplitude/2],[x+.5*waveLength/Math.PI,amplitude],[x+waveLength/4,amplitude]]:1===stage?[[x+.5*waveLength/Math.PI/2*(Math.PI-2),amplitude],[x+.5*waveLength/Math.PI/2*(Math.PI-1),amplitude/2],[x+waveLength/4,0]]:2===stage?[[x+.5*waveLength/Math.PI/2,-amplitude/2],[x+.5*waveLength/Math.PI,-amplitude],[x+waveLength/4,-amplitude]]:[[x+.5*waveLength/Math.PI/2*(Math.PI-2),-amplitude],[x+.5*waveLength/Math.PI/2*(Math.PI-1),-amplitude/2],[x+waveLength/4,0]]}function getWaterWavePath(radius,waterLevel,waveLength,phase,amplitude,cx,cy){for(var curves=2*Math.ceil(2*radius/waveLength*4),path=[];phase<2*-Math.PI;)phase+=2*Math.PI;for(;phase>0;)phase-=2*Math.PI;phase=phase/Math.PI/2*waveLength;var left=cx-radius+phase-2*radius;path.push(["M",left,waterLevel]);for(var waveRight=0,c=0;c<curves;++c){var stage=c%4,pos=getWaterWavePositions(c*waveLength/4,stage,waveLength,amplitude);path.push(["C",pos[0][0]+left,-pos[0][1]+waterLevel,pos[1][0]+left,-pos[1][1]+waterLevel,pos[2][0]+left,-pos[2][1]+waterLevel]),c===curves-1&&(waveRight=pos[2][0])}return path.push(["L",waveRight+left,cy+radius]),path.push(["L",left,cy+radius]),path.push(["L",left,waterLevel]),path}function addWaterWave(x,y,level,waveCount,colors,group,clip,radius){for(var bbox=clip.getBBox(),width=bbox.maxX-bbox.minX,height=bbox.maxY-bbox.minY,i=0;i<waveCount;i++){var wave=group.addShape("path",{attrs:{path:getWaterWavePath(radius,bbox.minY+height*level,width/4,0,width/64,x,y),fill:colors[i],clip:clip}});"canvas"===Global.renderer&&wave.animate({transform:[["t",width/2,0]],repeat:!0},5e3-300*i)}}var Util=__webpack_require__(0),Shape=__webpack_require__(18),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),G=__webpack_require__(16),GPathUtil=Util.PathUtil,Interval=Shape.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(type,cfg){if(!type||Util.inArray(["rect","funnel","pyramid"],type)){return{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.15}}return{lineWidth:(cfg.lineWidth||0)+1}},getDefaultPoints:function(pointInfo){return getRectPoints(pointInfo)},getSelectedCfg:function(type,cfg){return _getSelectedCfg(type,cfg)}});Shape.registerShape("interval","rect",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var rectCfg=getFillAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),Shape.registerShape("interval","hollowRect",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var rectCfg=getLineAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),Shape.registerShape("interval","line",{getPoints:function(pointInfo){return getLinePoints(pointInfo)},draw:function(cfg,container){var attrs=getLineAttrs(cfg);attrs.lineWidth=cfg.size||1;var path=getRectPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var lineCfg=getLineAttrs(cfg);return Util.mix({symbol:"line",radius:5},lineCfg)}}),Shape.registerShape("interval","tick",{getPoints:function(pointInfo){return getTickPoints(pointInfo)},draw:function(cfg,container){var attrs=getLineAttrs(cfg);attrs.lineWidth||(attrs.lineWidth=2);var path=getTickPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var lineCfg=getLineAttrs(cfg);return Util.mix({symbol:"tick",radius:5},lineCfg)}}),Shape.registerShape("interval","funnel",{getPoints:function(pointInfo){return pointInfo.size=2*pointInfo.size,getRectPoints(pointInfo)},draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getFunnelPath(cfg,!0);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var funnelCfg=getFillAttrs(cfg);return Util.mix({symbol:"square",radius:4},funnelCfg)}}),Shape.registerShape("interval","pyramid",{getPoints:function(pointInfo){return pointInfo.size=2*pointInfo.size,getRectPoints(pointInfo,!0)},draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getFunnelPath(cfg,!1);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){var funnelCfg=getFillAttrs(cfg);return Util.mix({symbol:"square",radius:4},funnelCfg)}}),Shape.registerShape("interval","liquid-fill-gauge",{draw:function(cfg,container){var self=this,sumX=0,minX=1/0;Util.each(cfg.points,function(p){p.x<minX&&(minX=p.x),sumX+=p.x});var cx=sumX/cfg.points.length,cp=self.parsePoint({x:cx,y:.5}),minP=self.parsePoint({x:minX,y:.5}),xWidth=cp.x-minP.x,radius=Math.min(xWidth,minP.y),attrs=getFillAttrs(cfg),clipCircle=new G.Circle({attrs:{x:cp.x,y:cp.y,r:radius}});return addWaterWave(cp.x,cp.y,cfg.y/(2*cp.y),1,[attrs.fill],container,clipCircle,4*radius),container.addShape("circle",{attrs:Util.mix(getLineAttrs(cfg),{x:cp.x,y:cp.y,r:radius+radius/8})})}});var pathMetaCache={};Shape.registerShape("interval","liquid-fill-path",{draw:function(cfg,container){var self=this,attrs=Util.mix({},getFillAttrs(cfg)),path=cfg.shape[1],sumX=0,minX=1/0;Util.each(cfg.points,function(p){p.x<minX&&(minX=p.x),sumX+=p.x});var pathMeta,cx=sumX/cfg.points.length,cp=self.parsePoint({x:cx,y:.5}),minP=self.parsePoint({x:minX,y:.5}),xWidth=cp.x-minP.x,radius=Math.min(xWidth,minP.y);if(pathMetaCache[path])pathMeta=pathMetaCache[path];else{var segments=GPathUtil.parsePathString(path);pathMetaCache[path]=pathMeta={segments:segments}}var transform=[];attrs.rotate&&(transform.push(["r",attrs.rotate/180*Math.PI]),delete attrs.rotate);var shape=container.addShape("path",{attrs:Util.mix(attrs,{fillOpacity:0,path:pathMeta.segments})}),bbox=Util.cloneDeep(shape.getBBox()),rangeX=bbox.maxX-bbox.minX,rangeY=bbox.maxY-bbox.minY,range=Math.max(rangeX,rangeY),scale=2*radius/range;shape.transform(transform.concat([["s",scale,scale]]));var dw=scale*rangeX/2,dh=scale*rangeY/2;shape.transform([["t",cp.x-dw,cp.y-dh]]),addWaterWave(cp.x,cp.y,cfg.y/(2*cp.y),1,[attrs.fill],container,shape,4*minP.y);var keyShape=container.addShape("path",{attrs:Util.mix(getLineAttrs(cfg),{path:pathMeta.segments})});return keyShape.transform(transform.concat([["s",scale,scale],["t",cp.x-dw,cp.y-dh]])),keyShape}}),Shape.registerShape("interval","top-line",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),style=cfg.style||{},linePath=[["M",cfg.points[1].x,cfg.points[1].y],["L",cfg.points[2].x,cfg.points[2].y]],lineAttrs={stroke:style.stroke||"white",lineWidth:style.lineWidth||1,path:this.parsePath(linePath)},path=getRectPath(cfg.points);path=this.parsePath(path),delete attrs.stroke;var rectShape=container.addShape("path",{attrs:Util.mix(attrs,{zIndex:0,path:path})});return container.addShape("path",{zIndex:1,attrs:lineAttrs}),rectShape},getMarkerCfg:function(cfg){var rectCfg=getFillAttrs(cfg),isInCircle=cfg.isInCircle;return Util.mix({symbol:isInCircle?"circle":"square",radius:isInCircle?4.5:4},rectCfg)}}),module.exports=Interval},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Path=__webpack_require__(359);__webpack_require__(367);var Line=function(_Path){function Line(){return _Path.apply(this,arguments)||this}return _inheritsLoose(Line,_Path),Line.prototype.getDefaultCfg=function(){var cfg=_Path.prototype.getDefaultCfg.call(this);return cfg.type="line",cfg.sortable=!0,cfg},Line}(Path),LineStack=function(_Line){function LineStack(){return _Line.apply(this,arguments)||this}return _inheritsLoose(LineStack,_Line),LineStack.prototype.getDefaultCfg=function(){var cfg=_Line.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},LineStack}(Line);Line.Stack=LineStack,GeomBase.Line=Line,GeomBase.LineStack=LineStack,module.exports=Line},function(module,exports,__webpack_require__){function getAttrs(cfg){var defaultCfg=Global.shape.line,lineAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),cfg.size&&(lineAttrs.lineWidth=cfg.size),lineAttrs}function getMarkerAttrs(cfg){var defaultCfg=Global.shape.line,lineAttrs=Util.mix({lineWidth:2,radius:6},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}function getRangePath(points,smooth,isInCircle,cfg){for(var topPoints=[],isStack=cfg.isStack,bottomPoints=[],i=0;i<points.length;i++){var point=points[i],tmp=ShapeUtil.splitPoints(point);bottomPoints.push(tmp[0]),topPoints.push(tmp[1])}var topPath=getSinglePath(topPoints,smooth,isInCircle,cfg),bottomPath=getSinglePath(bottomPoints,smooth,isInCircle,cfg);return isStack?topPath:topPath.concat(bottomPath)}function getSinglePath(points,smooth,isInCircle,cfg){var path;if(smooth){var constraint=cfg.constraint;isInCircle&&points.length&&points.push({x:points[0].x,y:points[0].y}),path=PathUtil.getSplinePath(points,!1,constraint)}else path=PathUtil.getLinePath(points,!1),isInCircle&&path.push(["Z"]);return path}function getPath(cfg,smooth){var points=cfg.points,isInCircle=cfg.isInCircle,first=points[0];return Util.isArray(first.y)?getRangePath(points,smooth,isInCircle,cfg):getSinglePath(points,smooth,isInCircle,cfg)}function _interpPoints(points,fn){var tmpPoints=[];return Util.each(points,function(point,index){var nextPoint=points[index+1];tmpPoints.push(point),nextPoint&&(tmpPoints=tmpPoints.concat(fn(point,nextPoint)))}),tmpPoints}function _getInterPath(points){var path=[];return Util.each(points,function(point,index){var subPath=0===index?["M",point.x,point.y]:["L",point.x,point.y];path.push(subPath)}),path}function _getInterPointShapeCfg(cfg,fn){return _getInterPath(_interpPoints(cfg.points,fn))}function _markerFn(x,y,r){return[["M",x-r,y],["L",x+r,y]]}function _smoothMarkerFn(x,y,r){return[["M",x-r,y],["A",r/2,r/2,0,1,1,x,y],["A",r/2,r/2,0,1,0,x+r,y]]}function _getMarkerCfg(cfg,smooth){return Util.mix({symbol:smooth?_smoothMarkerFn:_markerFn},getMarkerAttrs(cfg))}function _getInterMarkerCfg(cfg,fn){return Util.mix({symbol:fn},getMarkerAttrs(cfg))}function drawPointShape(shapeObj,cfg,container){var point=cfg.points[0];return container.addShape("circle",{attrs:Util.mix({x:point.x,y:point.y,r:2,fill:cfg.color},cfg.style)})}var Util=__webpack_require__(0),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Shape=__webpack_require__(18),Global=__webpack_require__(7),DOT_ARR=[1,1],DASH_ARR=[5.5,1],Line=Shape.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(type,cfg){return{lineWidth:(cfg.lineWidth||0)+1}},getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)},drawShape:function(type,cfg,container){var gShape,shape=this.getShape(type);return gShape=1===cfg.points.length&&Global.showSinglePoint?drawPointShape(this,cfg,container):shape.draw(cfg,container),gShape&&(gShape.set("origin",cfg.origin),gShape._id=cfg.splitedIndex?cfg._id+cfg.splitedIndex:cfg._id,gShape.name=this.name),gShape}});Shape.registerShape("line","line",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("line","dot",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix(attrs,{path:path,lineDash:DOT_ARR})})},getMarkerCfg:function(cfg){var tmp=_getMarkerCfg(cfg,!1);return tmp.lineDash=DOT_ARR,tmp}}),Shape.registerShape("line","dash",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getPath(cfg,!1);return container.addShape("path",{attrs:Util.mix({path:path,lineDash:DASH_ARR},attrs)})},getMarkerCfg:function(cfg){var tmp=_getMarkerCfg(cfg,!1);return tmp.lineDash=tmp.lineDash||DASH_ARR,tmp}}),Shape.registerShape("line","smooth",{draw:function(cfg,container){var attrs=getAttrs(cfg),coord=this._coord;cfg.constraint=[[coord.start.x,coord.end.y],[coord.end.x,coord.start.y]];var path=getPath(cfg,!0);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg,!0)}}),Shape.registerShape("line","hv",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[];return tmp.push({x:nextPoint.x,y:point.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-r-1,y-2.5],["L",x,y-2.5],["L",x,y+2.5],["L",x+r+1,y+2.5]]})}}),Shape.registerShape("line","vh",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[];return tmp.push({x:point.x,y:nextPoint.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-r-1,y+2.5],["L",x,y+2.5],["L",x,y-2.5],["L",x+r+1,y-2.5]]})}}),Shape.registerShape("line","hvh",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[],middlex=(nextPoint.x-point.x)/2+point.x;return tmp.push({x:middlex,y:point.y}),tmp.push({x:middlex,y:nextPoint.y}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y,r){return[["M",x-(r+1),y+2.5],["L",x-r/2,y+2.5],["L",x-r/2,y-2.5],["L",x+r/2,y-2.5],["L",x+r/2,y+2.5],["L",x+r+1,y+2.5]]})}}),Shape.registerShape("line","vhv",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=_getInterPointShapeCfg(cfg,function(point,nextPoint){var tmp=[],middley=(nextPoint.y-point.y)/2+point.y;return tmp.push({x:point.x,y:middley}),tmp.push({x:nextPoint.x,y:middley}),tmp});return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getInterMarkerCfg(cfg,function(x,y){return[["M",x-5,y+2.5],["L",x-5,y],["L",x,y],["L",x,y-3],["L",x,y+3],["L",x+6.5,y+3]]})}}),Line.spline=Line.smooth,module.exports=Line},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0);__webpack_require__(369);var Point=function(_GeomBase){function Point(){return _GeomBase.apply(this,arguments)||this}_inheritsLoose(Point,_GeomBase);var _proto=Point.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="point",cfg.shapeType="point",cfg.generatePoints=!0,cfg},_proto.drawPoint=function(obj,container,shapeFactory,index){var self=this,shape=obj.shape,cfg=self.getDrawCfg(obj);self._applyViewThemeShapeStyle(cfg,shape,shapeFactory);var geomShape;if(Util.isArray(obj.y)){var hasAdjust=self.hasStack();Util.each(obj.y,function(y,idx){cfg.y=y,cfg.yIndex=idx,hasAdjust&&0===idx||(geomShape=shapeFactory.drawShape(shape,cfg,container),self.appendShapeInfo(geomShape,index+idx))})}else Util.isNil(obj.y)||(geomShape=shapeFactory.drawShape(shape,cfg,container),self.appendShapeInfo(geomShape,index))},Point}(GeomBase),PointJitter=function(_Point){function PointJitter(){return _Point.apply(this,arguments)||this}return _inheritsLoose(PointJitter,_Point),PointJitter.prototype.getDefaultCfg=function(){var cfg=_Point.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"jitter"}],cfg},PointJitter}(Point),PointStack=function(_Point2){function PointStack(){return _Point2.apply(this,arguments)||this}return _inheritsLoose(PointStack,_Point2),PointStack.prototype.getDefaultCfg=function(){var cfg=_Point2.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},PointStack}(Point);Point.Jitter=PointJitter,Point.Stack=PointStack,GeomBase.Point=Point,GeomBase.PointJitter=PointJitter,GeomBase.PointStack=PointStack,module.exports=Point},function(module,exports,__webpack_require__){function getFillAttrs(cfg){var defaultAttrs=Global.shape.point,pointAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addFillAttrs(pointAttrs,cfg),Util.isNumber(cfg.size)&&(pointAttrs.radius=cfg.size),pointAttrs}function getLineAttrs(cfg){var defaultAttrs=Global.shape.hollowPoint,pointAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addStrokeAttrs(pointAttrs,cfg),Util.isNumber(cfg.size)&&(pointAttrs.radius=cfg.size),pointAttrs}function getRectPath(cfg){var x=cfg.points[0].x,y=cfg.points[0].y,w=cfg.size[0],h=cfg.size[1];return[["M",x-.5*w,y-.5*h],["L",x+.5*w,y-.5*h],["L",x+.5*w,y+.5*h],["L",x-.5*w,y+.5*h],["z"]]}var Util=__webpack_require__(0),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),Shape=__webpack_require__(18),_require=__webpack_require__(16),Marker=_require.Marker,PathUtil=Util.PathUtil,SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],HOLLOW_SHAPES=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],SQRT_3=Math.sqrt(3);Util.mix(Marker.Symbols,{hexagon:function(x,y,r){var diffX=r/2*SQRT_3;return[["M",x,y-r],["L",x+diffX,y-r/2],["L",x+diffX,y+r/2],["L",x,y+r],["L",x-diffX,y+r/2],["L",x-diffX,y-r/2],["Z"]]},bowtie:function(x,y,r){var diffY=r-1.5;return[["M",x-r,y-diffY],["L",x+r,y+diffY],["L",x+r,y-diffY],["L",x-r,y+diffY],["Z"]]},cross:function(x,y,r){return[["M",x-r,y-r],["L",x+r,y+r],["M",x+r,y-r],["L",x-r,y+r]]},tick:function(x,y,r){return[["M",x-r/2,y-r],["L",x+r/2,y-r],["M",x,y-r],["L",x,y+r],["M",x-r/2,y+r],["L",x+r/2,y+r]]},plus:function(x,y,r){return[["M",x-r,y],["L",x+r,y],["M",x,y-r],["L",x,y+r]]},hyphen:function(x,y,r){return[["M",x-r,y],["L",x+r,y]]},line:function(x,y,r){return[["M",x,y-r],["L",x,y+r]]}});var Point=Shape.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(type,cfg){var color,radius=cfg.radius;return color=type&&(0===type.indexOf("hollow")||-1!==Util.indexOf(HOLLOW_SHAPES,type))||!type?cfg.stroke||cfg.strokeStyle:cfg.fill||cfg.fillStyle,{radius:radius+1,shadowBlur:radius,shadowColor:color,stroke:color,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)}});Shape.registerShape("point","rect",{draw:function(cfg,container){var rectAttrs=getFillAttrs(cfg),path=getRectPath(cfg);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(rectAttrs,{path:path})})},getMarkerCfg:function(cfg){var attrs=getFillAttrs(cfg);return attrs.symbol="rect",attrs.radius=4.5,attrs}}),Util.each(SHAPES,function(shape){Shape.registerShape("point",shape,{draw:function(cfg,container){var attrs=getFillAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getFillAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}}),Shape.registerShape("point","hollow"+Util.upperFirst(shape),{draw:function(cfg,container){var attrs=getLineAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getLineAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}})}),Util.each(HOLLOW_SHAPES,function(shape){Shape.registerShape("point",shape,{draw:function(cfg,container){var attrs=getLineAttrs(cfg);return container.addShape("Marker",{attrs:Util.mix(attrs,{symbol:shape,x:cfg.x,y:cfg.y})})},getMarkerCfg:function(cfg){var attrs=getLineAttrs(cfg);return attrs.symbol=shape,attrs.radius=4.5,attrs}})}),Shape.registerShape("point","image",{draw:function(cfg,container){return cfg.points=this.parsePoints(cfg.points),container.addShape("image",{attrs:{x:cfg.points[0].x-cfg.size/2,y:cfg.points[0].y-cfg.size,width:cfg.size,height:cfg.size,img:cfg.shape[1]}})}});var pathMetaCache={};Shape.registerShape("point","path",{draw:function(cfg,container){var pathMeta,attrs=Util.mix({},getLineAttrs(cfg),getFillAttrs(cfg)),path=cfg.shape[1],size=cfg.size||10;if(pathMetaCache[path])pathMeta=pathMetaCache[path];else{var segments=PathUtil.parsePathString(path),nums=Util.flatten(segments).filter(function(num){return Util.isNumber(num)});pathMetaCache[path]=pathMeta={range:Math.max.apply(null,nums)-Math.min.apply(null,nums),segments:segments}}var scale=size/pathMeta.range,transform=[];attrs.rotate&&(transform.push(["r",attrs.rotate/180*Math.PI]),delete attrs.rotate);var shape=container.addShape("path",{attrs:Util.mix(attrs,{path:pathMeta.segments})});return transform.push(["s",scale,scale],["t",cfg.x,cfg.y]),shape.transform(transform),shape}}),module.exports=Point},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__namespaces__=__webpack_require__(371);__webpack_exports__.a=function(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),__WEBPACK_IMPORTED_MODULE_0__namespaces__.a.hasOwnProperty(prefix)?{space:__WEBPACK_IMPORTED_MODULE_0__namespaces__.a[prefix],local:name}:name}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return xhtml});var xhtml="http://www.w3.org/1999/xhtml";__webpack_exports__.a={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function none(){}__webpack_exports__.a=function(selector){return null==selector?none:function(){return this.querySelector(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}},function(module,__webpack_exports__,__webpack_require__){"use strict";function filterContextListener(listener,index,group){return listener=contextListener(listener,index,group),function(event){var related=event.relatedTarget;related&&(related===this||8&related.compareDocumentPosition(this))||listener.call(this,event)}}function contextListener(listener,index,group){return function(event1){var event0=event;event=event1;try{listener.call(this,this.__data__,index,group)}finally{event=event0}}}function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map(function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name:name}})}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,capture){var wrap=filterEvents.hasOwnProperty(typename.type)?filterContextListener:contextListener;return function(d,i,group){var o,on=this.__on,listener=wrap(value,i,group);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=listener,o.capture=capture),void(o.value=value);this.addEventListener(typename.type,listener,capture),o={type:typename.type,name:typename.name,value:value,listener:listener,capture:capture},on?on.push(o):this.__on=[o]}}function customEvent(event1,listener,that,args){var event0=event;event1.sourceEvent=event,event=event1;try{return listener.apply(that,args)}finally{event=event0}}__webpack_require__.d(__webpack_exports__,"c",function(){return event}),__webpack_exports__.a=customEvent;var filterEvents={},event=null;if("undefined"!=typeof document){"onmouseenter"in document.documentElement||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}__webpack_exports__.b=function(typename,value,capture){var i,t,typenames=parseTypenames(typename+""),n=typenames.length;{if(!(arguments.length<2)){for(on=value?onAdd:onRemove,null==capture&&(capture=!1),i=0;i<n;++i)this.each(on(typenames[i],value,capture));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_on__=__webpack_require__(374);__webpack_exports__.a=function(){for(var source,current=__WEBPACK_IMPORTED_MODULE_0__selection_on__.c;source=current.sourceEvent;)current=source;return current}},function(module,exports){module.exports=function(chart){return(chart.get("scaleController")||{}).defs}},function(module,exports,__webpack_require__){var getColDefs=__webpack_require__(376);module.exports=function(chart,field){var colDefs=getColDefs(chart);if(colDefs&&colDefs[field])return colDefs[field]}},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),TimeUtil=__webpack_require__(71);module.exports=function(data,scale){var result,field=scale.field,type=scale.type,values=Util.Array.values(data,field);return"linear"===type?(result=Util.Array.getRange(values),scale.min<result.min&&(result.min=scale.min),scale.max>result.max&&(result.max=scale.max)):"timeCat"===type?(Util.each(values,function(v,i){values[i]=TimeUtil.toTimeStamp(v)}),values.sort(function(v1,v2){return v1-v2}),result=values):result=values,result}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_index__=__webpack_require__(69);__webpack_exports__.a=function(selector){return"string"==typeof selector?new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([[document.querySelector(selector)]],[document.documentElement]):new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([[selector]],__WEBPACK_IMPORTED_MODULE_0__selection_index__.c)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function empty(){return[]}__webpack_exports__.a=function(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var matcher=function(selector){return function(){return this.matches(selector)}};if("undefined"!=typeof document){var element=document.documentElement;if(!element.matches){var vendorMatches=element.webkitMatchesSelector||element.msMatchesSelector||element.mozMatchesSelector||element.oMatchesSelector;matcher=function(selector){return function(){return vendorMatches.call(this,selector)}}}}__webpack_exports__.a=matcher},function(module,__webpack_exports__,__webpack_require__){"use strict";function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}__webpack_exports__.a=EnterNode;var __WEBPACK_IMPORTED_MODULE_0__sparse__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(69);__webpack_exports__.b=function(){return new __WEBPACK_IMPORTED_MODULE_1__index__.a(this._enter||this._groups.map(__WEBPACK_IMPORTED_MODULE_0__sparse__.a),this._parents)},EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(update){return new Array(update.length)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||Object(__WEBPACK_IMPORTED_MODULE_0__window__.a)(node).getComputedStyle(node,null).getPropertyValue(name)}__webpack_exports__.b=styleValue;var __WEBPACK_IMPORTED_MODULE_0__window__=__webpack_require__(373);__webpack_exports__.a=function(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_schedule__=__webpack_require__(70);__webpack_exports__.a=function(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){name=null==name?null:name+"";for(i in schedules)(schedule=schedules[i]).name===name?(active=schedule.state>__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.d&&schedule.state<__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.b,schedule.state=__WEBPACK_IMPORTED_MODULE_0__transition_schedule__.a,schedule.timer.stop(),active&&schedule.on.call("interrupt",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_color__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__=__webpack_require__(117);__webpack_exports__.a=function(a,b){var c;return("number"==typeof b?__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateNumber:b instanceof __WEBPACK_IMPORTED_MODULE_0_d3_color__.a?__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateRgb:(c=Object(__WEBPACK_IMPORTED_MODULE_0_d3_color__.a)(b))?(b=c,__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateRgb):__WEBPACK_IMPORTED_MODULE_1_d3_interpolate__.interpolateString)(a,b)}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(363),Rect=function(_Base){function Rect(){return _Base.apply(this,arguments)||this}_inheritsLoose(Rect,_Base);var _proto=Rect.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="rect",cfg},_proto.generateFacets=function(data){var self=this,fields=self.fields,rst=[],rows=1,cols=1,colField=fields[0],rowField=fields[1],colValues=[""],rowValues=[""];return colField&&(colValues=self.getFieldValues(colField,data),cols=colValues.length),rowField&&(rowValues=self.getFieldValues(rowField,data),rows=rowValues.length),colValues.forEach(function(xVal,xIndex){rowValues.forEach(function(yVal,yIndex){var conditions=[{field:colField,value:xVal,values:colValues},{field:rowField,value:yVal,values:rowValues}],filter=self.getFilter(conditions),subData=data.filter(filter),facet={type:self.type,colValue:xVal,rowValue:yVal,colField:colField,rowField:rowField,colIndex:xIndex,rowIndex:yIndex,cols:cols,rows:rows,data:subData,region:self.getRegion(rows,cols,xIndex,yIndex)};rst.push(facet)})}),rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1?(axes[xField].title=null,axes[xField].label=null):facet.colIndex!==parseInt((facet.cols-1)/2)&&(axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex?(axes[yField].title=null,axes[yField].label=null):facet.rowIndex!==parseInt((facet.rows-1)/2)&&(axes[yField].title=null)},_proto.renderTitle=function(view,facet){0===facet.rowIndex&&this.drawColTitle(view,facet),facet.colIndex===facet.cols-1&&this.drawRowTitle(view,facet)},Rect}(Base);module.exports=Rect},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(363),List=function(_Base){function List(){return _Base.apply(this,arguments)||this}_inheritsLoose(List,_Base);var _proto=List.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="list",cfg.cols=null,cfg},_proto.generateFacets=function(data){var self=this,fields=self.fields,colField=fields[0];if(!colField)throw"Please specify for the field for facet!";var colValues=self.getFieldValues(colField,data),count=colValues.length,cols=self.cols||count,rows=parseInt((count+cols-1)/cols),rst=[];return colValues.forEach(function(xVal,index){var row=parseInt(index/cols),col=index%cols,conditions=[{field:colField,value:xVal,values:colValues}],filter=self.getFilter(conditions),subData=data.filter(filter),facet={type:self.type,count:count,colValue:xVal,colField:colField,rowField:null,rowValue:xVal,colIndex:col,rowIndex:row,cols:cols,rows:rows,data:subData,region:self.getRegion(rows,cols,col,row)};rst.push(facet)}),rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&facet.cols*facet.rowIndex+facet.colIndex+1+facet.cols<=facet.count&&(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},List}(Base);module.exports=List},function(module,exports,__webpack_require__){var G2=__webpack_require__(172);__webpack_require__(390),__webpack_require__(392),__webpack_require__(394),__webpack_require__(364),__webpack_require__(366),__webpack_require__(359),__webpack_require__(368),__webpack_require__(395),__webpack_require__(397),__webpack_require__(399),__webpack_require__(459),__webpack_require__(461),__webpack_require__(466),module.exports=G2},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),SplitMixin=__webpack_require__(358),Util=__webpack_require__(0);__webpack_require__(391);var Area=function(_GeomBase){function Area(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SplitMixin),_this}_inheritsLoose(Area,_GeomBase);var _proto=Area.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="area",cfg.shapeType="area",cfg.generatePoints=!0,cfg.sortable=!0,cfg},_proto.draw=function(data,container,shapeFactory,index){var self=this,cfg=this.getDrawCfg(data[0]);self._applyViewThemeShapeStyle(cfg,cfg.shape,shapeFactory);var splitArray=this.splitData(data);cfg.origin=data,Util.each(splitArray,function(subData,splitedIndex){cfg.splitedIndex=splitedIndex;var points=subData.map(function(obj){return obj.points});cfg.points=points;var geomShape=shapeFactory.drawShape(cfg.shape,cfg,container);self.appendShapeInfo(geomShape,index+splitedIndex)})},Area}(GeomBase),AreaStack=function(_Area){function AreaStack(){return _Area.apply(this,arguments)||this}return _inheritsLoose(AreaStack,_Area),AreaStack.prototype.getDefaultCfg=function(){var cfg=_Area.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"stack"}],cfg},AreaStack}(Area);Area.Stack=AreaStack,GeomBase.Area=Area,GeomBase.AreaStack=AreaStack,module.exports=Area},function(module,exports,__webpack_require__){function getLineAttrs(cfg){var defaultAttrs=Global.shape.hollowArea,lineAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),Util.isNumber(cfg.size)&&(lineAttrs.lineWidth=cfg.size),lineAttrs}function getFillAttrs(cfg){var defaultAttrs=Global.shape.area,areaAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addFillAttrs(areaAttrs,cfg),cfg.color&&(areaAttrs.stroke=areaAttrs.stroke||cfg.color),Util.isNumber(cfg.size)&&(areaAttrs.lineWidth=cfg.size),areaAttrs}function getPath(cfg,smooth,shape){var path=[],pointsArr=[],topLinePoints=[],bottomLinePoints=[],isInCircle=cfg.isInCircle;return Util.each(cfg.points,function(point){topLinePoints.push(point[1]),bottomLinePoints.push(point[0])}),bottomLinePoints=bottomLinePoints.reverse(),pointsArr.push(topLinePoints,bottomLinePoints),Util.each(pointsArr,function(points,index){var subPath=[];points=shape.parsePoints(points);var p1=points[0];isInCircle&&points.push({x:p1.x,y:p1.y}),subPath=smooth?PathUtil.getSplinePath(points,!1,cfg.constraint):PathUtil.getLinePath(points,!1),index>0&&(subPath[0][0]="L"),path=path.concat(subPath)}),path.push(["Z"]),path}function _getMarkerCfg(cfg){return{symbol:function(x,y){return[["M",x-5.5,y-4],["L",x+5.5,y-4],["L",x+5.5,y+4],["L",x-5.5,y+4],["Z"]]},radius:5,fill:cfg.color,fillOpacity:.6}}function _getActiveCfg(type,cfg){if("line"===type||"smoothLine"===type){return{lineWidth:(cfg.lineWidth||0)+1}}var opacity=cfg.fillOpacity||cfg.opacity||1;return{fillOpacity:opacity-.15,strokeOpacity:opacity-.15}}function drawPointShape(shapeObj,cfg,container){var coord=shapeObj._coord,point=coord.convertPoint(cfg.points[0][1]);return container.addShape("circle",{attrs:Util.mix({x:point.x,y:point.y,r:2,fill:cfg.color},cfg.style)})}var Util=__webpack_require__(0),Shape=__webpack_require__(18),PathUtil=__webpack_require__(22),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),Area=Shape.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(pointInfo){var points=[],x=pointInfo.x,y=pointInfo.y,y0=pointInfo.y0;return y=Util.isArray(y)?y:[y0,y],Util.each(y,function(yItem){points.push({x:x,y:yItem})}),points},getActiveCfg:function(type,cfg){return _getActiveCfg(type,cfg)},drawShape:function(type,cfg,container){var gShape,shape=this.getShape(type);return gShape=1===cfg.points.length&&Global.showSinglePoint?drawPointShape(this,cfg,container):shape.draw(cfg,container),gShape&&(gShape.set("origin",cfg.origin),gShape._id=cfg.splitedIndex?cfg._id+cfg.splitedIndex:cfg._id,gShape.name=this.name),gShape},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("area","area",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getPath(cfg,!1,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","smooth",{draw:function(cfg,container){var attrs=getFillAttrs(cfg),coord=this._coord;cfg.constraint=[[coord.start.x,coord.end.y],[coord.end.x,coord.start.y]];var path=getPath(cfg,!0,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","line",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getPath(cfg,!1,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Shape.registerShape("area","smoothLine",{draw:function(cfg,container){var attrs=getLineAttrs(cfg),path=getPath(cfg,!0,this);return container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return _getMarkerCfg(cfg)}}),Area.spline=Area.smooth,module.exports=Area},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20);__webpack_require__(393);var Edge=function(_GeomBase){function Edge(){return _GeomBase.apply(this,arguments)||this}return _inheritsLoose(Edge,_GeomBase),Edge.prototype.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="edge",cfg.shapeType="edge",cfg.generatePoints=!0,cfg},Edge}(GeomBase);GeomBase.Edge=Edge,module.exports=Edge},function(module,exports,__webpack_require__){function getAttrs(cfg){var defaultCfg=Global.shape.edge,lineAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}function getCPath(from,to){var points=[];points.push({x:from.x,y:.5*from.y+1*to.y/2}),points.push({y:.5*from.y+1*to.y/2,x:to.x}),points.push(to);var sub=["C"];return Util.each(points,function(point){sub.push(point.x,point.y)}),sub}function getQPath(to,center){var points=[];points.push({x:center.x,y:center.y}),points.push(to);var sub=["Q"];return Util.each(points,function(point){sub.push(point.x,point.y)}),sub}function createSmoothPath(from,to){var sub=getCPath(from,to),path=[["M",from.x,from.y]];return path.push(sub),path}function createArcPath(from,to,center){var sub=getQPath(to,center),path=[["M",from.x,from.y]];return path.push(sub),path}function createArcWeightPath(points,center){var arc1=getQPath(points[1],center),arc2=getQPath(points[3],center),path=[["M",points[0].x,points[0].y]];return path.push(arc2),path.push(["L",points[3].x,points[3].y]),path.push(["L",points[2].x,points[2].y]),path.push(arc1),path.push(["L",points[1].x,points[1].y]),path.push(["L",points[0].x,points[0].y]),path.push(["Z"]),path}function createRectPath(from,to){var points=[];points.push({y:from.y*(1-CORNER_PERCENT)+to.y*CORNER_PERCENT,x:from.x}),points.push({y:from.y*(1-CORNER_PERCENT)+to.y*CORNER_PERCENT,x:to.x}),points.push(to);var path=[["M",from.x,from.y]];return Util.each(points,function(point){path.push(["L",point.x,point.y])}),path}var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=__webpack_require__(22),CORNER_PERCENT=1/3,Edge=Shape.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(pointInfo){return ShapeUtil.splitPoints(pointInfo)},getActiveCfg:function(type,cfg){return{lineWidth:(cfg.lineWidth||0)+1}}});Shape.registerShape("edge","line",{draw:function(cfg,container){var points=this.parsePoints(cfg.points),attrCfg=getAttrs(cfg),path=PathUtil.getLinePath(points);return container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","vhv",{draw:function(cfg,container){var points=cfg.points,attrCfg=getAttrs(cfg),path=createRectPath(points[0],points[1]);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","smooth",{draw:function(cfg,container){var points=cfg.points,attrCfg=getAttrs(cfg),path=createSmoothPath(points[0],points[1]);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),Shape.registerShape("edge","arc",{draw:function(cfg,container){var line,path,points=cfg.points,type=points.length>2?"weight":"normal",attrCfg=getAttrs(cfg);if(cfg.isInCircle){var center={x:0,y:1};"normal"===type?path=createArcPath(points[0],points[1],center):(attrCfg.fill=attrCfg.stroke,path=createArcWeightPath(points,center)),path=this.parsePath(path),line=container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})}else if("normal"===type)points=this.parsePoints(points),line=container.addShape("arc",{attrs:Util.mix(attrCfg,{x:(points[1].x+points[0].x)/2,y:points[0].y,r:Math.abs(points[1].x-points[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{path=[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y]];var c1=getCPath(points[1],points[3]),c2=getCPath(points[2],points[0]);path.push(c1),path.push(["L",points[3].x,points[3].y]),path.push(["L",points[2].x,points[2].y]),path.push(c2),path.push(["Z"]),path=this.parsePath(path),attrCfg.fill=attrCfg.stroke,line=container.addShape("path",{attrs:Util.mix(attrCfg,{path:path})})}return line},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4.5},getAttrs(cfg))}}),module.exports=Edge},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var _require=__webpack_require__(73),ColorUtil=_require.ColorUtil,GeomBase=__webpack_require__(20),Util=__webpack_require__(0),Heatmap=function(_GeomBase){function Heatmap(){return _GeomBase.apply(this,arguments)||this}_inheritsLoose(Heatmap,_GeomBase);var _proto=Heatmap.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="heatmap",cfg.paletteCache={},cfg},_proto._prepareRange=function(){var self=this,data=self.get("mappedData"),colorAttr=self.getAttr("color"),colorField=colorAttr.field,min=1/0,max=-1/0;data.forEach(function(row){var value=row._origin[colorField];value>max&&(max=value),value<min&&(min=value)}),min===max&&(min=max-1);var range=[min,max];self.set("valueRange",range)},_proto._prepareSize=function(){var self=this,radius=self.getDefaultValue("size");Util.isNumber(radius)||(radius=self._getDefaultSize());var styleOptions=self.get("styleOptions"),blur=styleOptions&&Util.isObject(styleOptions.style)?styleOptions.style.blur:null;Util.isFinite(blur)&&null!==blur||(blur=radius/2),self.set("heatmapSize",{blur:blur,radius:radius})},_proto._getDefaultSize=function(){var self=this,position=self.getAttr("position"),coord=self.get("coord");return Math.min(coord.width/(4*position.scales[0].ticks.length),coord.height/(4*position.scales[1].ticks.length))},_proto._colorize=function(img){for(var self=this,colorAttr=self.getAttr("color"),pixels=img.data,paletteCache=self.get("paletteCache"),i=3;i<pixels.length;i+=4){var alpha=pixels[i];if(alpha){var palette=void 0;paletteCache[alpha]?palette=paletteCache[alpha]:(palette=ColorUtil.rgb2arr(colorAttr.gradient(alpha/256)),paletteCache[alpha]=palette),pixels[i-3]=palette[0],pixels[i-2]=palette[1],pixels[i-1]=palette[2],pixels[i]=alpha}}},_proto._prepareGreyScaleBlurredCircle=function(r,blur){var self=this,circleCanvas=self.get("grayScaleBlurredCanvas");circleCanvas||(circleCanvas=document.createElement("canvas"),self.set("grayScaleBlurredCanvas",circleCanvas));var r2=r+blur,ctx=circleCanvas.getContext("2d");circleCanvas.width=circleCanvas.height=2*r2,ctx.clearRect(0,0,circleCanvas.width,circleCanvas.height),ctx.shadowOffsetX=ctx.shadowOffsetY=2*r2,ctx.shadowBlur=blur,ctx.shadowColor="black",ctx.beginPath(),ctx.arc(-r2,-r2,r,0,2*Math.PI,!0),ctx.closePath(),ctx.fill()},_proto._drawGrayScaleBlurredCircle=function(x,y,r,alpha,ctx){var self=this,circleCanvas=self.get("grayScaleBlurredCanvas");ctx.globalAlpha=alpha,ctx.drawImage(circleCanvas,x-r,y-r)},_proto._getShadowCanvasCtx=function(){var self=this,canvas=self.get("shadowCanvas");canvas||(canvas=document.createElement("canvas"),self.set("shadowCanvas",canvas));var coord=self.get("coord");return coord&&(canvas.width=coord.width,canvas.height=coord.height),canvas.getContext("2d")},_proto._clearShadowCanvasCtx=function(){var ctx=this._getShadowCanvasCtx();ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)},_proto._getImageShape=function(){var self=this,imageShape=self.get("imageShape");return imageShape||(imageShape=self.get("container").addShape("Image",{}),self.set("imageShape",imageShape),imageShape)},_proto.clear=function(){this._clearShadowCanvasCtx(),_GeomBase.prototype.clear.call(this)},_proto.drawWithRange=function(range){var self=this,_self$get=self.get("coord"),start=_self$get.start,end=_self$get.end,width=_self$get.width,height=_self$get.height,valueField=self.getAttr("color").field,size=self.get("heatmapSize");self._clearShadowCanvasCtx();var ctx=self._getShadowCanvasCtx(),data=self.get("mappedData");range&&(data=data.filter(function(row){return row._origin[valueField]<=range[1]&&row._origin[valueField]>=range[0]}));for(var scale=self._getScale(valueField),i=0;i<data.length;i++){var obj=data[i],cfg=self.getDrawCfg(obj),alpha=scale.scale(obj._origin[valueField]);self._drawGrayScaleBlurredCircle(cfg.x-start.x,cfg.y-end.y,size.radius+size.blur,alpha,ctx)}var colored=ctx.getImageData(0,0,width,height);self._clearShadowCanvasCtx(),self._colorize(colored),ctx.putImageData(colored,0,0);var imageShape=self._getImageShape();imageShape.attr("x",start.x),imageShape.attr("y",end.y),imageShape.attr("width",width),imageShape.attr("height",height),imageShape.attr("img",ctx.canvas)},_proto.draw=function(data){var self=this;self.set("mappedData",data),self._prepareRange(),self._prepareSize();var size=self.get("heatmapSize");self._prepareGreyScaleBlurredCircle(size.radius,size.blur);var range=self.get("valueRange");self.drawWithRange(range)},Heatmap}(GeomBase);GeomBase.Heatmap=Heatmap,module.exports=Heatmap},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0);__webpack_require__(396);var Polygon=function(_GeomBase){function Polygon(){return _GeomBase.apply(this,arguments)||this}_inheritsLoose(Polygon,_GeomBase);var _proto=Polygon.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="polygon",cfg.shapeType="polygon",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var temp,cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj),self=this,x=cfg.x,y=cfg.y;if(!Util.isArray(x)||!Util.isArray(y)){var xScale=self.getXScale(),yScale=self.getYScale(),xCount=xScale.values?xScale.values.length:xScale.ticks.length,yCount=yScale.values?yScale.values.length:yScale.ticks.length,xOffset=.5/xCount,yOffset=.5/yCount;xScale.isCategory&&yScale.isCategory?(x=[x-xOffset,x-xOffset,x+xOffset,x+xOffset],y=[y-yOffset,y+yOffset,y+yOffset,y-yOffset]):Util.isArray(x)?(temp=x,x=[temp[0],temp[0],temp[1],temp[1]],y=[y-yOffset/2,y+yOffset/2,y+yOffset/2,y-yOffset/2]):Util.isArray(y)&&(temp=y,y=[temp[0],temp[1],temp[1],temp[0]],x=[x-xOffset/2,x-xOffset/2,x+xOffset/2,x+xOffset/2]),cfg.x=x,cfg.y=y}return cfg},Polygon}(GeomBase);GeomBase.Polygon=Polygon,module.exports=Polygon},function(module,exports,__webpack_require__){function getAttrs(cfg){var defaultCfg=Global.shape.polygon,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),pathAttrs}function getHollowAttrs(cfg){var defaultCfg=Global.shape.hollowPolygon,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}function getPath(points){for(var flag=points[0],i=1,path=[["M",flag.x,flag.y]];i<points.length;){var c=points[i];c.x===points[i-1].x&&c.y===points[i-1].y||(path.push(["L",c.x,c.y]),c.x===flag.x&&c.y===flag.y&&i<points.length-1&&(flag=points[i+1],path.push(["Z"]),path.push(["M",flag.x,flag.y]),i++)),i++}return Util.isEqual(path[path.length-1],flag)||path.push(["L",flag.x,flag.y]),path.push(["Z"]),path}var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),Polygon=Shape.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(pointInfo){var points=[];return Util.each(pointInfo.x,function(subX,index){var subY=pointInfo.y[index];points.push({x:subX,y:subY})}),points},getActiveCfg:function(type,cfg){var lineWidth=cfg.lineWidth||1;return"hollow"===type?{lineWidth:lineWidth+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("polygon","polygon",{draw:function(cfg,container){if(!Util.isEmpty(cfg.points)){var attrs=getAttrs(cfg),path=getPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})}},getMarkerCfg:function(cfg){return Util.mix({symbol:"square",radius:4},getAttrs(cfg))}}),Shape.registerShape("polygon","hollow",{draw:function(cfg,container){if(!Util.isEmpty(cfg.points)){var attrs=getHollowAttrs(cfg),path=getPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})}},getMarkerCfg:function(cfg){return Util.mix({symbol:"square",radius:4},getAttrs(cfg))}}),module.exports=Polygon},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(398);var Schema=function(_GeomBase){function Schema(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}_inheritsLoose(Schema,_GeomBase);var _proto=Schema.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="schema",cfg.shapeType="schema",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);return cfg.size=this.getNormalizedSize(obj),cfg},Schema}(GeomBase),SchemaDodge=function(_Schema){function SchemaDodge(){return _Schema.apply(this,arguments)||this}return _inheritsLoose(SchemaDodge,_Schema),SchemaDodge.prototype.getDefaultCfg=function(){var cfg=_Schema.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},SchemaDodge}(Schema);Schema.Dodge=SchemaDodge,GeomBase.Schema=Schema,GeomBase.SchemaDodge=SchemaDodge,module.exports=Schema},function(module,exports,__webpack_require__){function _parseValue(value){Util.isArray(value)||(value=[value]);var min=value[0],max=value[value.length-1],min1=value.length>1?value[1]:min;return{min:min,max:max,min1:min1,max1:value.length>3?value[3]:max,median:value.length>2?value[2]:min1}}function addPoints(from,to){Util.each(from,function(subArr){to.push({x:subArr[0],y:subArr[1]})})}function getAttrs(cfg){var defaultAttrs=Global.shape.schema,lineAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addStrokeAttrs(lineAttrs,cfg),lineAttrs}function getFillAttrs(cfg){var defaultAttrs=Global.shape.schema,lineAttrs=Util.mix({},defaultAttrs,cfg.style);return ShapeUtil.addFillAttrs(lineAttrs,cfg),cfg.color&&(lineAttrs.stroke=cfg.color||lineAttrs.stroke),lineAttrs}function getBoxPoints(x,y,width){var pointsArray,obj,points=[];return Util.isArray(y)?(obj=_parseValue(y),pointsArray=[[x-width/2,obj.max],[x+width/2,obj.max],[x,obj.max],[x,obj.max1],[x-width/2,obj.min1],[x-width/2,obj.max1],[x+width/2,obj.max1],[x+width/2,obj.min1],[x,obj.min1],[x,obj.min],[x-width/2,obj.min],[x+width/2,obj.min],[x-width/2,obj.median],[x+width/2,obj.median]]):(y=y||.5,obj=_parseValue(x),pointsArray=[[obj.min,y-width/2],[obj.min,y+width/2],[obj.min,y],[obj.min1,y],[obj.min1,y-width/2],[obj.min1,y+width/2],[obj.max1,y+width/2],[obj.max1,y-width/2],[obj.max1,y],[obj.max,y],[obj.max,y-width/2],[obj.max,y+width/2],[obj.median,y-width/2],[obj.median,y+width/2]]),addPoints(pointsArray,points),points}function _sortValue(value){Util.isArray(value)||(value=[value]);var sorted=value.sort(function(a,b){return a<b?1:-1}),length=sorted.length;if(length<4)for(var min=sorted[length-1],i=0;i<4-length;i++)sorted.push(min);return sorted}function getCandlePoints(x,y,width){var yValues=_sortValue(y);return[{x:x,y:yValues[0]},{x:x,y:yValues[1]},{x:x-width/2,y:yValues[2]},{x:x-width/2,y:yValues[1]},{x:x+width/2,y:yValues[1]},{x:x+width/2,y:yValues[2]},{x:x,y:yValues[2]},{x:x,y:yValues[3]}]}function getBoxPath(points){return[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y],["L",points[6].x,points[6].y],["L",points[7].x,points[7].y],["L",points[4].x,points[4].y],["Z"],["M",points[8].x,points[8].y],["L",points[9].x,points[9].y],["M",points[10].x,points[10].y],["L",points[11].x,points[11].y],["M",points[12].x,points[12].y],["L",points[13].x,points[13].y]]}function getCandlePath(points){return[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["L",points[4].x,points[4].y],["L",points[5].x,points[5].y],["Z"],["M",points[6].x,points[6].y],["L",points[7].x,points[7].y]]}var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),Schema=Shape.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(type,cfg){if("box"===type){return{lineWidth:(cfg.lineWidth||1)+1}}var opacity=cfg.fillOpacity||cfg.opacity||1;return{fillOpacity:opacity-.15,strokeOpacity:opacity-.15}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("schema","box",{getPoints:function(pointInfo){return getBoxPoints(pointInfo.x,pointInfo.y,pointInfo.size)},draw:function(cfg,container){var attrs=getAttrs(cfg),path=getBoxPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return{symbol:function(x,y,r){var yValues=[y-6,y-3,y,y+3,y+6],points=getBoxPoints(x,yValues,r);return[["M",points[0].x+1,points[0].y],["L",points[1].x-1,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["M",points[4].x,points[4].y],["L",points[5].x,points[5].y],["L",points[6].x,points[6].y],["L",points[7].x,points[7].y],["L",points[4].x,points[4].y],["Z"],["M",points[8].x,points[8].y],["L",points[9].x,points[9].y],["M",points[10].x+1,points[10].y],["L",points[11].x-1,points[11].y],["M",points[12].x,points[12].y],["L",points[13].x,points[13].y]]},radius:6,lineWidth:1,stroke:cfg.color}}}),Shape.registerShape("schema","candle",{getPoints:function(pointInfo){return getCandlePoints(pointInfo.x,pointInfo.y,pointInfo.size)},draw:function(cfg,container){var attrs=getFillAttrs(cfg),path=getCandlePath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return{symbol:function(x,y,r){y=[y+7.5,y+3,y-3,y-7.5];var points=getCandlePoints(x,y,r);return[["M",points[0].x,points[0].y],["L",points[1].x,points[1].y],["M",points[2].x,points[2].y],["L",points[3].x,points[3].y],["L",points[4].x,points[4].y],["L",points[5].x,points[5].y],["Z"],["M",points[6].x,points[6].y],["L",points[7].x,points[7].y]]},lineWidth:1,stroke:cfg.color,fill:cfg.color,radius:6}}}),module.exports=Schema},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),_require=__webpack_require__(400),venn=_require.venn,scaleSolution=_require.scaleSolution,circlePath=_require.circlePath,intersectionAreaPath=_require.intersectionAreaPath,computeTextCentres=_require.computeTextCentres;__webpack_require__(458);var Venn=function(_GeomBase){function Venn(){return _GeomBase.apply(this,arguments)||this}_inheritsLoose(Venn,_GeomBase);var _proto=Venn.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="venn",cfg.shapeType="venn",cfg.generatePoints=!1,cfg},_proto._getAttrValues=function(attr,record){return"position"===attr.type?[record.x,record.y]:_GeomBase.prototype._getAttrValues.call(this,attr,record)},_proto.sets=function(field){return this.set("setsField",field),this},_proto._initAttrs=function(){var self=this;_GeomBase.prototype._initAttrs.call(this);var attrOptions=self.get("attrOptions"),setsField=self.get("setsField")||"sets",data=self.get("data"),sizeField=attrOptions.size?attrOptions.size.field:"size";data.forEach(function(row){row.sets=row[setsField],row._sets=row[setsField].join("&"),row.size=row[sizeField]});var solution=venn(data),coord=self.get("coord"),xRange=[Math.min(coord.x.end,coord.x.start),Math.max(coord.x.end,coord.x.start)],yRange=[Math.min(coord.y.end,coord.y.start),Math.max(coord.y.end,coord.y.start)],width=xRange[1]-xRange[0],height=yRange[1]-yRange[0],styleOptions=self.get("styleOptions"),padding=styleOptions&&Util.isObject(styleOptions.style)?styleOptions.style.padding:0;Util.isFinite(padding)||(padding=0);var circles=scaleSolution(solution,width,height,padding),textCenters=computeTextCentres(circles,data);data.forEach(function(row){var sets=row.sets,id=sets.join(",");if(row.id=id,1===sets.length){var circle=circles[id];row.path=circlePath(circle.x,circle.y,circle.radius),Util.assign(row,circle)}else{var setCircles=sets.map(function(set){return circles[set]}),path=intersectionAreaPath(setCircles);/[zZ]$/.test(path)||(path+="Z"),row.path=path;var center=textCenters[id]||{x:0,y:0};Util.assign(row,center)}})},Venn}(GeomBase);GeomBase.Venn=Venn,module.exports=Venn},function(module,exports,__webpack_require__){!function(global,factory){factory(exports,__webpack_require__(72),__webpack_require__(435))}(0,function(exports,d3Selection,d3Transition){"use strict";function intersectionArea(circles,stats){var i,intersectionPoints=getIntersectionPoints(circles),innerPoints=intersectionPoints.filter(function(p){return containedInCircles(p,circles)}),arcArea=0,polygonArea=0,arcs=[];if(innerPoints.length>1){var center=getCenter(innerPoints);for(i=0;i<innerPoints.length;++i){var p=innerPoints[i];p.angle=Math.atan2(p.x-center.x,p.y-center.y)}innerPoints.sort(function(a,b){return b.angle-a.angle});var p2=innerPoints[innerPoints.length-1];for(i=0;i<innerPoints.length;++i){var p1=innerPoints[i];polygonArea+=(p2.x+p1.x)*(p1.y-p2.y);for(var midPoint={x:(p1.x+p2.x)/2,y:(p1.y+p2.y)/2},arc=null,j=0;j<p1.parentIndex.length;++j)if(p2.parentIndex.indexOf(p1.parentIndex[j])>-1){var circle=circles[p1.parentIndex[j]],a1=Math.atan2(p1.x-circle.x,p1.y-circle.y),a2=Math.atan2(p2.x-circle.x,p2.y-circle.y),angleDiff=a2-a1;angleDiff<0&&(angleDiff+=2*Math.PI);var a=a2-angleDiff/2,width=distance(midPoint,{x:circle.x+circle.radius*Math.sin(a),y:circle.y+circle.radius*Math.cos(a)});width>2*circle.radius&&(width=2*circle.radius),(null===arc||arc.width>width)&&(arc={circle:circle,width:width,p1:p1,p2:p2})}null!==arc&&(arcs.push(arc),arcArea+=circleArea(arc.circle.radius,arc.width),p2=p1)}}else{var smallest=circles[0];for(i=1;i<circles.length;++i)circles[i].radius<smallest.radius&&(smallest=circles[i]);var disjoint=!1;for(i=0;i<circles.length;++i)if(distance(circles[i],smallest)>Math.abs(smallest.radius-circles[i].radius)){disjoint=!0;break}disjoint?arcArea=polygonArea=0:(arcArea=smallest.radius*smallest.radius*Math.PI,arcs.push({circle:smallest,p1:{x:smallest.x,y:smallest.y+smallest.radius},p2:{x:smallest.x-SMALL,y:smallest.y+smallest.radius},width:2*smallest.radius}))}return polygonArea/=2,stats&&(stats.area=arcArea+polygonArea,stats.arcArea=arcArea,stats.polygonArea=polygonArea,stats.arcs=arcs,stats.innerPoints=innerPoints,stats.intersectionPoints=intersectionPoints),arcArea+polygonArea}function containedInCircles(point,circles){for(var i=0;i<circles.length;++i)if(distance(point,circles[i])>circles[i].radius+SMALL)return!1;return!0}function getIntersectionPoints(circles){for(var ret=[],i=0;i<circles.length;++i)for(var j=i+1;j<circles.length;++j)for(var intersect=circleCircleIntersection(circles[i],circles[j]),k=0;k<intersect.length;++k){var p=intersect[k];p.parentIndex=[i,j],ret.push(p)}return ret}function circleArea(r,width){return r*r*Math.acos(1-width/r)-(r-width)*Math.sqrt(width*(2*r-width))}function distance(p1,p2){return Math.sqrt((p1.x-p2.x)*(p1.x-p2.x)+(p1.y-p2.y)*(p1.y-p2.y))}function circleOverlap(r1,r2,d){if(d>=r1+r2)return 0;if(d<=Math.abs(r1-r2))return Math.PI*Math.min(r1,r2)*Math.min(r1,r2);var w1=r1-(d*d-r2*r2+r1*r1)/(2*d),w2=r2-(d*d-r1*r1+r2*r2)/(2*d);return circleArea(r1,w1)+circleArea(r2,w2)}function circleCircleIntersection(p1,p2){var d=distance(p1,p2),r1=p1.radius,r2=p2.radius;if(d>=r1+r2||d<=Math.abs(r1-r2))return[];var a=(r1*r1-r2*r2+d*d)/(2*d),h=Math.sqrt(r1*r1-a*a),x0=p1.x+a*(p2.x-p1.x)/d,y0=p1.y+a*(p2.y-p1.y)/d,rx=-(p2.y-p1.y)*(h/d),ry=-(p2.x-p1.x)*(h/d);return[{x:x0+rx,y:y0-ry},{x:x0-rx,y:y0+ry}]}function getCenter(points){for(var center={x:0,y:0},i=0;i<points.length;++i)center.x+=points[i].x,center.y+=points[i].y;return center.x/=points.length,center.y/=points.length,center}function bisect(f,a,b,parameters){parameters=parameters||{};var maxIterations=parameters.maxIterations||100,tolerance=parameters.tolerance||1e-10,fA=f(a),fB=f(b),delta=b-a;if(fA*fB>0)throw"Initial bisect points must have opposite signs";if(0===fA)return a;if(0===fB)return b;for(var i=0;i<maxIterations;++i){delta/=2;var mid=a+delta,fMid=f(mid);if(fMid*fA>=0&&(a=mid),Math.abs(delta)<tolerance||0===fMid)return mid}return a+delta}function zeros(x){for(var r=new Array(x),i=0;i<x;++i)r[i]=0;return r}function zerosM(x,y){return zeros(x).map(function(){return zeros(y)})}function dot(a,b){for(var ret=0,i=0;i<a.length;++i)ret+=a[i]*b[i];return ret}function norm2(a){return Math.sqrt(dot(a,a))}function scale(ret,value,c){for(var i=0;i<value.length;++i)ret[i]=value[i]*c}function weightedSum(ret,w1,v1,w2,v2){for(var j=0;j<ret.length;++j)ret[j]=w1*v1[j]+w2*v2[j]}function nelderMead(f,x0,parameters){function updateSimplex(value){for(var i=0;i<value.length;i++)simplex[N][i]=value[i];simplex[N].fx=value.fx}parameters=parameters||{};var maxDiff,maxIterations=parameters.maxIterations||200*x0.length,nonZeroDelta=parameters.nonZeroDelta||1.05,zeroDelta=parameters.zeroDelta||.001,minErrorDelta=parameters.minErrorDelta||1e-6,minTolerance=parameters.minErrorDelta||1e-5,rho=void 0!==parameters.rho?parameters.rho:1,chi=void 0!==parameters.chi?parameters.chi:2,psi=void 0!==parameters.psi?parameters.psi:-.5,sigma=void 0!==parameters.sigma?parameters.sigma:.5,N=x0.length,simplex=new Array(N+1);simplex[0]=x0,simplex[0].fx=f(x0),simplex[0].id=0;for(var i=0;i<N;++i){var point=x0.slice();point[i]=point[i]?point[i]*nonZeroDelta:zeroDelta,simplex[i+1]=point,simplex[i+1].fx=f(point),simplex[i+1].id=i+1}for(var sortOrder=function(a,b){return a.fx-b.fx},centroid=x0.slice(),reflected=x0.slice(),contracted=x0.slice(),expanded=x0.slice(),iteration=0;iteration<maxIterations;++iteration){if(simplex.sort(sortOrder),parameters.history){var sortedSimplex=simplex.map(function(x){var state=x.slice();return state.fx=x.fx,state.id=x.id,state});sortedSimplex.sort(function(a,b){return a.id-b.id}),parameters.history.push({x:simplex[0].slice(),fx:simplex[0].fx,simplex:sortedSimplex})}for(maxDiff=0,i=0;i<N;++i)maxDiff=Math.max(maxDiff,Math.abs(simplex[0][i]-simplex[1][i]));if(Math.abs(simplex[0].fx-simplex[N].fx)<minErrorDelta&&maxDiff<minTolerance)break;for(i=0;i<N;++i){centroid[i]=0;for(var j=0;j<N;++j)centroid[i]+=simplex[j][i];centroid[i]/=N}var worst=simplex[N];if(weightedSum(reflected,1+rho,centroid,-rho,worst),reflected.fx=f(reflected),reflected.fx<simplex[0].fx)weightedSum(expanded,1+chi,centroid,-chi,worst),expanded.fx=f(expanded),updateSimplex(expanded.fx<reflected.fx?expanded:reflected);else if(reflected.fx>=simplex[N-1].fx){var shouldReduce=!1;if(reflected.fx>worst.fx?(weightedSum(contracted,1+psi,centroid,-psi,worst),contracted.fx=f(contracted),contracted.fx<worst.fx?updateSimplex(contracted):shouldReduce=!0):(weightedSum(contracted,1-psi*rho,centroid,psi*rho,worst),contracted.fx=f(contracted),contracted.fx<reflected.fx?updateSimplex(contracted):shouldReduce=!0),shouldReduce){if(sigma>=1)break;for(i=1;i<simplex.length;++i)weightedSum(simplex[i],1-sigma,simplex[0],sigma,simplex[i]),simplex[i].fx=f(simplex[i])}}else updateSimplex(reflected)}return simplex.sort(sortOrder),{fx:simplex[0].fx,x:simplex[0]}}function wolfeLineSearch(f,pk,current,next,a,c1,c2){function zoom(a_lo,a_high,phi_lo){for(var iteration=0;iteration<16;++iteration)if(a=(a_lo+a_high)/2,weightedSum(next.x,1,current.x,a,pk),phi=next.fx=f(next.x,next.fxprime),phiPrime=dot(next.fxprime,pk),phi>phi0+c1*a*phiPrime0||phi>=phi_lo)a_high=a;else{if(Math.abs(phiPrime)<=-c2*phiPrime0)return a;phiPrime*(a_high-a_lo)>=0&&(a_high=a_lo),a_lo=a,phi_lo=phi}return 0}var phi0=current.fx,phiPrime0=dot(current.fxprime,pk),phi=phi0,phi_old=phi0,phiPrime=phiPrime0,a0=0;a=a||1,c1=c1||1e-6,c2=c2||.1;for(var iteration=0;iteration<10;++iteration){if(weightedSum(next.x,1,current.x,a,pk),phi=next.fx=f(next.x,next.fxprime),phiPrime=dot(next.fxprime,pk),phi>phi0+c1*a*phiPrime0||iteration&&phi>=phi_old)return zoom(a0,a,phi_old);if(Math.abs(phiPrime)<=-c2*phiPrime0)return a;if(phiPrime>=0)return zoom(a,a0,phi);phi_old=phi,a0=a,a*=2}return a}function conjugateGradient(f,initial,params){var pk,temp,maxIterations,current={x:initial.slice(),fx:0,fxprime:initial.slice()},next={x:initial.slice(),fx:0,fxprime:initial.slice()},yk=initial.slice(),a=1;params=params||{},maxIterations=params.maxIterations||20*initial.length,current.fx=f(current.x,current.fxprime),pk=current.fxprime.slice(),scale(pk,current.fxprime,-1);for(var i=0;i<maxIterations;++i){if(a=wolfeLineSearch(f,pk,current,next,a),params.history&&params.history.push({x:current.x.slice(),fx:current.fx,fxprime:current.fxprime.slice(),alpha:a}),a){weightedSum(yk,1,next.fxprime,-1,current.fxprime);var delta_k=dot(current.fxprime,current.fxprime);weightedSum(pk,Math.max(0,dot(yk,next.fxprime)/delta_k),pk,-1,next.fxprime),temp=current,current=next,next=temp}else scale(pk,current.fxprime,-1);if(norm2(current.fxprime)<=1e-5)break}return params.history&&params.history.push({x:current.x.slice(),fx:current.fx,fxprime:current.fxprime.slice(),alpha:a}),current}function venn(areas,parameters){parameters=parameters||{},parameters.maxIterations=parameters.maxIterations||500;var initialLayout=parameters.initialLayout||bestInitialLayout,loss=parameters.lossFunction||lossFunction;areas=addMissingAreas(areas);var setid,circles=initialLayout(areas,parameters),initial=[],setids=[];for(setid in circles)circles.hasOwnProperty(setid)&&(initial.push(circles[setid].x),initial.push(circles[setid].y),setids.push(setid));for(var solution=nelderMead(function(values){for(var current={},i=0;i<setids.length;++i){var setid=setids[i];current[setid]={x:values[2*i],y:values[2*i+1],radius:circles[setid].radius}}return loss(current,areas)},initial,parameters),positions=solution.x,i=0;i<setids.length;++i)setid=setids[i],circles[setid].x=positions[2*i],circles[setid].y=positions[2*i+1];return circles}function distanceFromIntersectArea(r1,r2,overlap){return Math.min(r1,r2)*Math.min(r1,r2)*Math.PI<=overlap+SMALL$1?Math.abs(r1-r2):bisect(function(distance$$1){return circleOverlap(r1,r2,distance$$1)-overlap},0,r1+r2)}function addMissingAreas(areas){areas=areas.slice();var i,j,a,b,ids=[],pairs={};for(i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length?ids.push(area.sets[0]):2==area.sets.length&&(a=area.sets[0],b=area.sets[1],pairs[[a,b]]=!0,pairs[[b,a]]=!0)}for(ids.sort(function(a,b){return a>b}),i=0;i<ids.length;++i)for(a=ids[i],j=i+1;j<ids.length;++j)b=ids[j],[a,b]in pairs||areas.push({sets:[a,b],size:0});return areas}function getDistanceMatrices(areas,sets,setids){var distances=zerosM(sets.length,sets.length),constraints=zerosM(sets.length,sets.length);return areas.filter(function(x){return 2==x.sets.length}).map(function(current){var left=setids[current.sets[0]],right=setids[current.sets[1]],r1=Math.sqrt(sets[left].size/Math.PI),r2=Math.sqrt(sets[right].size/Math.PI),distance$$1=distanceFromIntersectArea(r1,r2,current.size);distances[left][right]=distances[right][left]=distance$$1;var c=0;current.size+1e-10>=Math.min(sets[left].size,sets[right].size)?c=1:current.size<=1e-10&&(c=-1),constraints[left][right]=constraints[right][left]=c}),{distances:distances,constraints:constraints}}function constrainedMDSGradient(x,fxprime,distances,constraints){var i,loss=0;for(i=0;i<fxprime.length;++i)fxprime[i]=0;for(i=0;i<distances.length;++i)for(var xi=x[2*i],yi=x[2*i+1],j=i+1;j<distances.length;++j){var xj=x[2*j],yj=x[2*j+1],dij=distances[i][j],constraint=constraints[i][j],squaredDistance=(xj-xi)*(xj-xi)+(yj-yi)*(yj-yi),distance$$1=Math.sqrt(squaredDistance),delta=squaredDistance-dij*dij;constraint>0&&distance$$1<=dij||constraint<0&&distance$$1>=dij||(loss+=2*delta*delta,fxprime[2*i]+=4*delta*(xi-xj),fxprime[2*i+1]+=4*delta*(yi-yj),fxprime[2*j]+=4*delta*(xj-xi),fxprime[2*j+1]+=4*delta*(yj-yi))}return loss}function bestInitialLayout(areas,params){var initial=greedyLayout(areas,params),loss=params.lossFunction||lossFunction;if(areas.length>=8){var constrained=constrainedMDSLayout(areas,params);loss(constrained,areas)+1e-8<loss(initial,areas)&&(initial=constrained)}return initial}function constrainedMDSLayout(areas,params){params=params||{};var i,restarts=params.restarts||10,sets=[],setids={};for(i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length&&(setids[area.sets[0]]=sets.length,sets.push(area))}var matrices=getDistanceMatrices(areas,sets,setids),distances=matrices.distances,constraints=matrices.constraints,norm=norm2(distances.map(norm2))/distances.length;distances=distances.map(function(row){return row.map(function(value){return value/norm})});var best,current,obj=function(x,fxprime){return constrainedMDSGradient(x,fxprime,distances,constraints)};for(i=0;i<restarts;++i){current=conjugateGradient(obj,zeros(2*distances.length).map(Math.random),params),(!best||current.fx<best.fx)&&(best=current)}var positions=best.x,circles={};for(i=0;i<sets.length;++i){var set=sets[i];circles[set.sets[0]]={x:positions[2*i]*norm,y:positions[2*i+1]*norm,radius:Math.sqrt(set.size/Math.PI)}}if(params.history)for(i=0;i<params.history.length;++i)scale(params.history[i].x,norm);return circles}function greedyLayout(areas,params){function sortOrder(a,b){return b.size-a.size}function isPositioned(element){return element.set in positioned}function positionSet(point,index){circles[index].x=point.x,circles[index].y=point.y,positioned[index]=!0}for(var set,loss=params&&params.lossFunction?params.lossFunction:lossFunction,circles={},setOverlaps={},i=0;i<areas.length;++i){var area=areas[i];1==area.sets.length&&(set=area.sets[0],circles[set]={x:1e10,y:1e10,rowid:circles.length,size:area.size,radius:Math.sqrt(area.size/Math.PI)},setOverlaps[set]=[])}for(areas=areas.filter(function(a){return 2==a.sets.length}),i=0;i<areas.length;++i){var current=areas[i],weight=current.hasOwnProperty("weight")?current.weight:1,left=current.sets[0],right=current.sets[1];current.size+SMALL$1>=Math.min(circles[left].size,circles[right].size)&&(weight=0),setOverlaps[left].push({set:right,size:current.size,weight:weight}),setOverlaps[right].push({set:left,size:current.size,weight:weight})}var mostOverlapped=[];for(set in setOverlaps)if(setOverlaps.hasOwnProperty(set)){var size=0;for(i=0;i<setOverlaps[set].length;++i)size+=setOverlaps[set][i].size*setOverlaps[set][i].weight;mostOverlapped.push({set:set,size:size})}mostOverlapped.sort(sortOrder);var positioned={};for(positionSet({x:0,y:0},mostOverlapped[0].set),i=1;i<mostOverlapped.length;++i){var setIndex=mostOverlapped[i].set,overlap=setOverlaps[setIndex].filter(isPositioned);if(set=circles[setIndex],overlap.sort(sortOrder),0===overlap.length)throw"ERROR: missing pairwise overlap information";for(var points=[],j=0;j<overlap.length;++j){var p1=circles[overlap[j].set],d1=distanceFromIntersectArea(set.radius,p1.radius,overlap[j].size);points.push({x:p1.x+d1,y:p1.y}),points.push({x:p1.x-d1,y:p1.y}),points.push({y:p1.y+d1,x:p1.x}),points.push({y:p1.y-d1,x:p1.x});for(var k=j+1;k<overlap.length;++k)for(var p2=circles[overlap[k].set],d2=distanceFromIntersectArea(set.radius,p2.radius,overlap[k].size),extraPoints=circleCircleIntersection({x:p1.x,y:p1.y,radius:d1},{x:p2.x,y:p2.y,radius:d2}),l=0;l<extraPoints.length;++l)points.push(extraPoints[l])}var bestLoss=1e50,bestPoint=points[0];for(j=0;j<points.length;++j){circles[setIndex].x=points[j].x,circles[setIndex].y=points[j].y;var localLoss=loss(circles,areas);localLoss<bestLoss&&(bestLoss=localLoss,bestPoint=points[j])}positionSet(bestPoint,setIndex)}return circles}function lossFunction(sets,overlaps){for(var output=0,i=0;i<overlaps.length;++i){var overlap,area=overlaps[i];if(1!=area.sets.length){if(2==area.sets.length){var left=sets[area.sets[0]],right=sets[area.sets[1]];overlap=circleOverlap(left.radius,right.radius,distance(left,right))}else overlap=intersectionArea(function(indices){return indices.map(function(i){return sets[i]})}(area.sets));output+=(area.hasOwnProperty("weight")?area.weight:1)*(overlap-area.size)*(overlap-area.size)}}return output}function orientateCircles(circles,orientation,orientationOrder){null===orientationOrder?circles.sort(function(a,b){return b.radius-a.radius}):circles.sort(orientationOrder);var i;if(circles.length>0){var largestX=circles[0].x,largestY=circles[0].y;for(i=0;i<circles.length;++i)circles[i].x-=largestX,circles[i].y-=largestY}if(2==circles.length){distance(circles[0],circles[1])<Math.abs(circles[1].radius-circles[0].radius)&&(circles[1].x=circles[0].x+circles[0].radius-circles[1].radius-1e-10,circles[1].y=circles[0].y)}if(circles.length>1){var x,y,rotation=Math.atan2(circles[1].x,circles[1].y)-orientation,c=Math.cos(rotation),s=Math.sin(rotation);for(i=0;i<circles.length;++i)x=circles[i].x,y=circles[i].y,circles[i].x=c*x-s*y,circles[i].y=s*x+c*y}if(circles.length>2){for(var angle=Math.atan2(circles[2].x,circles[2].y)-orientation;angle<0;)angle+=2*Math.PI;for(;angle>2*Math.PI;)angle-=2*Math.PI;if(angle>Math.PI){var slope=circles[1].y/(1e-10+circles[1].x);for(i=0;i<circles.length;++i){var d=(circles[i].x+slope*circles[i].y)/(1+slope*slope);circles[i].x=2*d-circles[i].x,circles[i].y=2*d*slope-circles[i].y}}}}function disjointCluster(circles){function find(circle){return circle.parent!==circle&&(circle.parent=find(circle.parent)),circle.parent}circles.map(function(circle){circle.parent=circle});for(var i=0;i<circles.length;++i)for(var j=i+1;j<circles.length;++j){var maxDistance=circles[i].radius+circles[j].radius;distance(circles[i],circles[j])+1e-10<maxDistance&&function(x,y){var xRoot=find(x),yRoot=find(y);xRoot.parent=yRoot}(circles[j],circles[i])}var setid,disjointClusters={};for(i=0;i<circles.length;++i)setid=find(circles[i]).parent.setid,setid in disjointClusters||(disjointClusters[setid]=[]),disjointClusters[setid].push(circles[i]);circles.map(function(circle){delete circle.parent});var ret=[];for(setid in disjointClusters)disjointClusters.hasOwnProperty(setid)&&ret.push(disjointClusters[setid]);return ret}function getBoundingBox(circles){var minMax=function(d){return{max:Math.max.apply(null,circles.map(function(c){return c[d]+c.radius})),min:Math.min.apply(null,circles.map(function(c){return c[d]-c.radius}))}};return{xRange:minMax("x"),yRange:minMax("y")}}function normalizeSolution(solution,orientation,orientationOrder){function addCluster(cluster,right,bottom){if(cluster){var xOffset,yOffset,centreing,bounds=cluster.bounds;right?xOffset=returnBounds.xRange.max-bounds.xRange.min+spacing:(xOffset=returnBounds.xRange.max-bounds.xRange.max,(centreing=(bounds.xRange.max-bounds.xRange.min)/2-(returnBounds.xRange.max-returnBounds.xRange.min)/2)<0&&(xOffset+=centreing)),bottom?yOffset=returnBounds.yRange.max-bounds.yRange.min+spacing:(yOffset=returnBounds.yRange.max-bounds.yRange.max,(centreing=(bounds.yRange.max-bounds.yRange.min)/2-(returnBounds.yRange.max-returnBounds.yRange.min)/2)<0&&(yOffset+=centreing));for(var j=0;j<cluster.length;++j)cluster[j].x+=xOffset,cluster[j].y+=yOffset,circles.push(cluster[j])}}null===orientation&&(orientation=Math.PI/2);var i,setid,circles=[];for(setid in solution)if(solution.hasOwnProperty(setid)){var previous=solution[setid];circles.push({x:previous.x,y:previous.y,radius:previous.radius,setid:setid})}var clusters=disjointCluster(circles);for(i=0;i<clusters.length;++i){orientateCircles(clusters[i],orientation,orientationOrder);var bounds=getBoundingBox(clusters[i]);clusters[i].size=(bounds.xRange.max-bounds.xRange.min)*(bounds.yRange.max-bounds.yRange.min),clusters[i].bounds=bounds}clusters.sort(function(a,b){return b.size-a.size}),circles=clusters[0];for(var returnBounds=circles.bounds,spacing=(returnBounds.xRange.max-returnBounds.xRange.min)/50,index=1;index<clusters.length;)addCluster(clusters[index],!0,!1),addCluster(clusters[index+1],!1,!0),addCluster(clusters[index+2],!0,!0),index+=3,returnBounds=getBoundingBox(circles);var ret={};for(i=0;i<circles.length;++i)ret[circles[i].setid]=circles[i];return ret}function scaleSolution(solution,width,height,padding){var circles=[],setids=[];for(var setid in solution)solution.hasOwnProperty(setid)&&(setids.push(setid),circles.push(solution[setid]));width-=2*padding,height-=2*padding;var bounds=getBoundingBox(circles),xRange=bounds.xRange,yRange=bounds.yRange;if(xRange.max==xRange.min||yRange.max==yRange.min)return solution;for(var xScaling=width/(xRange.max-xRange.min),yScaling=height/(yRange.max-yRange.min),scaling=Math.min(yScaling,xScaling),xOffset=(width-(xRange.max-xRange.min)*scaling)/2,yOffset=(height-(yRange.max-yRange.min)*scaling)/2,scaled={},i=0;i<circles.length;++i){var circle=circles[i];scaled[setids[i]]={radius:scaling*circle.radius,x:padding+xOffset+(circle.x-xRange.min)*scaling,y:padding+yOffset+(circle.y-yRange.min)*scaling}}return scaled}function VennDiagram(){function chart(selection){function label(d){return d.sets in labels?labels[d.sets]:1==d.sets.length?""+d.sets[0]:void 0}var data=selection.datum(),toremove={};data.forEach(function(datum){0==datum.size&&1==datum.sets.length&&(toremove[datum.sets[0]]=1)}),data=data.filter(function(datum){return!datum.sets.some(function(set){return set in toremove})});var circles={},textCentres={};if(data.length>0){var solution=layoutFunction(data,{lossFunction:loss});normalize&&(solution=normalizeSolution(solution,orientation,orientationOrder)),circles=scaleSolution(solution,width,height,padding),textCentres=computeTextCentres(circles,data)}var labels={};data.forEach(function(datum){datum.label&&(labels[datum.sets]=datum.label)}),selection.selectAll("svg").data([circles]).enter().append("svg");var svg=selection.select("svg").attr("width",width).attr("height",height),previous={},hasPrevious=!1;svg.selectAll(".venn-area path").each(function(d){var path=d3Selection.select(this).attr("d");1==d.sets.length&&path&&(hasPrevious=!0,previous[d.sets[0]]=circleFromPath(path))});var pathTween=function(d){return function(t){return intersectionAreaPath(d.sets.map(function(set){var start=previous[set],end=circles[set];return start||(start={x:width/2,y:height/2,radius:1}),end||(end={x:width/2,y:height/2,radius:1}),{x:start.x*(1-t)+end.x*t,y:start.y*(1-t)+end.y*t,radius:start.radius*(1-t)+end.radius*t}}))}},nodes=svg.selectAll(".venn-area").data(data,function(d){return d.sets}),enter=nodes.enter().append("g").attr("class",function(d){return"venn-area venn-"+(1==d.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(d){return d.sets.join("_")}),enterPath=enter.append("path"),enterText=enter.append("text").attr("class","label").text(function(d){return label(d)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",width/2).attr("y",height/2);styled&&(enterPath.style("fill-opacity","0").filter(function(d){return 1==d.sets.length}).style("fill",function(d){return colours(d.sets)}).style("fill-opacity",".25"),enterText.style("fill",function(d){return 1==d.sets.length?colours(d.sets):"#444"}));var update=selection;hasPrevious?(update=selection.transition("venn").duration(duration),update.selectAll("path").attrTween("d",pathTween)):update.selectAll("path").attr("d",function(d){return intersectionAreaPath(d.sets.map(function(set){return circles[set]}))});var updateText=update.selectAll("text").filter(function(d){return d.sets in textCentres}).text(function(d){return label(d)}).attr("x",function(d){return Math.floor(textCentres[d.sets].x)}).attr("y",function(d){return Math.floor(textCentres[d.sets].y)});wrap&&(hasPrevious?"on"in updateText?updateText.on("end",wrapText(circles,label)):updateText.each("end",wrapText(circles,label)):updateText.each(wrapText(circles,label)));var exit=nodes.exit().transition("venn").duration(duration).remove();exit.selectAll("path").attrTween("d",pathTween);var exitText=exit.selectAll("text").attr("x",width/2).attr("y",height/2);return null!==fontSize&&(enterText.style("font-size","0px"),updateText.style("font-size",fontSize),exitText.style("font-size","0px")),{circles:circles,textCentres:textCentres,nodes:nodes,enter:enter,update:update,exit:exit}}var width=600,height=350,padding=15,duration=1e3,orientation=Math.PI/2,normalize=!0,wrap=!0,styled=!0,fontSize=null,orientationOrder=null,colourMap={},colourScheme=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],colourIndex=0,colours=function(key){if(key in colourMap)return colourMap[key];var ret=colourMap[key]=colourScheme[colourIndex];return colourIndex+=1,colourIndex>=colourScheme.length&&(colourIndex=0),ret},layoutFunction=venn,loss=lossFunction;return chart.wrap=function(_){return arguments.length?(wrap=_,chart):wrap},chart.width=function(_){return arguments.length?(width=_,chart):width},chart.height=function(_){return arguments.length?(height=_,chart):height},chart.padding=function(_){return arguments.length?(padding=_,chart):padding},chart.colours=function(_){return arguments.length?(colours=_,chart):colours},chart.fontSize=function(_){return arguments.length?(fontSize=_,chart):fontSize},chart.duration=function(_){return arguments.length?(duration=_,chart):duration},chart.layoutFunction=function(_){return arguments.length?(layoutFunction=_,chart):layoutFunction},chart.normalize=function(_){return arguments.length?(normalize=_,chart):normalize},chart.styled=function(_){return arguments.length?(styled=_,chart):styled},chart.orientation=function(_){return arguments.length?(orientation=_,chart):orientation},chart.orientationOrder=function(_){return arguments.length?(orientationOrder=_,chart):orientationOrder},chart.lossFunction=function(_){return arguments.length?(loss=_,chart):loss},chart}function wrapText(circles,labeller){return function(){for(var joined,text=d3Selection.select(this),data=text.datum(),width=circles[data.sets[0]].radius||50,label=labeller(data)||"",words=label.split(/\s+/).reverse(),minChars=(label.length+words.length)/3,word=words.pop(),line=[word],lineNumber=0,tspan=text.text(null).append("tspan").text(word);;){if(!(word=words.pop()))break;line.push(word),joined=line.join(" "),tspan.text(joined),joined.length>minChars&&tspan.node().getComputedTextLength()>width&&(line.pop(),tspan.text(line.join(" ")),line=[word],tspan=text.append("tspan").text(word),lineNumber++)}var initial=.35-1.1*lineNumber/2,x=text.attr("x"),y=text.attr("y");text.selectAll("tspan").attr("x",x).attr("y",y).attr("dy",function(d,i){return initial+1.1*i+"em"})}}function circleMargin(current,interior,exterior){var i,m,margin=interior[0].radius-distance(interior[0],current);for(i=1;i<interior.length;++i)(m=interior[i].radius-distance(interior[i],current))<=margin&&(margin=m);for(i=0;i<exterior.length;++i)(m=distance(exterior[i],current)-exterior[i].radius)<=margin&&(margin=m);return margin}function computeTextCentre(interior,exterior){var i,points=[];for(i=0;i<interior.length;++i){var c=interior[i];points.push({x:c.x,y:c.y}),points.push({x:c.x+c.radius/2,y:c.y}),points.push({x:c.x-c.radius/2,y:c.y}),points.push({x:c.x,y:c.y+c.radius/2}),points.push({x:c.x,y:c.y-c.radius/2})}var initial=points[0],margin=circleMargin(points[0],interior,exterior);for(i=1;i<points.length;++i){var m=circleMargin(points[i],interior,exterior);m>=margin&&(initial=points[i],margin=m)}var solution=nelderMead(function(p){return-1*circleMargin({x:p[0],y:p[1]},interior,exterior)},[initial.x,initial.y],{maxIterations:500,minErrorDelta:1e-10}).x,ret={x:solution[0],y:solution[1]},valid=!0;for(i=0;i<interior.length;++i)if(distance(ret,interior[i])>interior[i].radius){valid=!1;break}for(i=0;i<exterior.length;++i)if(distance(ret,exterior[i])<exterior[i].radius){valid=!1;break}if(!valid)if(1==interior.length)ret={x:interior[0].x,y:interior[0].y};else{var areaStats={};intersectionArea(interior,areaStats),ret=0===areaStats.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==areaStats.arcs.length?{x:areaStats.arcs[0].circle.x,y:areaStats.arcs[0].circle.y}:exterior.length?computeTextCentre(interior,[]):getCenter(areaStats.arcs.map(function(a){return a.p1}))}return ret}function getOverlappingCircles(circles){var ret={},circleids=[];for(var circleid in circles)circleids.push(circleid),ret[circleid]=[];for(var i=0;i<circleids.length;i++)for(var a=circles[circleids[i]],j=i+1;j<circleids.length;++j){var b=circles[circleids[j]],d=distance(a,b);d+b.radius<=a.radius+1e-10?ret[circleids[j]].push(circleids[i]):d+a.radius<=b.radius+1e-10&&ret[circleids[i]].push(circleids[j])}return ret}function computeTextCentres(circles,areas){for(var ret={},overlapped=getOverlappingCircles(circles),i=0;i<areas.length;++i){for(var area=areas[i].sets,areaids={},exclude={},j=0;j<area.length;++j){areaids[area[j]]=!0;for(var overlaps=overlapped[area[j]],k=0;k<overlaps.length;++k)exclude[overlaps[k]]=!0}var interior=[],exterior=[];for(var setid in circles)setid in areaids?interior.push(circles[setid]):setid in exclude||exterior.push(circles[setid]);var centre=computeTextCentre(interior,exterior);ret[area]=centre,centre.disjoint&&areas[i].size}return ret}function sortAreas(div,relativeTo){function shouldExclude(sets){for(var i=0;i<sets.length;++i)if(!(sets[i]in exclude))return!1;return!0}for(var overlaps=getOverlappingCircles(div.selectAll("svg").datum()),exclude={},i=0;i<relativeTo.sets.length;++i){var check=relativeTo.sets[i];for(var setid in overlaps)for(var overlap=overlaps[setid],j=0;j<overlap.length;++j)if(overlap[j]==check){exclude[setid]=!0;break}}div.selectAll("g").sort(function(a,b){return a.sets.length!=b.sets.length?a.sets.length-b.sets.length:a==relativeTo?shouldExclude(b.sets)?-1:1:b==relativeTo?shouldExclude(a.sets)?1:-1:b.size-a.size})}function circlePath(x,y,r){var ret=[];return ret.push("\nM",x,y),ret.push("\nm",-r,0),ret.push("\na",r,r,0,1,0,2*r,0),ret.push("\na",r,r,0,1,0,2*-r,0),ret.join(" ")}function circleFromPath(path){var tokens=path.split(" ");return{x:parseFloat(tokens[1]),y:parseFloat(tokens[2]),radius:-parseFloat(tokens[4])}}function intersectionAreaPath(circles){var stats={};intersectionArea(circles,stats);var arcs=stats.arcs;if(0===arcs.length)return"M 0 0";if(1==arcs.length){var circle=arcs[0].circle;return circlePath(circle.x,circle.y,circle.radius)}for(var ret=["\nM",arcs[0].p2.x,arcs[0].p2.y],i=0;i<arcs.length;++i){var arc=arcs[i],r=arc.circle.radius,wide=arc.width>r;ret.push("\nA",r,r,0,wide?1:0,1,arc.p1.x,arc.p1.y)}return ret.join(" ")}var SMALL=1e-10,SMALL$1=1e-10;exports.intersectionArea=intersectionArea,exports.circleCircleIntersection=circleCircleIntersection,exports.circleOverlap=circleOverlap,exports.circleArea=circleArea,exports.distance=distance,exports.venn=venn,exports.greedyLayout=greedyLayout,exports.scaleSolution=scaleSolution,exports.normalizeSolution=normalizeSolution,exports.bestInitialLayout=bestInitialLayout,exports.lossFunction=lossFunction,exports.disjointCluster=disjointCluster,exports.distanceFromIntersectArea=distanceFromIntersectArea,exports.VennDiagram=VennDiagram,exports.wrapText=wrapText,exports.computeTextCentres=computeTextCentres,exports.computeTextCentre=computeTextCentre,exports.sortAreas=sortAreas,exports.circlePath=circlePath,exports.circleFromPath=circleFromPath,exports.intersectionAreaPath=intersectionAreaPath,Object.defineProperty(exports,"__esModule",{value:!0})})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_1__select__=__webpack_require__(379);__webpack_exports__.a=function(name){return Object(__WEBPACK_IMPORTED_MODULE_1__select__.a)(Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name).call(document.documentElement))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__selector__=__webpack_require__(372);__webpack_exports__.a=function(select){"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_1__selector__.a)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__selectorAll__=__webpack_require__(380);__webpack_exports__.a=function(select){"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_1__selectorAll__.a)(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__matcher__=__webpack_require__(381);__webpack_exports__.a=function(match){"function"!=typeof match&&(match=Object(__WEBPACK_IMPORTED_MODULE_1__matcher__.a)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new __WEBPACK_IMPORTED_MODULE_0__index__.a(subgroups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new __WEBPACK_IMPORTED_MODULE_1__enter__.a(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue={},groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=keyPrefix+key.call(node,node.__data__,i,group),keyValue in nodeByKeyValue?exit[i]=node:nodeByKeyValue[keyValue]=node);for(i=0;i<dataLength;++i)keyValue=keyPrefix+key.call(parent,data[i],i,data),(node=nodeByKeyValue[keyValue])?(update[i]=node,node.__data__=data[i],nodeByKeyValue[keyValue]=null):enter[i]=new __WEBPACK_IMPORTED_MODULE_1__enter__.a(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue[keyValues[i]]===node&&(exit[i]=node)}var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69),__WEBPACK_IMPORTED_MODULE_1__enter__=__webpack_require__(382),__WEBPACK_IMPORTED_MODULE_2__constant__=__webpack_require__(406),keyPrefix="$";__webpack_exports__.a=function(value,key){if(!value)return data=new Array(this.size()),j=-1,this.each(function(d){data[++j]=d}),data;var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=Object(__WEBPACK_IMPORTED_MODULE_2__constant__.a)(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=value.call(parent,parent&&parent.__data__,j,parents),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return update=new __WEBPACK_IMPORTED_MODULE_0__index__.a(update,parents),update._enter=enter,update._exit=exit,update}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(x){return function(){return x}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sparse__=__webpack_require__(383),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(69);__webpack_exports__.a=function(){return new __WEBPACK_IMPORTED_MODULE_1__index__.a(this._exit||this._groups.map(__WEBPACK_IMPORTED_MODULE_0__sparse__.a),this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69);__webpack_exports__.a=function(selection){for(var groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new __WEBPACK_IMPORTED_MODULE_0__index__.a(merges,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&next!==node.nextSibling&&next.parentNode.insertBefore(node,next),next=node);return this}},function(module,__webpack_exports__,__webpack_require__){"use strict";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(69);__webpack_exports__.a=function(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new __WEBPACK_IMPORTED_MODULE_0__index__.a(sortgroups,this._parents).order()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var nodes=new Array(this.size()),i=-1;return this.each(function(){nodes[++i]=this}),nodes}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){var size=0;return this.each(function(){++size}),size}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(){return!this.node()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this}},function(module,__webpack_exports__,__webpack_require__){"use strict";function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}var __WEBPACK_IMPORTED_MODULE_0__namespace__=__webpack_require__(370);__webpack_exports__.a=function(name,value){var fullname=Object(__WEBPACK_IMPORTED_MODULE_0__namespace__.a)(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}__webpack_exports__.a=function(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]}},function(module,__webpack_exports__,__webpack_require__){"use strict";function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}},__webpack_exports__.a=function(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}__webpack_exports__.a=function(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent}},function(module,__webpack_exports__,__webpack_require__){"use strict";function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}__webpack_exports__.a=function(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML}},function(module,__webpack_exports__,__webpack_require__){"use strict";function raise(){this.nextSibling&&this.parentNode.appendChild(this)}__webpack_exports__.a=function(){return this.each(raise)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}__webpack_exports__.a=function(){return this.each(lower)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360);__webpack_exports__.a=function(name){var create="function"==typeof name?name:Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name);return this.select(function(){return this.appendChild(create.apply(this,arguments))})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function constantNull(){return null}var __WEBPACK_IMPORTED_MODULE_0__creator__=__webpack_require__(360),__WEBPACK_IMPORTED_MODULE_1__selector__=__webpack_require__(372);__webpack_exports__.a=function(name,before){var create="function"==typeof name?name:Object(__WEBPACK_IMPORTED_MODULE_0__creator__.a)(name),select=null==before?constantNull:"function"==typeof before?before:Object(__WEBPACK_IMPORTED_MODULE_1__selector__.a)(before);return this.select(function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}__webpack_exports__.a=function(){return this.each(remove)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function selection_cloneShallow(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function selection_cloneDeep(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}__webpack_exports__.a=function(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=function(value){return arguments.length?this.property("__data__",value):this.node().__data__}},function(module,__webpack_exports__,__webpack_require__){"use strict";function dispatchEvent(node,type,params){var window=Object(__WEBPACK_IMPORTED_MODULE_0__window__.a)(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}var __WEBPACK_IMPORTED_MODULE_0__window__=__webpack_require__(373);__webpack_exports__.a=function(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}__webpack_exports__.a=local;var nextId=0;Local.prototype=local.prototype={constructor:Local,get:function(node){for(var id=this._;!(id in node);)if(!(node=node.parentNode))return;return node[id]},set:function(node,value){return node[this._]=value},remove:function(node){return this._ in node&&delete node[this._]},toString:function(){return this._}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node){var event=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)();return event.changedTouches&&(event=event.changedTouches[0]),Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,event)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__selection_index__=__webpack_require__(69);__webpack_exports__.a=function(selector){return"string"==typeof selector?new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([document.querySelectorAll(selector)],[document.documentElement]):new __WEBPACK_IMPORTED_MODULE_0__selection_index__.a([null==selector?[]:selector],__WEBPACK_IMPORTED_MODULE_0__selection_index__.c)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node,touches,identifier){arguments.length<3&&(identifier=touches,touches=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)().changedTouches);for(var touch,i=0,n=touches?touches.length:0;i<n;++i)if((touch=touches[i]).identifier===identifier)return Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,touch);return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__sourceEvent__=__webpack_require__(375),__WEBPACK_IMPORTED_MODULE_1__point__=__webpack_require__(361);__webpack_exports__.a=function(node,touches){null==touches&&(touches=Object(__WEBPACK_IMPORTED_MODULE_0__sourceEvent__.a)().touches);for(var i=0,n=touches?touches.length:0,points=new Array(n);i<n;++i)points[i]=Object(__WEBPACK_IMPORTED_MODULE_1__point__.a)(node,touches[i]);return points}},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_1__src_transition_index__=(__webpack_require__(436),__webpack_require__(169));__webpack_require__.d(__webpack_exports__,"transition",function(){return __WEBPACK_IMPORTED_MODULE_1__src_transition_index__.b});var __WEBPACK_IMPORTED_MODULE_2__src_active__=__webpack_require__(457);__webpack_require__.d(__webpack_exports__,"active",function(){return __WEBPACK_IMPORTED_MODULE_2__src_active__.a});var __WEBPACK_IMPORTED_MODULE_3__src_interrupt__=__webpack_require__(385);__webpack_require__.d(__webpack_exports__,"interrupt",function(){return __WEBPACK_IMPORTED_MODULE_3__src_interrupt__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__interrupt__=__webpack_require__(437),__WEBPACK_IMPORTED_MODULE_2__transition__=__webpack_require__(440);__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype.interrupt=__WEBPACK_IMPORTED_MODULE_1__interrupt__.a,__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype.transition=__WEBPACK_IMPORTED_MODULE_2__transition__.a},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__interrupt__=__webpack_require__(385);__webpack_exports__.a=function(name){return this.each(function(){Object(__WEBPACK_IMPORTED_MODULE_0__interrupt__.a)(this,name)})}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__src_dispatch__=__webpack_require__(439);__webpack_require__.d(__webpack_exports__,"a",function(){return __WEBPACK_IMPORTED_MODULE_0__src_dispatch__.a})},function(module,__webpack_exports__,__webpack_require__){"use strict";function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _)throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map(function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:name}})}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name:name,value:callback}),type}var noop={value:function(){}};Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=parseTypenames(typename+"",_),i=-1,n=T.length;{if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t}},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}},__webpack_exports__.a=dispatch},function(module,__webpack_exports__,__webpack_require__){"use strict";function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))return defaultTiming.time=Object(__WEBPACK_IMPORTED_MODULE_3_d3_timer__.now)(),defaultTiming;return timing}var __WEBPACK_IMPORTED_MODULE_0__transition_index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__transition_schedule__=__webpack_require__(70),__WEBPACK_IMPORTED_MODULE_2_d3_ease__=__webpack_require__(173),__WEBPACK_IMPORTED_MODULE_3_d3_timer__=__webpack_require__(170),defaultTiming={time:null,delay:0,duration:250,ease:__WEBPACK_IMPORTED_MODULE_2_d3_ease__.easeCubicInOut};__webpack_exports__.a=function(name){var id,timing;name instanceof __WEBPACK_IMPORTED_MODULE_0__transition_index__.a?(id=name._id,name=name._name):(id=Object(__WEBPACK_IMPORTED_MODULE_0__transition_index__.c)(),(timing=defaultTiming).time=Object(__WEBPACK_IMPORTED_MODULE_3_d3_timer__.now)(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&Object(__WEBPACK_IMPORTED_MODULE_1__transition_schedule__.e)(node,name,id,i,group,timing||inherit(node,id));return new __WEBPACK_IMPORTED_MODULE_0__transition_index__.a(groups,this._parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,interpolate,value1){var value00,interpolate0;return function(){var value0=this.getAttribute(name);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}function attrConstantNS(fullname,interpolate,value1){var value00,interpolate0;return function(){var value0=this.getAttributeNS(fullname.space,fullname.local);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}function attrFunction(name,interpolate,value){var value00,value10,interpolate0;return function(){var value0,value1=value(this);return null==value1?void this.removeAttribute(name):(value0=this.getAttribute(name),value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1))}}function attrFunctionNS(fullname,interpolate,value){var value00,value10,interpolate0;return function(){var value0,value1=value(this);return null==value1?void this.removeAttributeNS(fullname.space,fullname.local):(value0=this.getAttributeNS(fullname.space,fullname.local),value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1))}}var __WEBPACK_IMPORTED_MODULE_0_d3_interpolate__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_1_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2__tween__=__webpack_require__(362),__WEBPACK_IMPORTED_MODULE_3__interpolate__=__webpack_require__(386);__webpack_exports__.a=function(name,value){var fullname=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.namespace)(name),i="transform"===fullname?__WEBPACK_IMPORTED_MODULE_0_d3_interpolate__.interpolateTransformSvg:__WEBPACK_IMPORTED_MODULE_3__interpolate__.a;return this.attrTween(name,"function"==typeof value?(fullname.local?attrFunctionNS:attrFunction)(fullname,i,Object(__WEBPACK_IMPORTED_MODULE_2__tween__.b)(this,"attr."+name,value)):null==value?(fullname.local?attrRemoveNS:attrRemove)(fullname):(fullname.local?attrConstantNS:attrConstant)(fullname,i,value+""))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function attrTweenNS(fullname,value){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.setAttributeNS(fullname.space,fullname.local,i(t))}}return tween._value=value,tween}function attrTween(name,value){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.setAttribute(name,i(t))}}return tween._value=value,tween}var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72);__webpack_exports__.a=function(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.namespace)(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function delayFunction(id,value){return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.g)(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.g)(this,id).delay=value}}var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).delay}},function(module,__webpack_exports__,__webpack_require__){"use strict";function durationFunction(id,value){return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).duration=value}}var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).duration}},function(module,__webpack_exports__,__webpack_require__){"use strict";function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.h)(this,id).ease=value}}var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);__webpack_exports__.a=function(value){var id=this._id;return arguments.length?this.each(easeConstant(id,value)):Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).ease}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169);__webpack_exports__.a=function(match){"function"!=typeof match&&(match=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.matcher)(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,this._parents,this._name,this._id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(169);__webpack_exports__.a=function(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new __WEBPACK_IMPORTED_MODULE_0__index__.a(merges,this._parents,this._name,this._id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function start(name){return(name+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t})}function onFunction(id,name,listener){var on0,on1,sit=start(name)?__WEBPACK_IMPORTED_MODULE_0__schedule__.g:__WEBPACK_IMPORTED_MODULE_0__schedule__.h;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}var __WEBPACK_IMPORTED_MODULE_0__schedule__=__webpack_require__(70);__webpack_exports__.a=function(name,listener){var id=this._id;return arguments.length<2?Object(__WEBPACK_IMPORTED_MODULE_0__schedule__.f)(this.node(),id).on.on(name):this.each(onFunction(id,name,listener))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}__webpack_exports__.a=function(){return this.on("end.remove",removeFunction(this._id))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_2__schedule__=__webpack_require__(70);__webpack_exports__.a=function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selector)(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.e)(subgroup[i],name,id,i,subgroup,Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.f)(node,id)));return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,this._parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_1__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_2__schedule__=__webpack_require__(70);__webpack_exports__.a=function(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=Object(__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selectorAll)(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.f)(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&Object(__WEBPACK_IMPORTED_MODULE_2__schedule__.e)(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new __WEBPACK_IMPORTED_MODULE_1__index__.a(subgroups,parents,name,id)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_d3_selection__=__webpack_require__(72),Selection=__WEBPACK_IMPORTED_MODULE_0_d3_selection__.selection.prototype.constructor;__webpack_exports__.a=function(){return new Selection(this._groups,this._parents)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function styleRemove(name,interpolate){var value00,value10,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name),value1=(this.style.removeProperty(name),Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name));return value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1)}}function styleRemoveEnd(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,interpolate,value1){var value00,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name);return value0===value1?null:value0===value00?interpolate0:interpolate0=interpolate(value00=value0,value1)}}function styleFunction(name,interpolate,value){var value00,value10,interpolate0;return function(){var value0=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name),value1=value(this);return null==value1&&(this.style.removeProperty(name),value1=Object(__WEBPACK_IMPORTED_MODULE_1_d3_selection__.style)(this,name)),value0===value1?null:value0===value00&&value1===value10?interpolate0:interpolate0=interpolate(value00=value0,value10=value1)}}var __WEBPACK_IMPORTED_MODULE_0_d3_interpolate__=__webpack_require__(117),__WEBPACK_IMPORTED_MODULE_1_d3_selection__=__webpack_require__(72),__WEBPACK_IMPORTED_MODULE_2__tween__=__webpack_require__(362),__WEBPACK_IMPORTED_MODULE_3__interpolate__=__webpack_require__(386);__webpack_exports__.a=function(name,value,priority){var i="transform"==(name+="")?__WEBPACK_IMPORTED_MODULE_0_d3_interpolate__.interpolateTransformCss:__WEBPACK_IMPORTED_MODULE_3__interpolate__.a;return null==value?this.styleTween(name,styleRemove(name,i)).on("end.style."+name,styleRemoveEnd(name)):this.styleTween(name,"function"==typeof value?styleFunction(name,i,Object(__WEBPACK_IMPORTED_MODULE_2__tween__.b)(this,"style."+name,value)):styleConstant(name,i,value+""),priority)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function styleTween(name,value,priority){function tween(){var node=this,i=value.apply(node,arguments);return i&&function(t){node.style.setProperty(name,i(t),priority)}}return tween._value=value,tween}__webpack_exports__.a=function(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,styleTween(name,value,null==priority?"":priority))}},function(module,__webpack_exports__,__webpack_require__){"use strict";function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}var __WEBPACK_IMPORTED_MODULE_0__tween__=__webpack_require__(362);__webpack_exports__.a=function(value){return this.tween("text","function"==typeof value?textFunction(Object(__WEBPACK_IMPORTED_MODULE_0__tween__.b)(this,"text",value)):textConstant(null==value?"":value+""))}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__schedule__=__webpack_require__(70);__webpack_exports__.a=function(){for(var name=this._name,id0=this._id,id1=Object(__WEBPACK_IMPORTED_MODULE_0__index__.c)(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=Object(__WEBPACK_IMPORTED_MODULE_1__schedule__.f)(node,id0);Object(__WEBPACK_IMPORTED_MODULE_1__schedule__.e)(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new __WEBPACK_IMPORTED_MODULE_0__index__.a(groups,this._parents,name,id1)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__transition_index__=__webpack_require__(169),__WEBPACK_IMPORTED_MODULE_1__transition_schedule__=__webpack_require__(70),root=[null];__webpack_exports__.a=function(node,name){var schedule,i,schedules=node.__transition;if(schedules){name=null==name?null:name+"";for(i in schedules)if((schedule=schedules[i]).state>__WEBPACK_IMPORTED_MODULE_1__transition_schedule__.c&&schedule.name===name)return new __WEBPACK_IMPORTED_MODULE_0__transition_index__.a([[node]],root,name,+i)}return null}},function(module,exports,__webpack_require__){function getAttrs(cfg){var defaultCfg=Global.shape.venn,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),pathAttrs}function getHollowAttrs(cfg){var defaultCfg=Global.shape.hollowVenn,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=Util.PathUtil,Venn=Shape.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(type,cfg){var lineWidth=cfg.lineWidth||1;return"hollow"===type?{lineWidth:lineWidth+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("venn","venn",{draw:function(cfg,container){var origin=cfg.origin._origin,path=origin.path,attrs=getAttrs(cfg),segments=PathUtil.parsePathString(path);return container.addShape("path",{attrs:Util.mix(attrs,{path:segments})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("venn","hollow",{draw:function(cfg,container){var origin=cfg.origin._origin,path=origin.path,attrs=getHollowAttrs(cfg),segments=PathUtil.parsePathString(path);return container.addShape("path",{attrs:Util.mix(attrs,{path:segments})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),module.exports=Venn},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var GeomBase=__webpack_require__(20),Util=__webpack_require__(0),SizeMixin=__webpack_require__(357);__webpack_require__(460);var Violin=function(_GeomBase){function Violin(cfg){var _this;return _this=_GeomBase.call(this,cfg)||this,Util.assign(_assertThisInitialized(_assertThisInitialized(_this)),SizeMixin),_this}_inheritsLoose(Violin,_GeomBase);var _proto=Violin.prototype;return _proto.getDefaultCfg=function(){var cfg=_GeomBase.prototype.getDefaultCfg.call(this);return cfg.type="violin",cfg.shapeType="violin",cfg.generatePoints=!0,cfg},_proto.createShapePointsCfg=function(obj){var self=this,cfg=_GeomBase.prototype.createShapePointsCfg.call(this,obj);cfg.size=self.getNormalizedSize(obj);var sizeField=self.get("_sizeField");return cfg._size=obj._origin[sizeField],cfg},_proto.clearInner=function(){_GeomBase.prototype.clearInner.call(this),this.set("defaultSize",null)},_proto._initAttrs=function(){var self=this,attrOptions=self.get("attrOptions"),sizeField=attrOptions.size?attrOptions.size.field:self.get("_sizeField")?self.get("_sizeField"):"size";self.set("_sizeField",sizeField),delete attrOptions.size,_GeomBase.prototype._initAttrs.call(this)},Violin}(GeomBase),ViolinDodge=function(_Violin){function ViolinDodge(){return _Violin.apply(this,arguments)||this}return _inheritsLoose(ViolinDodge,_Violin),ViolinDodge.prototype.getDefaultCfg=function(){var cfg=_Violin.prototype.getDefaultCfg.call(this);return cfg.hasDefaultAdjust=!0,cfg.adjusts=[{type:"dodge"}],cfg},ViolinDodge}(Violin);Violin.Dodge=ViolinDodge,GeomBase.Violin=Violin,GeomBase.ViolinDodge=ViolinDodge,module.exports=Violin},function(module,exports,__webpack_require__){function getAttrs(cfg){var defaultCfg=Global.shape.venn,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addFillAttrs(pathAttrs,cfg),cfg.color&&(pathAttrs.stroke=pathAttrs.stroke||cfg.color),pathAttrs}function getHollowAttrs(cfg){var defaultCfg=Global.shape.hollowVenn,pathAttrs=Util.mix({},defaultCfg,cfg.style);return ShapeUtil.addStrokeAttrs(pathAttrs,cfg),pathAttrs}function getViolinPath(points){for(var path=[],i=0;i<points.length;i++){var point=points[i];if(point){var action=0===i?"M":"L";path.push([action,point.x,point.y])}}var first=points[0];return first&&(path.push(["L",first.x,first.y]),path.push(["z"])),path}function getSmoothViolinPath(points){for(var half=points.length/2,leftPoints=[],rightPoints=[],i=0;i<points.length;i++)i<half?leftPoints.push(points[i]):rightPoints.push(points[i]);var leftPath=PathUtil.getSplinePath(leftPoints,!1),rightPath=PathUtil.getSplinePath(rightPoints,!1);rightPoints.length&&leftPath.push(["L",rightPoints[0].x,rightPoints[0].y]),rightPath.shift();var path=leftPath.concat(rightPath);return leftPoints.length&&path.push(["L",leftPoints[0].x,leftPoints[0].y]),path.push(["z"]),path}function normalizeSize(arr){var max=Math.max.apply(null,arr);return arr.map(function(num){return num/max})}var Util=__webpack_require__(0),Shape=__webpack_require__(18),ShapeUtil=__webpack_require__(45),Global=__webpack_require__(7),PathUtil=__webpack_require__(22),Violin=Shape.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(pointInfo){var radius=pointInfo.size/2,points=[],sizeArr=normalizeSize(pointInfo._size);return Util.each(pointInfo.y,function(y,index){var offset=sizeArr[index]*radius,isMin=0===index,isMax=index===pointInfo.y.length-1;points.push({isMin:isMin,isMax:isMax,x:pointInfo.x-offset,y:y}),points.unshift({isMin:isMin,isMax:isMax,x:pointInfo.x+offset,y:y})}),points},getActiveCfg:function(type,cfg){var lineWidth=cfg.lineWidth||1;return"hollow"===type?{lineWidth:lineWidth+1}:{fillOpacity:(cfg.fillOpacity||cfg.opacity||1)-.08}},getSelectedCfg:function(type,cfg){return cfg&&cfg.style?cfg.style:this.getActiveCfg(type,cfg)}});Shape.registerShape("violin","violin",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("violin","smooth",{draw:function(cfg,container){var attrs=getAttrs(cfg),path=getSmoothViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getAttrs(cfg))}}),Shape.registerShape("violin","hollow",{draw:function(cfg,container){var attrs=getHollowAttrs(cfg),path=getViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getHollowAttrs(cfg))}}),Shape.registerShape("violin","smoothHollow",{draw:function(cfg,container){var attrs=getHollowAttrs(cfg),path=getSmoothViolinPath(cfg.points);return path=this.parsePath(path),container.addShape("path",{attrs:Util.mix(attrs,{path:path})})},getMarkerCfg:function(cfg){return Util.mix({symbol:"circle",radius:4},getHollowAttrs(cfg))}}),module.exports=Violin},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),Chart=__webpack_require__(147),Facets={};Facets.Rect=__webpack_require__(387),Facets.List=__webpack_require__(388),Facets.Circle=__webpack_require__(462),Facets.Tree=__webpack_require__(463),Facets.Mirror=__webpack_require__(464),Facets.Matrix=__webpack_require__(465),Chart.prototype.facet=function(type,cfg){var cls=Facets[Util.upperFirst(type)];if(!cls)throw new Error("Not support such type of facets as: "+type);var preFacets=this.get("facets");preFacets&&preFacets.destroy(),cfg.chart=this;var facets=new cls(cfg);this.set("facets",facets)},module.exports=Facets},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function getPoint(center,r,angle){return{x:center.x+r*Math.cos(angle),y:center.y+r*Math.sin(angle)}}var Base=__webpack_require__(363),Circle=function(_Base){function Circle(){return _Base.apply(this,arguments)||this}_inheritsLoose(Circle,_Base);var _proto=Circle.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="circle",cfg},_proto.getRegion=function(count,index){var avgAngle=2*Math.PI/count,angle=-1*Math.PI/2+avgAngle*index,facetR=.5/(1+1/Math.sin(avgAngle/2)),center={x:.5,y:.5},middle=getPoint(center,.5-facetR,angle),startAngle=5*Math.PI/4,endAngle=1*Math.PI/4;return{start:getPoint(middle,facetR,startAngle),end:getPoint(middle,facetR,endAngle)}},_proto.generateFacets=function(data){var self=this,fields=self.fields,field=fields[0];if(!field)throw"Please specify for the field for facet!";var values=self.getFieldValues(field,data),count=values.length,rst=[];return values.forEach(function(value,index){var conditions=[{field:field,value:value,values:values}],filter=self.getFilter(conditions),subData=data.filter(filter),facet={type:self.type,colValue:value,colField:field,colIndex:index,cols:count,rows:1,rowIndex:0,data:subData,region:self.getRegion(count,index)};rst.push(facet)}),rst},Circle}(Base);module.exports=Circle},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Base=__webpack_require__(363),Util=__webpack_require__(0),assign=Util.assign,Tree=function(_Base){function Tree(){return _Base.apply(this,arguments)||this}_inheritsLoose(Tree,_Base);var _proto=Tree.prototype;return _proto.getDefaultCfg=function(){var cfg=_Base.prototype.getDefaultCfg.call(this);return cfg.type="tree",cfg.line={lineWidth:1,stroke:"#ddd"},cfg.lineSmooth=!1,cfg},_proto.generateFacets=function(data){var self=this;if(!self.fields.length)throw"Please specify for the fields for facet!";var rst=[],root=self.getRootFacet(data);return rst.push(root),root.children=self.getChildFacets(data,1,rst),self.setRegion(rst),rst},_proto.getRootFacet=function(data){var self=this;return{type:self.type,rows:self.getRows(),rowIndex:0,colIndex:0,colValue:self.rootTitle,data:data}},_proto.getRows=function(){return this.fields.length+1},_proto.getChildFacets=function(data,level,arr){var self=this,fields=self.fields;if(!(fields.length<level)){var rst=[],field=fields[level-1],values=self.getFieldValues(field,data);return values.forEach(function(value,index){var conditions=[{field:field,value:value,values:values}],filter=self.getFilter(conditions),subData=data.filter(filter);if(subData.length){var facet={type:self.type,colValue:value,colField:field,colIndex:index,rows:self.getRows(),rowIndex:level,data:subData,children:self.getChildFacets(subData,level+1,arr)};rst.push(facet),arr.push(facet)}}),rst}},_proto.setRegion=function(facets){var self=this;self.forceColIndex(facets),facets.forEach(function(facet){facet.region=self.getRegion(facet.rows,facet.cols,facet.colIndex,facet.rowIndex)})},_proto.forceColIndex=function(facets){var self=this,leafs=[],index=0;facets.forEach(function(facet){self.isLeaf(facet)&&(leafs.push(facet),facet.colIndex=index,index++)}),leafs.forEach(function(facet){facet.cols=leafs.length});for(var maxLevel=self.fields.length,i=maxLevel-1;i>=0;i--)for(var levelFacets=self.getFacetsByLevel(facets,i),j=0;j<levelFacets.length;j++){var facet=levelFacets[j];self.isLeaf(facet)||(facet.originColIndex=facet.colIndex,facet.colIndex=self.getRegionIndex(facet.children),facet.cols=leafs.length)}},_proto.getFacetsByLevel=function(facets,level){var rst=[];return facets.forEach(function(facet){facet.rowIndex===level&&rst.push(facet)}),rst},_proto.getRegion=function(rows,cols,xIndex,yIndex){var xWidth=1/cols,yWidth=1/rows,start={x:xWidth*xIndex,y:yWidth*yIndex};return{start:start,end:{x:start.x+xWidth,y:start.y+2*yWidth/3}}},_proto.getRegionIndex=function(children){var first=children[0];return(children[children.length-1].colIndex-first.colIndex)/2+first.colIndex},_proto.isLeaf=function(facet){return!facet.children||!facet.children.length},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.originColIndex&&0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},_proto.onPaint=function(){_Base.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},_proto.drawLines=function(facets,group){var self=this,lineGroup=group.addGroup();facets.forEach(function(facet){if(!self.isLeaf(facet)){var children=facet.children;self._addFacetLines(facet,children,lineGroup)}})},_proto._addFacetLines=function(facet,children,group){var self=this,view=facet.view,region=view.getViewRegion(),start={x:region.start.x+(region.end.x-region.start.x)/2,y:region.start.y};children.forEach(function(subFacet){var subRegion=subFacet.view.getViewRegion(),end={x:subRegion.start.x+(subRegion.end.x-subRegion.start.x)/2,y:subRegion.end.y},middle1={x:start.x,y:start.y+(end.y-start.y)/2},middle2={x:end.x,y:middle1.y};self._drawLine([start,middle1,middle2,end],group)})},_proto._getPath=function(points){var self=this,path=[];return self.lineSmooth?(path.push(["M",points[0].x,points[0].y]),path.push(["C",points[1].x,points[1].y,points[2].x,points[2].y,points[3].x,points[3].y])):points.forEach(function(point,index){0===index?path.push(["M",point.x,point.y]):path.push(["L",point.x,point.y])}),path},_proto._drawLine=function(points,group){var self=this,path=self._getPath(points),line=self.line;group.addShape("path",{attrs:assign({path:path},line)})},Tree}(Base);module.exports=Tree},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var List=__webpack_require__(388),Mirror=function(_List){function Mirror(){return _List.apply(this,arguments)||this}_inheritsLoose(Mirror,_List);var _proto=Mirror.prototype;return _proto.getDefaultCfg=function(){var cfg=_List.prototype.getDefaultCfg.call(this);return cfg.type="mirror",this.transpose=!1,cfg},_proto.init=function(){var self=this;self.transpose?(self.cols=2,self.rows=1):(self.cols=1,self.rows=2),_List.prototype.init.call(this)},_proto.beforeProcessView=function(view,facet){this.transpose?facet.colIndex%2==0?view.coord().transpose().scale(-1,1):view.coord().transpose():facet.rowIndex%2!=0&&view.coord().scale(1,-1)},_proto.renderTitle=function(view,facet){this.transpose?this.drawColTitle(view,facet):this.drawRowTitle(view,facet)},_proto.setXAxis=function(xField,axes,facet){1!==facet.colIndex&&1!==facet.rowIndex||(axes[xField].label=null,axes[xField].title=null)},_proto.setYAxis=function(){},Mirror}(List);module.exports=Mirror},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Rect=__webpack_require__(387),Matrix=function(_Rect){function Matrix(){return _Rect.apply(this,arguments)||this}_inheritsLoose(Matrix,_Rect);var _proto=Matrix.prototype;return _proto.getDefaultCfg=function(){var cfg=_Rect.prototype.getDefaultCfg.call(this);return cfg.type="matrix",cfg.showTitle=!1,cfg},_proto.generateFacets=function(data){for(var self=this,fields=self.fields,rows=fields.length,cols=rows,rst=[],i=0;i<cols;i++)for(var colField=fields[i],j=0;j<rows;j++){var rowField=fields[j],facet={type:self.type,colValue:colField,rowValue:rowField,colField:colField,rowField:rowField,colIndex:i,rowIndex:j,cols:cols,rows:rows,data:data,region:self.getRegion(rows,cols,i,j)};rst.push(facet)}return rst},_proto.setXAxis=function(xField,axes,facet){facet.rowIndex!==facet.rows-1&&(axes[xField].title=null,axes[xField].label=null)},_proto.setYAxis=function(yField,axes,facet){0!==facet.colIndex&&(axes[yField].title=null,axes[yField].label=null)},Matrix}(Rect);module.exports=Matrix},function(module,exports,__webpack_require__){var G2=__webpack_require__(172),Chart=__webpack_require__(147),Util=__webpack_require__(0),Interactions={Base:__webpack_require__(171),Brush:__webpack_require__(467),Drag:__webpack_require__(468),ScrollBar:__webpack_require__(470),ShapeSelect:__webpack_require__(472),Slider:__webpack_require__(473),Zoom:__webpack_require__(475)};G2._Interactions={},G2.registerInteraction=function(type,constructor){G2._Interactions[type]=constructor},G2.getInteraction=function(type){return G2._Interactions[type]},Chart.prototype.getInteractions=function(){var me=this;return me._interactions||(me._interactions={}),me._interactions},Chart.prototype._setInteraction=function(type,interaction){var me=this,interactions=me.getInteractions();interactions[type]&&interactions[type]!==interaction&&interactions[type].destroy(),interactions[type]=interaction},Chart.prototype.clearInteraction=function(type){var me=this,interactions=me.getInteractions();type?(interactions[type]&&(interactions[type]._reset(),interactions[type].destroy()),delete interactions[type]):Util.each(interactions,function(interaction,key){interaction._reset(),interaction.destroy(),delete interactions[key]})},Chart.prototype.interact=Chart.prototype.interaction=function(type,cfg){var me=this,Ctor=G2.getInteraction(type),interaction=new Ctor(cfg,me);return me._setInteraction(type,interaction),me},G2.registerInteraction("brush",Interactions.Brush),G2.registerInteraction("Brush",Interactions.Brush),G2.registerInteraction("drag",Interactions.Drag),G2.registerInteraction("Drag",Interactions.Drag),G2.registerInteraction("zoom",Interactions.Zoom),G2.registerInteraction("Zoom",Interactions.Zoom),G2.registerInteraction("scroll-bar",Interactions.ScrollBar),G2.registerInteraction("ScrollBar",Interactions.ScrollBar),G2.registerInteraction("shape-select",Interactions.ShapeSelect),G2.registerInteraction("ShapeSelect",Interactions.ShapeSelect),G2.registerInteraction("slider",Interactions.Slider),G2.registerInteraction("Slider",Interactions.Slider),module.exports=Interactions},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),BRUSH_TYPES=["X","Y","XY","POLYGON"],DEFAULT_TYPE="XY",Brush=function(_Interaction){function Brush(cfg,view){var _this;_this=_Interaction.call(this,cfg,view)||this;var me=_assertThisInitialized(_assertThisInitialized(_this));me.filter=!me.draggable,me.type=me.type.toUpperCase(),me.chart=view,-1===BRUSH_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE);var canvas=me.canvas;if(canvas){var plotRange;canvas.get("children").map(function(child){return"plotBack"===child.get("type")?(plotRange=child.get("plotRange"),!1):child}),me.plot={start:plotRange.bl,end:plotRange.tr}}if(view){var coord=view.get("coord");me.plot={start:coord.start,end:coord.end};var xScales=view._getScales("x"),yScales=view._getScales("y");me.xScale=me.xField?xScales[me.xField]:view.getXScale(),me.yScale=me.yField?yScales[me.yField]:view.getYScales()[0]}return _this}_inheritsLoose(Brush,_Interaction);var _proto=Brush.prototype;return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:DEFAULT_TYPE,startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},_proto.start=function(ev){var me=this,canvas=me.canvas,type=me.type,brushShape=me.brushShape;if(type){var startPoint={x:ev.offsetX,y:ev.offsetY};if(startPoint.x){var isInPlot=me.plot&&me.inPlot,canvasDOM=canvas.get("canvasDOM"),pixelRatio=canvas.get("pixelRatio");if(me.selection&&(me.selection=null),me.draggable&&brushShape&&!brushShape.get("destroyed")){if(brushShape.isHit(startPoint.x*pixelRatio,startPoint.y*pixelRatio)){if(canvasDOM.style.cursor="move",me.selection=brushShape,me.dragging=!0,"X"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=0;else if("Y"===type)me.dragoffX=0,me.dragoffY=startPoint.y-brushShape.attr("y");else if("XY"===type)me.dragoffX=startPoint.x-brushShape.attr("x"),me.dragoffY=startPoint.y-brushShape.attr("y");else if("POLYGON"===type){var box=brushShape.getBBox();me.dragoffX=startPoint.x-box.minX,me.dragoffY=startPoint.y-box.minY}me.onDragstart&&me.onDragstart(ev)}me.prePoint=startPoint}if(!me.dragging){me.onBrushstart&&me.onBrushstart(startPoint);var container=me.container;if(isInPlot){var _me$plot=me.plot,start=_me$plot.start,end=_me$plot.end;if(startPoint.x<start.x||startPoint.x>end.x||startPoint.y<end.y||startPoint.y>start.y)return}canvasDOM.style.cursor="crosshair",me.startPoint=startPoint,me.brushShape=null,me.brushing=!0,container?container.clear():(container=canvas.addGroup({zIndex:5}),container.initTransform()),me.container=container,"POLYGON"===type&&(me.polygonPath="M "+startPoint.x+" "+startPoint.y)}}}},_proto.process=function(ev){var me=this,brushing=me.brushing,dragging=me.dragging,type=me.type,plot=me.plot,startPoint=me.startPoint,xScale=me.xScale,yScale=me.yScale,canvas=me.canvas;if(brushing||dragging){var currentPoint={x:ev.offsetX,y:ev.offsetY},canvasDOM=canvas.get("canvasDOM");if(brushing){canvasDOM.style.cursor="crosshair";var start=plot.start,end=plot.end,polygonPath=me.polygonPath,brushShape=me.brushShape,container=me.container;me.plot&&me.inPlot&&(currentPoint=me._limitCoordScope(currentPoint));var rectStartX,rectStartY,rectWidth,rectHeight;"Y"===type?(rectStartX=start.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y,rectWidth=Math.abs(start.x-end.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"X"===type?(rectStartX=currentPoint.x>=startPoint.x?startPoint.x:currentPoint.x,rectStartY=end.y,rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(end.y-start.y)):"XY"===type?(currentPoint.x>=startPoint.x?(rectStartX=startPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y):(rectStartX=currentPoint.x,rectStartY=currentPoint.y>=startPoint.y?startPoint.y:currentPoint.y),rectWidth=Math.abs(startPoint.x-currentPoint.x),rectHeight=Math.abs(startPoint.y-currentPoint.y)):"POLYGON"===type&&(polygonPath+="L "+currentPoint.x+" "+currentPoint.y,me.polygonPath=polygonPath,brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{path:polygonPath})):brushShape=container.addShape("path",{attrs:Util.mix(me.style,{path:polygonPath})})),"POLYGON"!==type&&(brushShape?!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})):brushShape=container.addShape("rect",{attrs:Util.mix(me.style,{x:rectStartX,y:rectStartY,width:rectWidth,height:rectHeight})})),me.brushShape=brushShape}else if(dragging){canvasDOM.style.cursor="move";var selection=me.selection;if(selection&&!selection.get("destroyed"))if("POLYGON"===type){var prePoint=me.prePoint;me.selection.translate(currentPoint.x-prePoint.x,currentPoint.y-prePoint.y)}else me.dragoffX&&selection.attr("x",currentPoint.x-me.dragoffX),me.dragoffY&&selection.attr("y",currentPoint.y-me.dragoffY)}me.prePoint=currentPoint,canvas.draw();var _me$_getSelected=me._getSelected(),data=_me$_getSelected.data,shapes=_me$_getSelected.shapes,xValues=_me$_getSelected.xValues,yValues=_me$_getSelected.yValues,eventObj={data:data,shapes:shapes,x:currentPoint.x,y:currentPoint.y};xScale&&(eventObj[xScale.field]=xValues),yScale&&(eventObj[yScale.field]=yValues),me.onDragmove&&me.onDragmove(eventObj),me.onBrushmove&&me.onBrushmove(eventObj)}},_proto.end=function(ev){var me=this,data=me.data,shapes=me.shapes,xValues=me.xValues,yValues=me.yValues,canvas=me.canvas,type=me.type,startPoint=me.startPoint,chart=me.chart,container=me.container,xScale=me.xScale,yScale=me.yScale,offsetX=ev.offsetX,offsetY=ev.offsetY;if(canvas.get("canvasDOM").style.cursor="default",Math.abs(startPoint.x-offsetX)<=1&&Math.abs(startPoint.y-offsetY)<=1)return me.brushing=!1,void(me.dragging=!1);var eventObj={data:data,shapes:shapes,x:offsetX,y:offsetY};if(xScale&&(eventObj[xScale.field]=xValues),yScale&&(eventObj[yScale.field]=yValues),me.dragging)me.dragging=!1,me.onDragend&&me.onDragend(eventObj);else if(me.brushing){me.brushing=!1;var brushShape=me.brushShape,polygonPath=me.polygonPath;"POLYGON"===type&&(polygonPath+="z",brushShape&&!brushShape.get("destroyed")&&brushShape.attr(Util.mix({},brushShape._attrs,{path:polygonPath})),me.polygonPath=polygonPath,canvas.draw()),me.onBrushend?me.onBrushend(eventObj):chart&&me.filter&&(container.clear(),"X"===type?xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}):"Y"===type?yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1}):(xScale&&chart.filter(xScale.field,function(val){return xValues.indexOf(val)>-1}),yScale&&chart.filter(yScale.field,function(val){return yValues.indexOf(val)>-1})),chart.repaint())}},_proto.reset=function(){var me=this,chart=me.chart,filter=me.filter,brushShape=me.brushShape,canvas=me.canvas;chart&&filter&&(chart.get("options").filters={},chart.repaint()),brushShape&&(brushShape.destroy(),canvas.draw())},_proto._limitCoordScope=function(point){var plot=this.plot,start=plot.start,end=plot.end;return point.x<start.x&&(point.x=start.x),point.x>end.x&&(point.x=end.x),point.y<end.y&&(point.y=end.y),point.y>start.y&&(point.y=start.y),point},_proto._getSelected=function(){var me=this,chart=me.chart,xScale=me.xScale,yScale=me.yScale,brushShape=me.brushShape,canvas=me.canvas,pixelRatio=canvas.get("pixelRatio"),selectedShapes=[],xValues=[],yValues=[],selectedData=[];if(chart){chart.get("geoms").map(function(geom){return geom.getShapes().map(function(shape){var shapeData=shape.get("origin");return Array.isArray(shapeData)||(shapeData=[shapeData]),shapeData.map(function(each){if(brushShape.isHit(each.x*pixelRatio,each.y*pixelRatio)){selectedShapes.push(shape);var origin=each._origin;selectedData.push(origin),xScale&&xValues.push(origin[xScale.field]),yScale&&yValues.push(origin[yScale.field])}return each}),shape}),geom})}return me.shapes=selectedShapes,me.xValues=xValues,me.yValues=yValues,me.data=selectedData,canvas.draw(),{data:selectedData,xValues:xValues,yValues:yValues,shapes:selectedShapes}},Brush}(Interaction);module.exports=Brush},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),filterData=__webpack_require__(469),getColDef=__webpack_require__(377),getLimitRange=__webpack_require__(378),DRAGGING_TYPES=["X","Y","XY"],DEFAULT_TYPE="X",Drag=function(_Interaction){function Drag(cfg,chart){var _this;_this=_Interaction.call(this,cfg,chart)||this;var me=_assertThisInitialized(_assertThisInitialized(_this));me.type=me.type.toUpperCase(),me.chart=chart,me.coord=chart.get("coord");var data=me.data=chart.get("data");filterData(chart);var scales=chart.getYScales(),xScale=chart.getXScale();scales.push(xScale);var scaleController=chart.get("scaleController");return scales.forEach(function(scale){var field=scale.field;me.limitRange[field]=getLimitRange(data,scale);var def=scaleController.defs[field]||{};me.originScaleDefsByField[field]=Util.mix(def,{nice:!!def.nice}),scale.isLinear&&(me.stepByField[field]=(scale.max-scale.min)*me.stepRatio)}),-1===DRAGGING_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE),me._disableTooltip(),_this}_inheritsLoose(Drag,_Interaction);var _proto=Drag.prototype;return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{type:DEFAULT_TYPE,stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},_proto._disableTooltip=function(){var me=this,chart=me.chart;chart.get("tooltipController")&&(me._showTooltip=!0,chart.tooltip(!1))},_proto._enableTooltip=function(ev){var me=this,chart=me.chart;me._showTooltip&&(chart.tooltip(!0),chart.showTooltip(ev))},_proto._applyTranslate=function(scale,offset,total){void 0===offset&&(offset=0);var me=this;scale.isLinear?me._translateLinearScale(scale,offset,total):me._translateCatScale(scale,offset,total)},_proto._translateCatScale=function(scale,offset,total){var me=this,chart=me.chart,type=scale.type,field=scale.field,values=scale.values,ticks=scale.ticks,colDef=getColDef(chart,field),originValues=me.limitRange[field],ratio=offset/total,valueLength=values.length,deltaCount=Math.max(1,Math.abs(parseInt(ratio*valueLength))),firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[valueLength-1]);if(offset>0&&firstIndex>=0){for(var i=0;i<deltaCount&&firstIndex>0;i++)firstIndex-=1,lastIndex-=1;var newValues=originValues.slice(firstIndex,lastIndex+1),newTicks=null;if("timeCat"===type){for(var tickGap=ticks.length>2?ticks[1]-ticks[0]:864e5,_i=ticks[0]-tickGap;_i>=newValues[0];_i-=tickGap)ticks.unshift(_i);newTicks=ticks}chart.scale(field,Util.mix({},colDef,{values:newValues,ticks:newTicks}))}else if(offset<0&&lastIndex<=originValues.length-1){for(var _i2=0;_i2<deltaCount&&lastIndex<originValues.length-1;_i2++)firstIndex+=1,lastIndex+=1;var _newValues=originValues.slice(firstIndex,lastIndex+1),_newTicks=null;if("timeCat"===type){for(var _tickGap=ticks.length>2?ticks[1]-ticks[0]:864e5,_i3=ticks[ticks.length-1]+_tickGap;_i3<=_newValues[_newValues.length-1];_i3+=_tickGap)ticks.push(_i3);_newTicks=ticks}chart.scale(field,Util.mix({},colDef,{values:_newValues,ticks:_newTicks}))}},_proto._translateLinearScale=function(scale,offset,total){var me=this,chart=me.chart,limitRange=me.limitRange,min=scale.min,max=scale.max,field=scale.field;if(min!==limitRange[field].min||max!==limitRange[field].max){var ratio=offset/total,range=max-min,colDef=getColDef(chart,field);chart.scale(field,Util.mix({},colDef,{nice:!1,min:min+ratio*range,max:max+ratio*range}))}},_proto.start=function(ev){var me=this;me.canvas.get("canvasDOM").style.cursor="pointer",me.isDragging=!0,me.previousPoint={x:ev.x,y:ev.y},me._disableTooltip()},_proto.process=function(ev){var me=this;if(me.isDragging){var chart=me.chart,type=me.type,canvas=me.canvas,coord=me.coord,threshold=me.threshold;canvas.get("canvasDOM").style.cursor="move";var previousPoint=me.previousPoint,currentPoint=ev,deltaX=currentPoint.x-previousPoint.x,deltaY=currentPoint.y-previousPoint.y,modified=!1;if(Math.abs(deltaX)>threshold&&type.indexOf("X")>-1){modified=!0;var xScale=chart.getXScale();me._applyTranslate(xScale,xScale.isLinear?-deltaX:deltaX,coord.width)}if(Math.abs(deltaY)>threshold&&type.indexOf("Y")>-1){modified=!0;chart.getYScales().forEach(function(yScale){me._applyTranslate(yScale,currentPoint.y-previousPoint.y,coord.height)})}modified&&(me.previousPoint=currentPoint,chart.repaint())}},_proto.end=function(ev){var me=this;me.isDragging=!1,me.canvas.get("canvasDOM").style.cursor="default",me._enableTooltip(ev)},_proto.reset=function(){var me=this,view=me.view,originScaleDefsByField=me.originScaleDefsByField,scales=view.getYScales(),xScale=view.getXScale();scales.push(xScale),scales.forEach(function(scale){if(scale.isLinear){var field=scale.field;view.scale(field,originScaleDefsByField[field])}}),view.repaint(),me._disableTooltip()},Drag}(Interaction);module.exports=Drag},function(module,exports,__webpack_require__){var Util=__webpack_require__(0),TimeUtil=__webpack_require__(71),getColDefs=__webpack_require__(376);module.exports=function(chart){chart.on("beforeinitgeoms",function(){chart.set("limitInPlot",!0);var data=chart.get("data"),colDefs=getColDefs(chart);if(!colDefs)return data;var geoms=chart.get("geoms"),isSpecialGeom=!1;Util.each(geoms,function(geom){if(-1!==["area","line","path"].indexOf(geom.get("type")))return isSpecialGeom=!0,!1});var fields=[];if(Util.each(colDefs,function(def,key){!isSpecialGeom&&def&&(def.values||def.min||def.max)&&fields.push(key)}),0===fields.length)return data;var geomData=[];Util.each(data,function(obj){var flag=!0;Util.each(fields,function(field){var value=obj[field];if(value){var colDef=colDefs[field];if("timeCat"===colDef.type){var values=colDef.values;Util.isNumber(values[0])&&(value=TimeUtil.toTimeStamp(value))}(colDef.values&&-1===colDef.values.indexOf(value)||colDef.min&&value<colDef.min||colDef.max&&value>colDef.max)&&(flag=!1)}}),flag&&geomData.push(obj)}),chart.set("filteredData",geomData)})}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),getFieldRange=__webpack_require__(471),getLimitRange=__webpack_require__(378),ScrollBar=function(_Interaction){function ScrollBar(cfg,chart){var _this;_this=_Interaction.call(this,cfg,chart)||this;var defaultCfg=_this.getDefaultCfg();return chart.set("_scrollBarCfg",Util.deepMix({},defaultCfg,cfg)),chart.set("_limitRange",{}),chart.get("_horizontalBar")||chart.get("_verticalBar")||_this._renderScrollBars(),_this}_inheritsLoose(ScrollBar,_Interaction);var _proto=ScrollBar.prototype;return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},_proto._renderScrollBars=function(){var chart=this.chart,scrollBarCfg=chart.get("_scrollBarCfg");if(scrollBarCfg){var data=chart.get("data"),plotRange=chart.get("plotRange");plotRange.width=Math.abs(plotRange.br.x-plotRange.bl.x),plotRange.height=Math.abs(plotRange.tl.y-plotRange.bl.y);var backPlot=chart.get("backPlot"),canvas=chart.get("canvas"),canvasHeight=canvas.get("height"),limitRange=chart.get("_limitRange"),type=scrollBarCfg.type;if(type.indexOf("X")>-1){var _scrollBarCfg$xStyle=scrollBarCfg.xStyle,offsetX=_scrollBarCfg$xStyle.offsetX,offsetY=_scrollBarCfg$xStyle.offsetY,lineCap=_scrollBarCfg$xStyle.lineCap,backgroundColor=_scrollBarCfg$xStyle.backgroundColor,fillerColor=_scrollBarCfg$xStyle.fillerColor,size=_scrollBarCfg$xStyle.size,xScale=chart.getXScale(),xLimitRange=limitRange[xScale.field];xLimitRange||(xLimitRange=getLimitRange(data,xScale),limitRange[xScale.field]=xLimitRange);var currentRange=getFieldRange(xScale,xLimitRange,xScale.type),horizontalBar=chart.get("_horizontalBar"),yPos=canvasHeight-size/2+offsetY;if(horizontalBar){horizontalBar.get("children")[1].attr({x1:Math.max(plotRange.bl.x+plotRange.width*currentRange[0]+offsetX,plotRange.bl.x),x2:Math.min(plotRange.bl.x+plotRange.width*currentRange[1]+offsetX,plotRange.br.x)})}else horizontalBar=backPlot.addGroup({className:"horizontalBar"}),horizontalBar.addShape("line",{attrs:{x1:plotRange.bl.x+offsetX,y1:yPos,x2:plotRange.br.x+offsetX,y2:yPos,lineWidth:size,stroke:backgroundColor,lineCap:lineCap}}),horizontalBar.addShape("line",{attrs:{x1:Math.max(plotRange.bl.x+plotRange.width*currentRange[0]+offsetX,plotRange.bl.x),y1:yPos,x2:Math.min(plotRange.bl.x+plotRange.width*currentRange[1]+offsetX,plotRange.br.x),y2:yPos,lineWidth:size,stroke:fillerColor,lineCap:lineCap}}),chart.set("_horizontalBar",horizontalBar)}if(type.indexOf("Y")>-1){var _scrollBarCfg$yStyle=scrollBarCfg.yStyle,_offsetX=_scrollBarCfg$yStyle.offsetX,_offsetY=_scrollBarCfg$yStyle.offsetY,_lineCap=_scrollBarCfg$yStyle.lineCap,_backgroundColor=_scrollBarCfg$yStyle.backgroundColor,_fillerColor=_scrollBarCfg$yStyle.fillerColor,_size=_scrollBarCfg$yStyle.size,yScale=chart.getYScales()[0],yLimitRange=limitRange[yScale.field];yLimitRange||(yLimitRange=getLimitRange(data,yScale),limitRange[yScale.field]=yLimitRange);var _currentRange=getFieldRange(yScale,yLimitRange,yScale.type),verticalBar=chart.get("_verticalBar"),xPos=_size/2+_offsetX;if(verticalBar){verticalBar.get("children")[1].attr({y1:Math.max(plotRange.tl.y+plotRange.height*_currentRange[0]+_offsetY,plotRange.tl.y),y2:Math.min(plotRange.tl.y+plotRange.height*_currentRange[1]+_offsetY,plotRange.bl.y)})}else verticalBar=backPlot.addGroup({className:"verticalBar"}),verticalBar.addShape("line",{attrs:{x1:xPos,y1:plotRange.tl.y+_offsetY,x2:xPos,y2:plotRange.bl.y+_offsetY,lineWidth:_size,stroke:_backgroundColor,lineCap:_lineCap}}),verticalBar.addShape("line",{attrs:{x1:xPos,y1:Math.max(plotRange.tl.y+plotRange.height*_currentRange[0]+_offsetY,plotRange.tl.y),x2:xPos,y2:Math.min(plotRange.tl.y+plotRange.height*_currentRange[1]+_offsetY,plotRange.bl.y),lineWidth:_size,stroke:_fillerColor,lineCap:_lineCap}}),chart.set("_verticalBar",verticalBar)}}},_proto._clear=function(){var chart=this.chart;if(chart){var hBar=chart.get("_horizontalBar"),vBar=chart.get("_verticalBar");hBar&&hBar.remove(!0),vBar&&vBar.remove(!0),chart.set("_horizontalBar",null),chart.set("_verticalBar",null)}},_proto._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var chart=this.chart;chart.on("afterclear",this._onAfterclearOrBeforechangedata),chart.on("beforechangedata",this._onAfterclearOrBeforechangedata),chart.on("afterclearinner",this._onAfterclearinner),chart.on("afterdrawgeoms",this._onAfterdrawgeoms)},_proto._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},_proto._onAfterclearinner=function(){this._clear()},_proto._onAfterdrawgeoms=function(){this._renderScrollBars()},_proto._clearEvents=function(){var chart=this.chart;chart&&(chart.off("afterclear",this._onAfterclearOrBeforechangedata),chart.off("beforechangedata",this._onAfterclearOrBeforechangedata),chart.off("afterclearinner",this._onAfterclearinner),chart.off("afterdrawgeoms",this._onAfterdrawgeoms))},_proto.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},ScrollBar}(Interaction);module.exports=ScrollBar},function(module,exports){module.exports=function(scale,limitRange,type){if(!scale)return[0,1];var minRatio=0,maxRatio=0;if("linear"===type){var min=limitRange.min,max=limitRange.max,range=max-min;minRatio=(scale.min-min)/range,maxRatio=(scale.max-min)/range}else{var originValues=limitRange,values=scale.values,firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[values.length-1]);minRatio=firstIndex/(originValues.length-1),maxRatio=lastIndex/(originValues.length-1)}return[minRatio,maxRatio]}},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function getOriginalAttrs(attrs,styles){var origin={};for(var style in styles)origin[style]=attrs[style];return origin}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),Select=function(_Interaction){function Select(){return _Interaction.apply(this,arguments)||this}_inheritsLoose(Select,_Interaction);var _proto=Select.prototype;return _proto.getDefaultCfg=function(){var defaultCfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},defaultCfg,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},_proto.start=function(ev){var selectedShape,self=this,chart=self.view,unSelectedShapes=[];if(chart.eachShape(function(obj,shape){shape.isPointInPath(ev.x,ev.y)?selectedShape=shape:unSelectedShapes.push(shape)}),!selectedShape)return void self.reset();if(selectedShape.get("_selected")){if(!self.cancelable)return;self.reset()}else{var selectStyle=self.selectStyle,unSelectStyle=self.unSelectStyle,originAttrs=getOriginalAttrs(selectedShape.attr(),selectedShape);selectedShape.set("_originAttrs",originAttrs),selectedShape.attr(selectStyle),Util.each(unSelectedShapes,function(child){var originAttrs=child.get("_originAttrs");originAttrs&&child.attr(originAttrs),child.set("_selected",!1),unSelectStyle&&(originAttrs=getOriginalAttrs(child.attr(),unSelectStyle),child.set("_originAttrs",originAttrs),child.attr(unSelectStyle))}),selectedShape.set("_selected",!0),self.selectedShape=selectedShape,self.canvas.draw()}},_proto.end=function(ev){var selectedShape=this.selectedShape;selectedShape&&!selectedShape.get("destroyed")&&selectedShape.get("origin")&&(ev.data=selectedShape.get("origin")._origin,ev.shapeInfo=selectedShape.get("origin"),ev.shape=selectedShape,ev.selected=!!selectedShape.get("_selected"))},_proto.reset=function(){var self=this;if(self.selectedShape){var chart=self.view,geom=chart.get("geoms")[0],container=geom.get("container").get("children")[0],children=container.get("children");Util.each(children,function(child){var originAttrs=child.get("_originAttrs");originAttrs&&(child._attrs=originAttrs,child.set("_originAttrs",null)),child.set("_selected",!1)}),self.canvas.draw()}},Select}(Interaction);module.exports=Select},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Range=__webpack_require__(474),Chart=__webpack_require__(147),Util=__webpack_require__(0),G=__webpack_require__(16),Global=__webpack_require__(7),Interaction=__webpack_require__(171),getColDef=__webpack_require__(377),getColDefs=__webpack_require__(376),Canvas=G.Canvas,DomUtil=Util.DomUtil,isNumber=Util.isNumber,Slider=function(_Interaction){function Slider(cfg,chart){var _this;_this=_Interaction.call(this,cfg,chart)||this;var me=_assertThisInitialized(_assertThisInitialized(_this));return me._initContainer(),me._initStyle(),me.render(),_this}_inheritsLoose(Slider,_Interaction);var _proto=Slider.prototype;return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:Global.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},_proto._initContainer=function(){var me=this,container=me.container;if(!container)throw new Error("Please specify the container for the Slider!");Util.isString(container)?me.domContainer=document.getElementById(container):me.domContainer=container},_proto.forceFit=function(){var me=this;if(me&&!me.destroyed){var width=DomUtil.getWidth(me.domContainer),height=me.height;if(width!==me.domWidth){var canvas=me.canvas;canvas.changeSize(width,height),me.bgChart&&me.bgChart.changeWidth(width),canvas.clear(),me._initWidth(),me._initSlider(),me._bindEvent(),canvas.draw()}}},_proto._initForceFitEvent=function(){var me=this,timer=setTimeout(Util.wrapBehavior(me,"forceFit"),200);clearTimeout(me.resizeTimer),me.resizeTimer=timer},_proto._initStyle=function(){var me=this;me.handleStyle=Util.mix({width:me.height,height:me.height},me.handleStyle),"auto"===me.width&&window.addEventListener("resize",Util.wrapBehavior(me,"_initForceFitEvent"))},_proto._initWidth=function(){var width,me=this;width="auto"===me.width?DomUtil.getWidth(me.domContainer):me.width,me.domWidth=width;var padding=Util.toAllPadding(me.padding);"horizontal"===me.layout?(me.plotWidth=width-padding[1]-padding[3],me.plotPadding=padding[3],me.plotHeight=me.height):"vertical"===me.layout&&(me.plotWidth=me.width,me.plotHeight=me.height-padding[0]-padding[2],me.plotPadding=padding[0])},_proto._initCanvas=function(){var me=this,width=me.domWidth,height=me.height,canvas=new Canvas({width:width,height:height,containerDOM:me.domContainer,capture:!1}),node=canvas.get("el");node.style.position="absolute",node.style.top=0,node.style.left=0,node.style.zIndex=3,me.canvas=canvas},_proto._initBackground=function(){var _Util$deepMix,me=this,chart=this.chart,geom=chart.getAllGeoms[0],data=me.data=me.data||chart.get("data"),xScale=chart.getXScale(),xAxis=me.xAxis||xScale.field,yAxis=me.yAxis||chart.getYScales()[0].field,scales=Util.deepMix((_Util$deepMix={},_Util$deepMix[""+xAxis]={range:[0,1]},_Util$deepMix),getColDefs(chart),me.scales);if(delete scales[xAxis].min,delete scales[xAxis].max,!data)throw new Error("Please specify the data!");if(!xAxis)throw new Error("Please specify the xAxis!");if(!yAxis)throw new Error("Please specify the yAxis!");var backgroundChart=me.backgroundChart,type=backgroundChart.type||geom.get("type"),color=backgroundChart.color||"grey";Util.isArray(type)||(type=[type]);var padding=Util.toAllPadding(me.padding),bgChart=new Chart({container:me.container,width:me.domWidth,height:me.height,padding:[0,padding[1],0,padding[3]],animate:!1});bgChart.source(data),bgChart.scale(scales),bgChart.axis(!1),bgChart.tooltip(!1),bgChart.legend(!1),Util.each(type,function(eachType){bgChart[eachType]().position(xAxis+"*"+yAxis).color(color).opacity(1)}),bgChart.render(),me.bgChart=bgChart,me.scale="horizontal"===me.layout?bgChart.getXScale():bgChart.getYScales()[0],"vertical"===me.layout&&bgChart.destroy()},_proto._initRange=function(){var me=this,startRadio=me.startRadio,endRadio=me.endRadio,start=me._startValue,end=me._endValue,scale=me.scale,min=0,max=1;isNumber(startRadio)?min=startRadio:start&&(min=scale.scale(scale.translate(start))),isNumber(endRadio)?max=endRadio:end&&(max=scale.scale(scale.translate(end)));var minSpan=me.minSpan,maxSpan=me.maxSpan,totalSpan=0;if("time"===scale.type||"timeCat"===scale.type){var values=scale.values,firstValue=values[0];totalSpan=values[values.length-1]-firstValue}else scale.isLinear&&(totalSpan=scale.max-scale.min);totalSpan&&minSpan&&(me.minRange=minSpan/totalSpan*100),totalSpan&&maxSpan&&(me.maxRange=maxSpan/totalSpan*100);var range=[100*min,100*max];return me.range=range,range},_proto._getHandleValue=function(type){var me=this,range=me.range,min=range[0]/100,max=range[1]/100,scale=me.scale;return"min"===type?me._startValue?me._startValue:scale.invert(min):me._endValue?me._endValue:scale.invert(max)},_proto._initSlider=function(){var me=this,canvas=me.canvas,range=me._initRange(),scale=me.scale,rangeElement=canvas.addGroup(Range,{middleAttr:me.fillerStyle,range:range,minRange:me.minRange,maxRange:me.maxRange,layout:me.layout,width:me.plotWidth,height:me.plotHeight,backgroundStyle:me.backgroundStyle,textStyle:me.textStyle,handleStyle:me.handleStyle,minText:scale.getText(me._getHandleValue("min")),maxText:scale.getText(me._getHandleValue("max"))});"horizontal"===me.layout?rangeElement.translate(me.plotPadding,0):"vertical"===me.layout&&rangeElement.translate(0,me.plotPadding),me.rangeElement=rangeElement},_proto._updateElement=function(minRatio,maxRatio){var me=this,chart=me.chart,scale=me.scale,rangeElement=me.rangeElement,field=scale.field,minTextElement=rangeElement.get("minTextElement"),maxTextElement=rangeElement.get("maxTextElement"),min=scale.invert(minRatio),max=scale.invert(maxRatio),minText=scale.getText(min),maxText=scale.getText(max);minTextElement.attr("text",minText),maxTextElement.attr("text",maxText),me._startValue=minText,me._endValue=maxText,me.onChange&&me.onChange({startText:minText,endText:maxText,startValue:min,endValue:max,startRadio:minRatio,endRadio:maxRatio}),chart.scale(field,Util.mix({},getColDef(chart,field),{nice:!1,min:min,max:max})),chart.repaint()},_proto._bindEvent=function(){var me=this;me.rangeElement.on("sliderchange",function(ev){var range=ev.range,minRatio=range[0]/100,maxRatio=range[1]/100;me._updateElement(minRatio,maxRatio)})},_proto.clear=function(){var me=this;me.canvas.clear(),me.bgChart&&me.bgChart.destroy(),me.bgChart=null,me.scale=null,me.canvas.draw()},_proto.repaint=function(){var me=this;me.clear(),me.render()},_proto.render=function(){var me=this;me._initWidth(),me._initCanvas(),me._initBackground(),me._initSlider(),me._bindEvent(),me.canvas.draw()},_proto.destroy=function(){var me=this;clearTimeout(me.resizeTimer),me.rangeElement.off("sliderchange"),me.bgChart&&me.bgChart.destroy(),me.canvas.destroy();for(var container=me.domContainer;container.hasChildNodes();)container.removeChild(container.firstChild);window.removeEventListener("resize",Util.getWrapBehavior(me,"_initForceFitEvent")),me.destroyed=!0},Slider}(Interaction);module.exports=Slider},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}var Util=__webpack_require__(0),G=__webpack_require__(16),Group=G.Group,DomUtil=Util.DomUtil,Range=function(_Group){function Range(){return _Group.apply(this,arguments)||this}_inheritsLoose(Range,_Group);var _proto=Range.prototype;return _proto.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_proto._initHandle=function(type){var text,handleIcon,triggerCursor,self=this,handle=self.addGroup(),layout=self.get("layout"),handleStyle=self.get("handleStyle"),img=handleStyle.img,iconWidth=handleStyle.width,iconHeight=handleStyle.height;if("horizontal"===layout){var _iconWidth=handleStyle.width;triggerCursor="ew-resize",handleIcon=handle.addShape("Image",{attrs:{x:-_iconWidth/2,y:0,width:_iconWidth,height:iconHeight,img:img,cursor:triggerCursor}}),text=handle.addShape("Text",{attrs:Util.mix({x:"min"===type?-(_iconWidth/2+5):_iconWidth/2+5,y:iconHeight/2,textAlign:"min"===type?"end":"start",textBaseline:"middle",text:"min"===type?this.get("minText"):this.get("maxText"),cursor:triggerCursor},this.get("textStyle"))})}else triggerCursor="ns-resize",handleIcon=handle.addShape("Image",{attrs:{x:0,y:-iconHeight/2,width:iconWidth,height:iconHeight,img:img,cursor:triggerCursor}}),text=handle.addShape("Text",{attrs:Util.mix({x:iconWidth/2,y:"min"===type?iconHeight/2+5:-(iconHeight/2+5),textAlign:"center",textBaseline:"middle",text:"min"===type?this.get("minText"):this.get("maxText"),cursor:triggerCursor},this.get("textStyle"))});return this.set(type+"TextElement",text),this.set(type+"IconElement",handleIcon),handle},_proto._initSliderBackground=function(){var backgroundElement=this.addGroup();return backgroundElement.initTransform(),backgroundElement.translate(0,0),backgroundElement.addShape("Rect",{attrs:Util.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),backgroundElement},_proto._beforeRenderUI=function(){var backgroundElement=this._initSliderBackground(),minHandleElement=this._initHandle("min"),maxHandleElement=this._initHandle("max"),middleHandleElement=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",middleHandleElement),this.set("minHandleElement",minHandleElement),this.set("maxHandleElement",maxHandleElement),this.set("backgroundElement",backgroundElement),backgroundElement.set("zIndex",0),middleHandleElement.set("zIndex",1),minHandleElement.set("zIndex",2),maxHandleElement.set("zIndex",2),middleHandleElement.attr("cursor","move"),this.sort()},_proto._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_proto._transform=function(layout){var range=this.get("range"),minRatio=range[0]/100,maxRatio=range[1]/100,width=this.get("width"),height=this.get("height"),minHandleElement=this.get("minHandleElement"),maxHandleElement=this.get("maxHandleElement"),middleHandleElement=this.get("middleHandleElement");minHandleElement.resetMatrix?(minHandleElement.resetMatrix(),maxHandleElement.resetMatrix()):(minHandleElement.initTransform(),maxHandleElement.initTransform()),"horizontal"===layout?(middleHandleElement.attr({x:width*minRatio,y:0,width:(maxRatio-minRatio)*width,height:height}),minHandleElement.translate(minRatio*width,0),maxHandleElement.translate(maxRatio*width,0)):(middleHandleElement.attr({x:0,y:height*(1-maxRatio),width:width,height:(maxRatio-minRatio)*height}),minHandleElement.translate(0,(1-minRatio)*height),maxHandleElement.translate(0,(1-maxRatio)*height))},_proto._renderHorizontal=function(){this._transform("horizontal")},_proto._renderVertical=function(){this._transform("vertical")},_proto._bindUI=function(){this.on("mousedown",Util.wrapBehavior(this,"_onMouseDown"))},_proto._isElement=function(target,name){var element=this.get(name);if(target===element)return!0;if(element.isGroup){return element.get("children").indexOf(target)>-1}return!1},_proto._getRange=function(diff,range){var rst=diff+range;return rst=rst>100?100:rst,rst=rst<0?0:rst},_proto._limitRange=function(diff,limit,range){range[0]=this._getRange(diff,range[0]),range[1]=range[0]+limit,range[1]>100&&(range[1]=100,range[0]=range[1]-limit)},_proto._updateStatus=function(dim,ev){var totalLength="x"===dim?this.get("width"):this.get("height");dim=Util.upperFirst(dim);var diffStashRange,range=this.get("range"),page=this.get("page"+dim),currentTarget=this.get("currentTarget"),rangeStash=this.get("rangeStash"),layout=this.get("layout"),sign="vertical"===layout?-1:1,currentPage=ev["page"+dim],diffPage=currentPage-page,diffRange=diffPage/totalLength*100*sign,minRange=this.get("minRange"),maxRange=this.get("maxRange");range[1]<=range[0]?(this._isElement(currentTarget,"minHandleElement")||this._isElement(currentTarget,"maxHandleElement"))&&(range[0]=this._getRange(diffRange,range[0]),range[1]=this._getRange(diffRange,range[0])):(this._isElement(currentTarget,"minHandleElement")&&(range[0]=this._getRange(diffRange,range[0]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range)),this._isElement(currentTarget,"maxHandleElement")&&(range[1]=this._getRange(diffRange,range[1]),minRange&&range[1]-range[0]<=minRange&&this._limitRange(diffRange,minRange,range),maxRange&&range[1]-range[0]>=maxRange&&this._limitRange(diffRange,maxRange,range))),this._isElement(currentTarget,"middleHandleElement")&&(diffStashRange=rangeStash[1]-rangeStash[0],this._limitRange(diffRange,diffStashRange,range)),this.emit("sliderchange",{range:range}),this.set("page"+dim,currentPage),this._renderUI(),this.get("canvas").draw()},_proto._onMouseDown=function(ev){var currentTarget=ev.currentTarget,originEvent=ev.event,range=this.get("range");originEvent.stopPropagation(),originEvent.preventDefault(),this.set("pageX",originEvent.pageX),this.set("pageY",originEvent.pageY),this.set("currentTarget",currentTarget),this.set("rangeStash",[range[0],range[1]]),this._bindCanvasEvents()},_proto._bindCanvasEvents=function(){var containerDOM=this.get("canvas").get("containerDOM");this.onMouseMoveListener=DomUtil.addEventListener(containerDOM,"mousemove",Util.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=DomUtil.addEventListener(containerDOM,"mouseup",Util.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=DomUtil.addEventListener(containerDOM,"mouseleave",Util.wrapBehavior(this,"_onCanvasMouseUp"))},_proto._onCanvasMouseMove=function(ev){"horizontal"===this.get("layout")?this._updateStatus("x",ev):this._updateStatus("y",ev)},_proto._onCanvasMouseUp=function(){this._removeDocumentEvents()},_proto._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},Range}(Group);module.exports=Range},function(module,exports,__webpack_require__){function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var Util=__webpack_require__(0),Interaction=__webpack_require__(171),getColDef=__webpack_require__(377),getLimitRange=__webpack_require__(378),ZOOMING_TYPES=["X","Y","XY"],DEFAULT_TYPE="X",Zoom=function(_Interaction){function Zoom(cfg,chart){var _this;_this=_Interaction.call(this,cfg,chart)||this;var me=_assertThisInitialized(_assertThisInitialized(_this));me.chart=chart,me.type=me.type.toUpperCase();var data=me.data=chart.get("data"),scales=chart.getYScales(),xScale=chart.getXScale();scales.push(xScale);var scaleController=chart.get("scaleController");return scales.forEach(function(scale){var field=scale.field,def=scaleController.defs[field]||{};me.limitRange[field]=getLimitRange(data,scale),me.originScaleDefsByField[field]=Util.mix(def,{nice:!!def.nice}),scale.isLinear?me.stepByField[field]=(scale.max-scale.min)*me.stepRatio:me.stepByField[field]=me.catStep}),-1===ZOOMING_TYPES.indexOf(me.type)&&(me.type=DEFAULT_TYPE),_this}_inheritsLoose(Zoom,_Interaction);var _proto=Zoom.prototype;return _proto.getDefaultCfg=function(){var cfg=_Interaction.prototype.getDefaultCfg.call(this);return Util.mix({},cfg,{processEvent:"mousewheel",type:DEFAULT_TYPE,stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},_proto._applyScale=function(scale,delta,minOffset,center){void 0===minOffset&&(minOffset=0);var me=this,chart=me.chart,stepByField=me.stepByField;if(scale.isLinear){var min=scale.min,max=scale.max,field=scale.field,maxOffset=1-minOffset,step=stepByField[field]*delta,newMin=min+step*minOffset,newMax=max-step*maxOffset;if(newMax>newMin){var colDef=getColDef(chart,field);chart.scale(field,Util.mix({},colDef,{nice:!1,min:newMin,max:newMax}))}}else{var _field=scale.field,values=scale.values,_chart=me.chart,coord=_chart.get("coord"),_colDef=getColDef(_chart,_field),originValues=me.limitRange[_field],originValuesLen=originValues.length,maxScale=me.maxScale,minScale=me.minScale,minCount=originValuesLen/maxScale,maxCount=originValuesLen/minScale,valuesLength=values.length,offsetPoint=coord.invertPoint(center),percent=offsetPoint.x,deltaCount=valuesLength-delta*this.catStep,minDelta=parseInt(deltaCount*percent),maxDelta=deltaCount+minDelta;if(delta>0&&valuesLength>=minCount){var _min=minDelta,_max=maxDelta;maxDelta>valuesLength&&(_max=valuesLength-1,_min=valuesLength-deltaCount);var newValues=values.slice(_min,_max);_chart.scale(_field,Util.mix({},_colDef,{values:newValues}))}else if(delta<0&&valuesLength<=maxCount){var firstIndex=originValues.indexOf(values[0]),lastIndex=originValues.indexOf(values[valuesLength-1]),minIndex=Math.max(0,firstIndex-minDelta),maxIndex=Math.min(lastIndex+maxDelta,originValuesLen),_newValues=originValues.slice(minIndex,maxIndex);_chart.scale(_field,Util.mix({},_colDef,{values:_newValues}))}}},_proto.process=function(ev){var me=this,chart=me.chart,type=me.type,coord=chart.get("coord"),deltaY=ev.deltaY,offsetPoint=coord.invertPoint(ev);if(deltaY){me.onZoom&&me.onZoom(deltaY,offsetPoint,me),deltaY>0?me.onZoomin&&me.onZoomin(deltaY,offsetPoint,me):me.onZoomout&&me.onZoomout(deltaY,offsetPoint,me);var delta=deltaY/Math.abs(deltaY);if(type.indexOf("X")>-1&&me._applyScale(chart.getXScale(),delta,offsetPoint.x,ev),type.indexOf("Y")>-1){chart.getYScales().forEach(function(yScale){me._applyScale(yScale,delta,offsetPoint.y,ev)})}}chart.repaint()},_proto.reset=function(){var me=this,view=me.view,originScaleDefsByField=me.originScaleDefsByField,scales=view.getYScales(),xScale=view.getXScale();scales.push(xScale),scales.forEach(function(scale){if(scale.isLinear){var field=scale.field;view.scale(field,originScaleDefsByField[field])}}),view.repaint()},Zoom}(Interaction);module.exports=Zoom}])})}});